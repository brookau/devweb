!function(global,factory){"object"==typeof module&&"object"==typeof module.exports?module.exports=global.document?factory(global,!0):function(w){if(!w.document)throw new Error("jQuery requires a window with a document");return factory(w)}:factory(global)}("undefined"!=typeof window?window:this,function(window,noGlobal){function isArraylike(obj){var length=obj.length,type=jQuery.type(obj);return"function"===type||jQuery.isWindow(obj)?!1:1===obj.nodeType&&length?!0:"array"===type||0===length||"number"==typeof length&&length>0&&length-1 in obj}function winnow(elements,qualifier,not){if(jQuery.isFunction(qualifier))return jQuery.grep(elements,function(elem,i){return!!qualifier.call(elem,i,elem)!==not});if(qualifier.nodeType)return jQuery.grep(elements,function(elem){return elem===qualifier!==not});if("string"==typeof qualifier){if(risSimple.test(qualifier))return jQuery.filter(qualifier,elements,not);qualifier=jQuery.filter(qualifier,elements)}return jQuery.grep(elements,function(elem){return jQuery.inArray(elem,qualifier)>=0!==not})}function sibling(cur,dir){do cur=cur[dir];while(cur&&1!==cur.nodeType);return cur}function createOptions(options){var object=optionsCache[options]={};return jQuery.each(options.match(rnotwhite)||[],function(_,flag){object[flag]=!0}),object}function detach(){document.addEventListener?(document.removeEventListener("DOMContentLoaded",completed,!1),window.removeEventListener("load",completed,!1)):(document.detachEvent("onreadystatechange",completed),window.detachEvent("onload",completed))}function completed(){(document.addEventListener||"load"===event.type||"complete"===document.readyState)&&(detach(),jQuery.ready())}function dataAttr(elem,key,data){if(void 0===data&&1===elem.nodeType){var name="data-"+key.replace(rmultiDash,"-$1").toLowerCase();if(data=elem.getAttribute(name),"string"==typeof data){try{data="true"===data?!0:"false"===data?!1:"null"===data?null:+data+""===data?+data:rbrace.test(data)?jQuery.parseJSON(data):data}catch(e){}jQuery.data(elem,key,data)}else data=void 0}return data}function isEmptyDataObject(obj){var name;for(name in obj)if(("data"!==name||!jQuery.isEmptyObject(obj[name]))&&"toJSON"!==name)return!1;return!0}function internalData(elem,name,data,pvt){if(jQuery.acceptData(elem)){var ret,thisCache,internalKey=jQuery.expando,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[internalKey]:elem[internalKey]&&internalKey;if(id&&cache[id]&&(pvt||cache[id].data)||void 0!==data||"string"!=typeof name)return id||(id=isNode?elem[internalKey]=deletedIds.pop()||jQuery.guid++:internalKey),cache[id]||(cache[id]=isNode?{}:{toJSON:jQuery.noop}),("object"==typeof name||"function"==typeof name)&&(pvt?cache[id]=jQuery.extend(cache[id],name):cache[id].data=jQuery.extend(cache[id].data,name)),thisCache=cache[id],pvt||(thisCache.data||(thisCache.data={}),thisCache=thisCache.data),void 0!==data&&(thisCache[jQuery.camelCase(name)]=data),"string"==typeof name?(ret=thisCache[name],null==ret&&(ret=thisCache[jQuery.camelCase(name)])):ret=thisCache,ret}}function internalRemoveData(elem,name,pvt){if(jQuery.acceptData(elem)){var thisCache,i,isNode=elem.nodeType,cache=isNode?jQuery.cache:elem,id=isNode?elem[jQuery.expando]:jQuery.expando;if(cache[id]){if(name&&(thisCache=pvt?cache[id]:cache[id].data)){jQuery.isArray(name)?name=name.concat(jQuery.map(name,jQuery.camelCase)):name in thisCache?name=[name]:(name=jQuery.camelCase(name),name=name in thisCache?[name]:name.split(" ")),i=name.length;for(;i--;)delete thisCache[name[i]];if(pvt?!isEmptyDataObject(thisCache):!jQuery.isEmptyObject(thisCache))return}(pvt||(delete cache[id].data,isEmptyDataObject(cache[id])))&&(isNode?jQuery.cleanData([elem],!0):support.deleteExpando||cache!=cache.window?delete cache[id]:cache[id]=null)}}}function returnTrue(){return!0}function returnFalse(){return!1}function safeActiveElement(){try{return document.activeElement}catch(err){}}function createSafeFragment(document){var list=nodeNames.split("|"),safeFrag=document.createDocumentFragment();if(safeFrag.createElement)for(;list.length;)safeFrag.createElement(list.pop());return safeFrag}function getAll(context,tag){var elems,elem,i=0,found=typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag||"*"):typeof context.querySelectorAll!==strundefined?context.querySelectorAll(tag||"*"):void 0;if(!found)for(found=[],elems=context.childNodes||context;null!=(elem=elems[i]);i++)!tag||jQuery.nodeName(elem,tag)?found.push(elem):jQuery.merge(found,getAll(elem,tag));return void 0===tag||tag&&jQuery.nodeName(context,tag)?jQuery.merge([context],found):found}function fixDefaultChecked(elem){rcheckableType.test(elem.type)&&(elem.defaultChecked=elem.checked)}function manipulationTarget(elem,content){return jQuery.nodeName(elem,"table")&&jQuery.nodeName(11!==content.nodeType?content:content.firstChild,"tr")?elem.getElementsByTagName("tbody")[0]||elem.appendChild(elem.ownerDocument.createElement("tbody")):elem}function disableScript(elem){return elem.type=(null!==jQuery.find.attr(elem,"type"))+"/"+elem.type,elem}function restoreScript(elem){var match=rscriptTypeMasked.exec(elem.type);return match?elem.type=match[1]:elem.removeAttribute("type"),elem}function setGlobalEval(elems,refElements){for(var elem,i=0;null!=(elem=elems[i]);i++)jQuery._data(elem,"globalEval",!refElements||jQuery._data(refElements[i],"globalEval"))}function cloneCopyEvent(src,dest){if(1===dest.nodeType&&jQuery.hasData(src)){var type,i,l,oldData=jQuery._data(src),curData=jQuery._data(dest,oldData),events=oldData.events;if(events){delete curData.handle,curData.events={};for(type in events)for(i=0,l=events[type].length;l>i;i++)jQuery.event.add(dest,type,events[type][i])}curData.data&&(curData.data=jQuery.extend({},curData.data))}}function fixCloneNodeIssues(src,dest){var nodeName,e,data;if(1===dest.nodeType){if(nodeName=dest.nodeName.toLowerCase(),!support.noCloneEvent&&dest[jQuery.expando]){data=jQuery._data(dest);for(e in data.events)jQuery.removeEvent(dest,e,data.handle);dest.removeAttribute(jQuery.expando)}"script"===nodeName&&dest.text!==src.text?(disableScript(dest).text=src.text,restoreScript(dest)):"object"===nodeName?(dest.parentNode&&(dest.outerHTML=src.outerHTML),support.html5Clone&&src.innerHTML&&!jQuery.trim(dest.innerHTML)&&(dest.innerHTML=src.innerHTML)):"input"===nodeName&&rcheckableType.test(src.type)?(dest.defaultChecked=dest.checked=src.checked,dest.value!==src.value&&(dest.value=src.value)):"option"===nodeName?dest.defaultSelected=dest.selected=src.defaultSelected:("input"===nodeName||"textarea"===nodeName)&&(dest.defaultValue=src.defaultValue)}}function actualDisplay(name,doc){var elem=jQuery(doc.createElement(name)).appendTo(doc.body),display=window.getDefaultComputedStyle?window.getDefaultComputedStyle(elem[0]).display:jQuery.css(elem[0],"display");return elem.detach(),display}function defaultDisplay(nodeName){var doc=document,display=elemdisplay[nodeName];return display||(display=actualDisplay(nodeName,doc),"none"!==display&&display||(iframe=(iframe||jQuery("<iframe frameborder='0' width='0' height='0'/>")).appendTo(doc.documentElement),doc=(iframe[0].contentWindow||iframe[0].contentDocument).document,doc.write(),doc.close(),display=actualDisplay(nodeName,doc),iframe.detach()),elemdisplay[nodeName]=display),display}function addGetHookIf(conditionFn,hookFn){return{get:function(){var condition=conditionFn();if(null!=condition)return condition?void delete this.get:(this.get=hookFn).apply(this,arguments)}}}function vendorPropName(style,name){if(name in style)return name;for(var capName=name.charAt(0).toUpperCase()+name.slice(1),origName=name,i=cssPrefixes.length;i--;)if(name=cssPrefixes[i]+capName,name in style)return name;return origName}function showHide(elements,show){for(var display,elem,hidden,values=[],index=0,length=elements.length;length>index;index++)elem=elements[index],elem.style&&(values[index]=jQuery._data(elem,"olddisplay"),display=elem.style.display,show?(values[index]||"none"!==display||(elem.style.display=""),""===elem.style.display&&isHidden(elem)&&(values[index]=jQuery._data(elem,"olddisplay",defaultDisplay(elem.nodeName)))):values[index]||(hidden=isHidden(elem),(display&&"none"!==display||!hidden)&&jQuery._data(elem,"olddisplay",hidden?display:jQuery.css(elem,"display"))));for(index=0;length>index;index++)elem=elements[index],elem.style&&(show&&"none"!==elem.style.display&&""!==elem.style.display||(elem.style.display=show?values[index]||"":"none"));return elements}function setPositiveNumber(elem,value,subtract){var matches=rnumsplit.exec(value);return matches?Math.max(0,matches[1]-(subtract||0))+(matches[2]||"px"):value}function augmentWidthOrHeight(elem,name,extra,isBorderBox,styles){for(var i=extra===(isBorderBox?"border":"content")?4:"width"===name?1:0,val=0;4>i;i+=2)"margin"===extra&&(val+=jQuery.css(elem,extra+cssExpand[i],!0,styles)),isBorderBox?("content"===extra&&(val-=jQuery.css(elem,"padding"+cssExpand[i],!0,styles)),"margin"!==extra&&(val-=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles))):(val+=jQuery.css(elem,"padding"+cssExpand[i],!0,styles),"padding"!==extra&&(val+=jQuery.css(elem,"border"+cssExpand[i]+"Width",!0,styles)));return val}function getWidthOrHeight(elem,name,extra){var valueIsBorderBox=!0,val="width"===name?elem.offsetWidth:elem.offsetHeight,styles=getStyles(elem),isBorderBox=support.boxSizing()&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles);if(0>=val||null==val){if(val=curCSS(elem,name,styles),(0>val||null==val)&&(val=elem.style[name]),rnumnonpx.test(val))return val;valueIsBorderBox=isBorderBox&&(support.boxSizingReliable()||val===elem.style[name]),val=parseFloat(val)||0}return val+augmentWidthOrHeight(elem,name,extra||(isBorderBox?"border":"content"),valueIsBorderBox,styles)+"px"}function Tween(elem,options,prop,end,easing){return new Tween.prototype.init(elem,options,prop,end,easing)}function createFxNow(){return setTimeout(function(){fxNow=void 0}),fxNow=jQuery.now()}function genFx(type,includeWidth){var which,attrs={height:type},i=0;for(includeWidth=includeWidth?1:0;4>i;i+=2-includeWidth)which=cssExpand[i],attrs["margin"+which]=attrs["padding"+which]=type;return includeWidth&&(attrs.opacity=attrs.width=type),attrs}function createTween(value,prop,animation){for(var tween,collection=(tweeners[prop]||[]).concat(tweeners["*"]),index=0,length=collection.length;length>index;index++)if(tween=collection[index].call(animation,prop,value))return tween}function defaultPrefilter(elem,props,opts){var prop,value,toggle,tween,hooks,oldfire,display,dDisplay,anim=this,orig={},style=elem.style,hidden=elem.nodeType&&isHidden(elem),dataShow=jQuery._data(elem,"fxshow");opts.queue||(hooks=jQuery._queueHooks(elem,"fx"),null==hooks.unqueued&&(hooks.unqueued=0,oldfire=hooks.empty.fire,hooks.empty.fire=function(){hooks.unqueued||oldfire()}),hooks.unqueued++,anim.always(function(){anim.always(function(){hooks.unqueued--,jQuery.queue(elem,"fx").length||hooks.empty.fire()})})),1===elem.nodeType&&("height"in props||"width"in props)&&(opts.overflow=[style.overflow,style.overflowX,style.overflowY],display=jQuery.css(elem,"display"),dDisplay=defaultDisplay(elem.nodeName),"none"===display&&(display=dDisplay),"inline"===display&&"none"===jQuery.css(elem,"float")&&(support.inlineBlockNeedsLayout&&"inline"!==dDisplay?style.zoom=1:style.display="inline-block")),opts.overflow&&(style.overflow="hidden",support.shrinkWrapBlocks()||anim.always(function(){style.overflow=opts.overflow[0],style.overflowX=opts.overflow[1],style.overflowY=opts.overflow[2]}));for(prop in props)if(value=props[prop],rfxtypes.exec(value)){if(delete props[prop],toggle=toggle||"toggle"===value,value===(hidden?"hide":"show")){if("show"!==value||!dataShow||void 0===dataShow[prop])continue;hidden=!0}orig[prop]=dataShow&&dataShow[prop]||jQuery.style(elem,prop)}if(!jQuery.isEmptyObject(orig)){dataShow?"hidden"in dataShow&&(hidden=dataShow.hidden):dataShow=jQuery._data(elem,"fxshow",{}),toggle&&(dataShow.hidden=!hidden),hidden?jQuery(elem).show():anim.done(function(){jQuery(elem).hide()}),anim.done(function(){var prop;jQuery._removeData(elem,"fxshow");for(prop in orig)jQuery.style(elem,prop,orig[prop])});for(prop in orig)tween=createTween(hidden?dataShow[prop]:0,prop,anim),prop in dataShow||(dataShow[prop]=tween.start,hidden&&(tween.end=tween.start,tween.start="width"===prop||"height"===prop?1:0))}}function propFilter(props,specialEasing){var index,name,easing,value,hooks;for(index in props)if(name=jQuery.camelCase(index),easing=specialEasing[name],value=props[index],jQuery.isArray(value)&&(easing=value[1],value=props[index]=value[0]),index!==name&&(props[name]=value,delete props[index]),hooks=jQuery.cssHooks[name],hooks&&"expand"in hooks){value=hooks.expand(value),delete props[name];for(index in value)index in props||(props[index]=value[index],specialEasing[index]=easing)}else specialEasing[name]=easing}function Animation(elem,properties,options){var result,stopped,index=0,length=animationPrefilters.length,deferred=jQuery.Deferred().always(function(){delete tick.elem}),tick=function(){if(stopped)return!1;for(var currentTime=fxNow||createFxNow(),remaining=Math.max(0,animation.startTime+animation.duration-currentTime),temp=remaining/animation.duration||0,percent=1-temp,index=0,length=animation.tweens.length;length>index;index++)animation.tweens[index].run(percent);return deferred.notifyWith(elem,[animation,percent,remaining]),1>percent&&length?remaining:(deferred.resolveWith(elem,[animation]),!1)},animation=deferred.promise({elem:elem,props:jQuery.extend({},properties),opts:jQuery.extend(!0,{specialEasing:{}},options),originalProperties:properties,originalOptions:options,startTime:fxNow||createFxNow(),duration:options.duration,tweens:[],createTween:function(prop,end){var tween=jQuery.Tween(elem,animation.opts,prop,end,animation.opts.specialEasing[prop]||animation.opts.easing);return animation.tweens.push(tween),tween},stop:function(gotoEnd){var index=0,length=gotoEnd?animation.tweens.length:0;if(stopped)return this;for(stopped=!0;length>index;index++)animation.tweens[index].run(1);return gotoEnd?deferred.resolveWith(elem,[animation,gotoEnd]):deferred.rejectWith(elem,[animation,gotoEnd]),this}}),props=animation.props;for(propFilter(props,animation.opts.specialEasing);length>index;index++)if(result=animationPrefilters[index].call(animation,elem,props,animation.opts))return result;return jQuery.map(props,createTween,animation),jQuery.isFunction(animation.opts.start)&&animation.opts.start.call(elem,animation),jQuery.fx.timer(jQuery.extend(tick,{elem:elem,anim:animation,queue:animation.opts.queue})),animation.progress(animation.opts.progress).done(animation.opts.done,animation.opts.complete).fail(animation.opts.fail).always(animation.opts.always)}function addToPrefiltersOrTransports(structure){return function(dataTypeExpression,func){"string"!=typeof dataTypeExpression&&(func=dataTypeExpression,dataTypeExpression="*");var dataType,i=0,dataTypes=dataTypeExpression.toLowerCase().match(rnotwhite)||[];if(jQuery.isFunction(func))for(;dataType=dataTypes[i++];)"+"===dataType.charAt(0)?(dataType=dataType.slice(1)||"*",(structure[dataType]=structure[dataType]||[]).unshift(func)):(structure[dataType]=structure[dataType]||[]).push(func)}}function inspectPrefiltersOrTransports(structure,options,originalOptions,jqXHR){function inspect(dataType){var selected;return inspected[dataType]=!0,jQuery.each(structure[dataType]||[],function(_,prefilterOrFactory){var dataTypeOrTransport=prefilterOrFactory(options,originalOptions,jqXHR);return"string"!=typeof dataTypeOrTransport||seekingTransport||inspected[dataTypeOrTransport]?seekingTransport?!(selected=dataTypeOrTransport):void 0:(options.dataTypes.unshift(dataTypeOrTransport),inspect(dataTypeOrTransport),!1)}),selected}var inspected={},seekingTransport=structure===transports;return inspect(options.dataTypes[0])||!inspected["*"]&&inspect("*")}function ajaxExtend(target,src){var deep,key,flatOptions=jQuery.ajaxSettings.flatOptions||{};for(key in src)void 0!==src[key]&&((flatOptions[key]?target:deep||(deep={}))[key]=src[key]);return deep&&jQuery.extend(!0,target,deep),target}function ajaxHandleResponses(s,jqXHR,responses){for(var firstDataType,ct,finalDataType,type,contents=s.contents,dataTypes=s.dataTypes;"*"===dataTypes[0];)dataTypes.shift(),void 0===ct&&(ct=s.mimeType||jqXHR.getResponseHeader("Content-Type"));if(ct)for(type in contents)if(contents[type]&&contents[type].test(ct)){dataTypes.unshift(type);break}if(dataTypes[0]in responses)finalDataType=dataTypes[0];else{for(type in responses){if(!dataTypes[0]||s.converters[type+" "+dataTypes[0]]){finalDataType=type;break}firstDataType||(firstDataType=type)}finalDataType=finalDataType||firstDataType}return finalDataType?(finalDataType!==dataTypes[0]&&dataTypes.unshift(finalDataType),responses[finalDataType]):void 0}function ajaxConvert(s,response,jqXHR,isSuccess){var conv2,current,conv,tmp,prev,converters={},dataTypes=s.dataTypes.slice();if(dataTypes[1])for(conv in s.converters)converters[conv.toLowerCase()]=s.converters[conv];for(current=dataTypes.shift();current;)if(s.responseFields[current]&&(jqXHR[s.responseFields[current]]=response),!prev&&isSuccess&&s.dataFilter&&(response=s.dataFilter(response,s.dataType)),prev=current,current=dataTypes.shift())if("*"===current)current=prev;else if("*"!==prev&&prev!==current){if(conv=converters[prev+" "+current]||converters["* "+current],!conv)for(conv2 in converters)if(tmp=conv2.split(" "),tmp[1]===current&&(conv=converters[prev+" "+tmp[0]]||converters["* "+tmp[0]])){conv===!0?conv=converters[conv2]:converters[conv2]!==!0&&(current=tmp[0],dataTypes.unshift(tmp[1]));break}if(conv!==!0)if(conv&&s["throws"])response=conv(response);else try{response=conv(response)}catch(e){return{state:"parsererror",error:conv?e:"No conversion from "+prev+" to "+current}}}return{state:"success",data:response}}function buildParams(prefix,obj,traditional,add){var name;if(jQuery.isArray(obj))jQuery.each(obj,function(i,v){traditional||rbracket.test(prefix)?add(prefix,v):buildParams(prefix+"["+("object"==typeof v?i:"")+"]",v,traditional,add)});else if(traditional||"object"!==jQuery.type(obj))add(prefix,obj);else for(name in obj)buildParams(prefix+"["+name+"]",obj[name],traditional,add)}function createStandardXHR(){try{return new window.XMLHttpRequest}catch(e){}}function createActiveXHR(){try{return new window.ActiveXObject("Microsoft.XMLHTTP")}catch(e){}}function getWindow(elem){return jQuery.isWindow(elem)?elem:9===elem.nodeType?elem.defaultView||elem.parentWindow:!1}var deletedIds=[],slice=deletedIds.slice,concat=deletedIds.concat,push=deletedIds.push,indexOf=deletedIds.indexOf,class2type={},toString=class2type.toString,hasOwn=class2type.hasOwnProperty,trim="".trim,support={},version="1.11.0",jQuery=function(selector,context){return new jQuery.fn.init(selector,context)},rtrim=/^[\s\uFEFF\xA0]+|[\s\uFEFF\xA0]+$/g,rmsPrefix=/^-ms-/,rdashAlpha=/-([\da-z])/gi,fcamelCase=function(all,letter){return letter.toUpperCase()};jQuery.fn=jQuery.prototype={jquery:version,constructor:jQuery,selector:"",length:0,toArray:function(){return slice.call(this)},get:function(num){return null!=num?0>num?this[num+this.length]:this[num]:slice.call(this)},pushStack:function(elems){var ret=jQuery.merge(this.constructor(),elems);return ret.prevObject=this,ret.context=this.context,ret},each:function(callback,args){return jQuery.each(this,callback,args)},map:function(callback){return this.pushStack(jQuery.map(this,function(elem,i){return callback.call(elem,i,elem)}))},slice:function(){return this.pushStack(slice.apply(this,arguments))},first:function(){return this.eq(0)},last:function(){return this.eq(-1)},eq:function(i){var len=this.length,j=+i+(0>i?len:0);return this.pushStack(j>=0&&len>j?[this[j]]:[])},end:function(){return this.prevObject||this.constructor(null)},push:push,sort:deletedIds.sort,splice:deletedIds.splice},jQuery.extend=jQuery.fn.extend=function(){var src,copyIsArray,copy,name,options,clone,target=arguments[0]||{},i=1,length=arguments.length,deep=!1;for("boolean"==typeof target&&(deep=target,target=arguments[i]||{},i++),"object"==typeof target||jQuery.isFunction(target)||(target={}),i===length&&(target=this,i--);length>i;i++)if(null!=(options=arguments[i]))for(name in options)src=target[name],copy=options[name],target!==copy&&(deep&&copy&&(jQuery.isPlainObject(copy)||(copyIsArray=jQuery.isArray(copy)))?(copyIsArray?(copyIsArray=!1,clone=src&&jQuery.isArray(src)?src:[]):clone=src&&jQuery.isPlainObject(src)?src:{},target[name]=jQuery.extend(deep,clone,copy)):void 0!==copy&&(target[name]=copy));return target},jQuery.extend({expando:"jQuery"+(version+Math.random()).replace(/\D/g,""),isReady:!0,error:function(msg){throw new Error(msg)},noop:function(){},isFunction:function(obj){return"function"===jQuery.type(obj)},isArray:Array.isArray||function(obj){return"array"===jQuery.type(obj)},isWindow:function(obj){return null!=obj&&obj==obj.window},isNumeric:function(obj){return obj-parseFloat(obj)>=0},isEmptyObject:function(obj){var name;for(name in obj)return!1;return!0},isPlainObject:function(obj){var key;if(!obj||"object"!==jQuery.type(obj)||obj.nodeType||jQuery.isWindow(obj))return!1;try{if(obj.constructor&&!hasOwn.call(obj,"constructor")&&!hasOwn.call(obj.constructor.prototype,"isPrototypeOf"))return!1}catch(e){return!1}if(support.ownLast)for(key in obj)return hasOwn.call(obj,key);for(key in obj);return void 0===key||hasOwn.call(obj,key)},type:function(obj){return null==obj?obj+"":"object"==typeof obj||"function"==typeof obj?class2type[toString.call(obj)]||"object":typeof obj},globalEval:function(data){data&&jQuery.trim(data)&&(window.execScript||function(data){window.eval.call(window,data)})(data)},camelCase:function(string){return string.replace(rmsPrefix,"ms-").replace(rdashAlpha,fcamelCase)},nodeName:function(elem,name){return elem.nodeName&&elem.nodeName.toLowerCase()===name.toLowerCase()},each:function(obj,callback,args){var value,i=0,length=obj.length,isArray=isArraylike(obj);if(args){if(isArray)for(;length>i&&(value=callback.apply(obj[i],args),value!==!1);i++);else for(i in obj)if(value=callback.apply(obj[i],args),value===!1)break}else if(isArray)for(;length>i&&(value=callback.call(obj[i],i,obj[i]),value!==!1);i++);else for(i in obj)if(value=callback.call(obj[i],i,obj[i]),value===!1)break;return obj},trim:trim&&!trim.call("﻿ ")?function(text){return null==text?"":trim.call(text)}:function(text){return null==text?"":(text+"").replace(rtrim,"")},makeArray:function(arr,results){var ret=results||[];return null!=arr&&(isArraylike(Object(arr))?jQuery.merge(ret,"string"==typeof arr?[arr]:arr):push.call(ret,arr)),ret},inArray:function(elem,arr,i){var len;if(arr){if(indexOf)return indexOf.call(arr,elem,i);for(len=arr.length,i=i?0>i?Math.max(0,len+i):i:0;len>i;i++)if(i in arr&&arr[i]===elem)return i}return-1},merge:function(first,second){for(var len=+second.length,j=0,i=first.length;len>j;)first[i++]=second[j++];if(len!==len)for(;void 0!==second[j];)first[i++]=second[j++];return first.length=i,first},grep:function(elems,callback,invert){for(var callbackInverse,matches=[],i=0,length=elems.length,callbackExpect=!invert;length>i;i++)callbackInverse=!callback(elems[i],i),callbackInverse!==callbackExpect&&matches.push(elems[i]);return matches},map:function(elems,callback,arg){var value,i=0,length=elems.length,isArray=isArraylike(elems),ret=[];if(isArray)for(;length>i;i++)value=callback(elems[i],i,arg),null!=value&&ret.push(value);else for(i in elems)value=callback(elems[i],i,arg),null!=value&&ret.push(value);return concat.apply([],ret)},guid:1,proxy:function(fn,context){var args,proxy,tmp;return"string"==typeof context&&(tmp=fn[context],context=fn,fn=tmp),jQuery.isFunction(fn)?(args=slice.call(arguments,2),proxy=function(){return fn.apply(context||this,args.concat(slice.call(arguments)))},proxy.guid=fn.guid=fn.guid||jQuery.guid++,proxy):void 0},now:function(){return+new Date},support:support}),jQuery.each("Boolean Number String Function Array Date RegExp Object Error".split(" "),function(i,name){class2type["[object "+name+"]"]=name.toLowerCase()});var Sizzle=function(window){function Sizzle(selector,context,results,seed){var match,elem,m,nodeType,i,groups,old,nid,newContext,newSelector;if((context?context.ownerDocument||context:preferredDoc)!==document&&setDocument(context),context=context||document,results=results||[],!selector||"string"!=typeof selector)return results;if(1!==(nodeType=context.nodeType)&&9!==nodeType)return[];if(documentIsHTML&&!seed){if(match=rquickExpr.exec(selector))if(m=match[1]){if(9===nodeType){if(elem=context.getElementById(m),!elem||!elem.parentNode)return results;if(elem.id===m)return results.push(elem),results}else if(context.ownerDocument&&(elem=context.ownerDocument.getElementById(m))&&contains(context,elem)&&elem.id===m)return results.push(elem),results}else{if(match[2])return push.apply(results,context.getElementsByTagName(selector)),results;if((m=match[3])&&support.getElementsByClassName&&context.getElementsByClassName)return push.apply(results,context.getElementsByClassName(m)),results}if(support.qsa&&(!rbuggyQSA||!rbuggyQSA.test(selector))){if(nid=old=expando,newContext=context,newSelector=9===nodeType&&selector,1===nodeType&&"object"!==context.nodeName.toLowerCase()){for(groups=tokenize(selector),(old=context.getAttribute("id"))?nid=old.replace(rescape,"\\$&"):context.setAttribute("id",nid),nid="[id='"+nid+"'] ",i=groups.length;i--;)groups[i]=nid+toSelector(groups[i]);newContext=rsibling.test(selector)&&testContext(context.parentNode)||context,newSelector=groups.join(",")}if(newSelector)try{return push.apply(results,newContext.querySelectorAll(newSelector)),results}catch(qsaError){}finally{old||context.removeAttribute("id")}}}return select(selector.replace(rtrim,"$1"),context,results,seed)}function createCache(){function cache(key,value){return keys.push(key+" ")>Expr.cacheLength&&delete cache[keys.shift()],cache[key+" "]=value}var keys=[];return cache}function markFunction(fn){return fn[expando]=!0,fn}function assert(fn){var div=document.createElement("div");try{return!!fn(div)}catch(e){return!1}finally{div.parentNode&&div.parentNode.removeChild(div),div=null}}function addHandle(attrs,handler){for(var arr=attrs.split("|"),i=attrs.length;i--;)Expr.attrHandle[arr[i]]=handler}function siblingCheck(a,b){var cur=b&&a,diff=cur&&1===a.nodeType&&1===b.nodeType&&(~b.sourceIndex||MAX_NEGATIVE)-(~a.sourceIndex||MAX_NEGATIVE);if(diff)return diff;if(cur)for(;cur=cur.nextSibling;)if(cur===b)return-1;return a?1:-1}function createInputPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&elem.type===type}}function createButtonPseudo(type){return function(elem){var name=elem.nodeName.toLowerCase();return("input"===name||"button"===name)&&elem.type===type}}function createPositionalPseudo(fn){return markFunction(function(argument){return argument=+argument,markFunction(function(seed,matches){for(var j,matchIndexes=fn([],seed.length,argument),i=matchIndexes.length;i--;)seed[j=matchIndexes[i]]&&(seed[j]=!(matches[j]=seed[j]))})})}function testContext(context){return context&&typeof context.getElementsByTagName!==strundefined&&context}function setFilters(){}function tokenize(selector,parseOnly){var matched,match,tokens,type,soFar,groups,preFilters,cached=tokenCache[selector+" "];if(cached)return parseOnly?0:cached.slice(0);for(soFar=selector,groups=[],preFilters=Expr.preFilter;soFar;){(!matched||(match=rcomma.exec(soFar)))&&(match&&(soFar=soFar.slice(match[0].length)||soFar),groups.push(tokens=[])),matched=!1,(match=rcombinators.exec(soFar))&&(matched=match.shift(),tokens.push({value:matched,type:match[0].replace(rtrim," ")}),soFar=soFar.slice(matched.length));for(type in Expr.filter)!(match=matchExpr[type].exec(soFar))||preFilters[type]&&!(match=preFilters[type](match))||(matched=match.shift(),tokens.push({value:matched,type:type,matches:match}),soFar=soFar.slice(matched.length));if(!matched)break}return parseOnly?soFar.length:soFar?Sizzle.error(selector):tokenCache(selector,groups).slice(0)}function toSelector(tokens){for(var i=0,len=tokens.length,selector="";len>i;i++)selector+=tokens[i].value;return selector}function addCombinator(matcher,combinator,base){var dir=combinator.dir,checkNonElements=base&&"parentNode"===dir,doneName=done++;return combinator.first?function(elem,context,xml){for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements)return matcher(elem,context,xml)}:function(elem,context,xml){var oldCache,outerCache,newCache=[dirruns,doneName];if(xml){for(;elem=elem[dir];)if((1===elem.nodeType||checkNonElements)&&matcher(elem,context,xml))return!0}else for(;elem=elem[dir];)if(1===elem.nodeType||checkNonElements){if(outerCache=elem[expando]||(elem[expando]={}),(oldCache=outerCache[dir])&&oldCache[0]===dirruns&&oldCache[1]===doneName)return newCache[2]=oldCache[2];if(outerCache[dir]=newCache,newCache[2]=matcher(elem,context,xml))return!0}}}function elementMatcher(matchers){return matchers.length>1?function(elem,context,xml){for(var i=matchers.length;i--;)if(!matchers[i](elem,context,xml))return!1;return!0}:matchers[0]}function condense(unmatched,map,filter,context,xml){for(var elem,newUnmatched=[],i=0,len=unmatched.length,mapped=null!=map;len>i;i++)(elem=unmatched[i])&&(!filter||filter(elem,context,xml))&&(newUnmatched.push(elem),mapped&&map.push(i));return newUnmatched}function setMatcher(preFilter,selector,matcher,postFilter,postFinder,postSelector){return postFilter&&!postFilter[expando]&&(postFilter=setMatcher(postFilter)),postFinder&&!postFinder[expando]&&(postFinder=setMatcher(postFinder,postSelector)),markFunction(function(seed,results,context,xml){var temp,i,elem,preMap=[],postMap=[],preexisting=results.length,elems=seed||multipleContexts(selector||"*",context.nodeType?[context]:context,[]),matcherIn=!preFilter||!seed&&selector?elems:condense(elems,preMap,preFilter,context,xml),matcherOut=matcher?postFinder||(seed?preFilter:preexisting||postFilter)?[]:results:matcherIn;if(matcher&&matcher(matcherIn,matcherOut,context,xml),postFilter)for(temp=condense(matcherOut,postMap),postFilter(temp,[],context,xml),i=temp.length;i--;)(elem=temp[i])&&(matcherOut[postMap[i]]=!(matcherIn[postMap[i]]=elem));if(seed){if(postFinder||preFilter){if(postFinder){for(temp=[],i=matcherOut.length;i--;)(elem=matcherOut[i])&&temp.push(matcherIn[i]=elem);postFinder(null,matcherOut=[],temp,xml)}for(i=matcherOut.length;i--;)(elem=matcherOut[i])&&(temp=postFinder?indexOf.call(seed,elem):preMap[i])>-1&&(seed[temp]=!(results[temp]=elem))}}else matcherOut=condense(matcherOut===results?matcherOut.splice(preexisting,matcherOut.length):matcherOut),postFinder?postFinder(null,results,matcherOut,xml):push.apply(results,matcherOut)})}function matcherFromTokens(tokens){for(var checkContext,matcher,j,len=tokens.length,leadingRelative=Expr.relative[tokens[0].type],implicitRelative=leadingRelative||Expr.relative[" "],i=leadingRelative?1:0,matchContext=addCombinator(function(elem){return elem===checkContext},implicitRelative,!0),matchAnyContext=addCombinator(function(elem){return indexOf.call(checkContext,elem)>-1},implicitRelative,!0),matchers=[function(elem,context,xml){return!leadingRelative&&(xml||context!==outermostContext)||((checkContext=context).nodeType?matchContext(elem,context,xml):matchAnyContext(elem,context,xml))}];len>i;i++)if(matcher=Expr.relative[tokens[i].type])matchers=[addCombinator(elementMatcher(matchers),matcher)];else{if(matcher=Expr.filter[tokens[i].type].apply(null,tokens[i].matches),matcher[expando]){for(j=++i;len>j&&!Expr.relative[tokens[j].type];j++);return setMatcher(i>1&&elementMatcher(matchers),i>1&&toSelector(tokens.slice(0,i-1).concat({value:" "===tokens[i-2].type?"*":""})).replace(rtrim,"$1"),matcher,j>i&&matcherFromTokens(tokens.slice(i,j)),len>j&&matcherFromTokens(tokens=tokens.slice(j)),len>j&&toSelector(tokens))}matchers.push(matcher)}return elementMatcher(matchers)}function matcherFromGroupMatchers(elementMatchers,setMatchers){var bySet=setMatchers.length>0,byElement=elementMatchers.length>0,superMatcher=function(seed,context,xml,results,outermost){var elem,j,matcher,matchedCount=0,i="0",unmatched=seed&&[],setMatched=[],contextBackup=outermostContext,elems=seed||byElement&&Expr.find.TAG("*",outermost),dirrunsUnique=dirruns+=null==contextBackup?1:Math.random()||.1,len=elems.length;
for(outermost&&(outermostContext=context!==document&&context);i!==len&&null!=(elem=elems[i]);i++){if(byElement&&elem){for(j=0;matcher=elementMatchers[j++];)if(matcher(elem,context,xml)){results.push(elem);break}outermost&&(dirruns=dirrunsUnique)}bySet&&((elem=!matcher&&elem)&&matchedCount--,seed&&unmatched.push(elem))}if(matchedCount+=i,bySet&&i!==matchedCount){for(j=0;matcher=setMatchers[j++];)matcher(unmatched,setMatched,context,xml);if(seed){if(matchedCount>0)for(;i--;)unmatched[i]||setMatched[i]||(setMatched[i]=pop.call(results));setMatched=condense(setMatched)}push.apply(results,setMatched),outermost&&!seed&&setMatched.length>0&&matchedCount+setMatchers.length>1&&Sizzle.uniqueSort(results)}return outermost&&(dirruns=dirrunsUnique,outermostContext=contextBackup),unmatched};return bySet?markFunction(superMatcher):superMatcher}function multipleContexts(selector,contexts,results){for(var i=0,len=contexts.length;len>i;i++)Sizzle(selector,contexts[i],results);return results}function select(selector,context,results,seed){var i,tokens,token,type,find,match=tokenize(selector);if(!seed&&1===match.length){if(tokens=match[0]=match[0].slice(0),tokens.length>2&&"ID"===(token=tokens[0]).type&&support.getById&&9===context.nodeType&&documentIsHTML&&Expr.relative[tokens[1].type]){if(context=(Expr.find.ID(token.matches[0].replace(runescape,funescape),context)||[])[0],!context)return results;selector=selector.slice(tokens.shift().value.length)}for(i=matchExpr.needsContext.test(selector)?0:tokens.length;i--&&(token=tokens[i],!Expr.relative[type=token.type]);)if((find=Expr.find[type])&&(seed=find(token.matches[0].replace(runescape,funescape),rsibling.test(tokens[0].type)&&testContext(context.parentNode)||context))){if(tokens.splice(i,1),selector=seed.length&&toSelector(tokens),!selector)return push.apply(results,seed),results;break}}return compile(selector,match)(seed,context,!documentIsHTML,results,rsibling.test(selector)&&testContext(context.parentNode)||context),results}var i,support,Expr,getText,isXML,compile,outermostContext,sortInput,hasDuplicate,setDocument,document,docElem,documentIsHTML,rbuggyQSA,rbuggyMatches,matches,contains,expando="sizzle"+-new Date,preferredDoc=window.document,dirruns=0,done=0,classCache=createCache(),tokenCache=createCache(),compilerCache=createCache(),sortOrder=function(a,b){return a===b&&(hasDuplicate=!0),0},strundefined="undefined",MAX_NEGATIVE=1<<31,hasOwn={}.hasOwnProperty,arr=[],pop=arr.pop,push_native=arr.push,push=arr.push,slice=arr.slice,indexOf=arr.indexOf||function(elem){for(var i=0,len=this.length;len>i;i++)if(this[i]===elem)return i;return-1},booleans="checked|selected|async|autofocus|autoplay|controls|defer|disabled|hidden|ismap|loop|multiple|open|readonly|required|scoped",whitespace="[\\x20\\t\\r\\n\\f]",characterEncoding="(?:\\\\.|[\\w-]|[^\\x00-\\xa0])+",identifier=characterEncoding.replace("w","w#"),attributes="\\["+whitespace+"*("+characterEncoding+")"+whitespace+"*(?:([*^$|!~]?=)"+whitespace+"*(?:(['\"])((?:\\\\.|[^\\\\])*?)\\3|("+identifier+")|)|)"+whitespace+"*\\]",pseudos=":("+characterEncoding+")(?:\\(((['\"])((?:\\\\.|[^\\\\])*?)\\3|((?:\\\\.|[^\\\\()[\\]]|"+attributes.replace(3,8)+")*)|.*)\\)|)",rtrim=new RegExp("^"+whitespace+"+|((?:^|[^\\\\])(?:\\\\.)*)"+whitespace+"+$","g"),rcomma=new RegExp("^"+whitespace+"*,"+whitespace+"*"),rcombinators=new RegExp("^"+whitespace+"*([>+~]|"+whitespace+")"+whitespace+"*"),rattributeQuotes=new RegExp("="+whitespace+"*([^\\]'\"]*?)"+whitespace+"*\\]","g"),rpseudo=new RegExp(pseudos),ridentifier=new RegExp("^"+identifier+"$"),matchExpr={ID:new RegExp("^#("+characterEncoding+")"),CLASS:new RegExp("^\\.("+characterEncoding+")"),TAG:new RegExp("^("+characterEncoding.replace("w","w*")+")"),ATTR:new RegExp("^"+attributes),PSEUDO:new RegExp("^"+pseudos),CHILD:new RegExp("^:(only|first|last|nth|nth-last)-(child|of-type)(?:\\("+whitespace+"*(even|odd|(([+-]|)(\\d*)n|)"+whitespace+"*(?:([+-]|)"+whitespace+"*(\\d+)|))"+whitespace+"*\\)|)","i"),bool:new RegExp("^(?:"+booleans+")$","i"),needsContext:new RegExp("^"+whitespace+"*[>+~]|:(even|odd|eq|gt|lt|nth|first|last)(?:\\("+whitespace+"*((?:-\\d)?\\d*)"+whitespace+"*\\)|)(?=[^-]|$)","i")},rinputs=/^(?:input|select|textarea|button)$/i,rheader=/^h\d$/i,rnative=/^[^{]+\{\s*\[native \w/,rquickExpr=/^(?:#([\w-]+)|(\w+)|\.([\w-]+))$/,rsibling=/[+~]/,rescape=/'|\\/g,runescape=new RegExp("\\\\([\\da-f]{1,6}"+whitespace+"?|("+whitespace+")|.)","ig"),funescape=function(_,escaped,escapedWhitespace){var high="0x"+escaped-65536;return high!==high||escapedWhitespace?escaped:0>high?String.fromCharCode(high+65536):String.fromCharCode(high>>10|55296,1023&high|56320)};try{push.apply(arr=slice.call(preferredDoc.childNodes),preferredDoc.childNodes),arr[preferredDoc.childNodes.length].nodeType}catch(e){push={apply:arr.length?function(target,els){push_native.apply(target,slice.call(els))}:function(target,els){for(var j=target.length,i=0;target[j++]=els[i++];);target.length=j-1}}}support=Sizzle.support={},isXML=Sizzle.isXML=function(elem){var documentElement=elem&&(elem.ownerDocument||elem).documentElement;return documentElement?"HTML"!==documentElement.nodeName:!1},setDocument=Sizzle.setDocument=function(node){var hasCompare,doc=node?node.ownerDocument||node:preferredDoc,parent=doc.defaultView;return doc!==document&&9===doc.nodeType&&doc.documentElement?(document=doc,docElem=doc.documentElement,documentIsHTML=!isXML(doc),parent&&parent!==parent.top&&(parent.addEventListener?parent.addEventListener("unload",function(){setDocument()},!1):parent.attachEvent&&parent.attachEvent("onunload",function(){setDocument()})),support.attributes=assert(function(div){return div.className="i",!div.getAttribute("className")}),support.getElementsByTagName=assert(function(div){return div.appendChild(doc.createComment("")),!div.getElementsByTagName("*").length}),support.getElementsByClassName=rnative.test(doc.getElementsByClassName)&&assert(function(div){return div.innerHTML="<div class='a'></div><div class='a i'></div>",div.firstChild.className="i",2===div.getElementsByClassName("i").length}),support.getById=assert(function(div){return docElem.appendChild(div).id=expando,!doc.getElementsByName||!doc.getElementsByName(expando).length}),support.getById?(Expr.find.ID=function(id,context){if(typeof context.getElementById!==strundefined&&documentIsHTML){var m=context.getElementById(id);return m&&m.parentNode?[m]:[]}},Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){return elem.getAttribute("id")===attrId}}):(delete Expr.find.ID,Expr.filter.ID=function(id){var attrId=id.replace(runescape,funescape);return function(elem){var node=typeof elem.getAttributeNode!==strundefined&&elem.getAttributeNode("id");return node&&node.value===attrId}}),Expr.find.TAG=support.getElementsByTagName?function(tag,context){return typeof context.getElementsByTagName!==strundefined?context.getElementsByTagName(tag):void 0}:function(tag,context){var elem,tmp=[],i=0,results=context.getElementsByTagName(tag);if("*"===tag){for(;elem=results[i++];)1===elem.nodeType&&tmp.push(elem);return tmp}return results},Expr.find.CLASS=support.getElementsByClassName&&function(className,context){return typeof context.getElementsByClassName!==strundefined&&documentIsHTML?context.getElementsByClassName(className):void 0},rbuggyMatches=[],rbuggyQSA=[],(support.qsa=rnative.test(doc.querySelectorAll))&&(assert(function(div){div.innerHTML="<select t=''><option selected=''></option></select>",div.querySelectorAll("[t^='']").length&&rbuggyQSA.push("[*^$]="+whitespace+"*(?:''|\"\")"),div.querySelectorAll("[selected]").length||rbuggyQSA.push("\\["+whitespace+"*(?:value|"+booleans+")"),div.querySelectorAll(":checked").length||rbuggyQSA.push(":checked")}),assert(function(div){var input=doc.createElement("input");input.setAttribute("type","hidden"),div.appendChild(input).setAttribute("name","D"),div.querySelectorAll("[name=d]").length&&rbuggyQSA.push("name"+whitespace+"*[*^$|!~]?="),div.querySelectorAll(":enabled").length||rbuggyQSA.push(":enabled",":disabled"),div.querySelectorAll("*,:x"),rbuggyQSA.push(",.*:")})),(support.matchesSelector=rnative.test(matches=docElem.webkitMatchesSelector||docElem.mozMatchesSelector||docElem.oMatchesSelector||docElem.msMatchesSelector))&&assert(function(div){support.disconnectedMatch=matches.call(div,"div"),matches.call(div,"[s!='']:x"),rbuggyMatches.push("!=",pseudos)}),rbuggyQSA=rbuggyQSA.length&&new RegExp(rbuggyQSA.join("|")),rbuggyMatches=rbuggyMatches.length&&new RegExp(rbuggyMatches.join("|")),hasCompare=rnative.test(docElem.compareDocumentPosition),contains=hasCompare||rnative.test(docElem.contains)?function(a,b){var adown=9===a.nodeType?a.documentElement:a,bup=b&&b.parentNode;return a===bup||!(!bup||1!==bup.nodeType||!(adown.contains?adown.contains(bup):a.compareDocumentPosition&&16&a.compareDocumentPosition(bup)))}:function(a,b){if(b)for(;b=b.parentNode;)if(b===a)return!0;return!1},sortOrder=hasCompare?function(a,b){if(a===b)return hasDuplicate=!0,0;var compare=!a.compareDocumentPosition-!b.compareDocumentPosition;return compare?compare:(compare=(a.ownerDocument||a)===(b.ownerDocument||b)?a.compareDocumentPosition(b):1,1&compare||!support.sortDetached&&b.compareDocumentPosition(a)===compare?a===doc||a.ownerDocument===preferredDoc&&contains(preferredDoc,a)?-1:b===doc||b.ownerDocument===preferredDoc&&contains(preferredDoc,b)?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0:4&compare?-1:1)}:function(a,b){if(a===b)return hasDuplicate=!0,0;var cur,i=0,aup=a.parentNode,bup=b.parentNode,ap=[a],bp=[b];if(!aup||!bup)return a===doc?-1:b===doc?1:aup?-1:bup?1:sortInput?indexOf.call(sortInput,a)-indexOf.call(sortInput,b):0;if(aup===bup)return siblingCheck(a,b);for(cur=a;cur=cur.parentNode;)ap.unshift(cur);for(cur=b;cur=cur.parentNode;)bp.unshift(cur);for(;ap[i]===bp[i];)i++;return i?siblingCheck(ap[i],bp[i]):ap[i]===preferredDoc?-1:bp[i]===preferredDoc?1:0},doc):document},Sizzle.matches=function(expr,elements){return Sizzle(expr,null,null,elements)},Sizzle.matchesSelector=function(elem,expr){if((elem.ownerDocument||elem)!==document&&setDocument(elem),expr=expr.replace(rattributeQuotes,"='$1']"),!(!support.matchesSelector||!documentIsHTML||rbuggyMatches&&rbuggyMatches.test(expr)||rbuggyQSA&&rbuggyQSA.test(expr)))try{var ret=matches.call(elem,expr);if(ret||support.disconnectedMatch||elem.document&&11!==elem.document.nodeType)return ret}catch(e){}return Sizzle(expr,document,null,[elem]).length>0},Sizzle.contains=function(context,elem){return(context.ownerDocument||context)!==document&&setDocument(context),contains(context,elem)},Sizzle.attr=function(elem,name){(elem.ownerDocument||elem)!==document&&setDocument(elem);var fn=Expr.attrHandle[name.toLowerCase()],val=fn&&hasOwn.call(Expr.attrHandle,name.toLowerCase())?fn(elem,name,!documentIsHTML):void 0;return void 0!==val?val:support.attributes||!documentIsHTML?elem.getAttribute(name):(val=elem.getAttributeNode(name))&&val.specified?val.value:null},Sizzle.error=function(msg){throw new Error("Syntax error, unrecognized expression: "+msg)},Sizzle.uniqueSort=function(results){var elem,duplicates=[],j=0,i=0;if(hasDuplicate=!support.detectDuplicates,sortInput=!support.sortStable&&results.slice(0),results.sort(sortOrder),hasDuplicate){for(;elem=results[i++];)elem===results[i]&&(j=duplicates.push(i));for(;j--;)results.splice(duplicates[j],1)}return sortInput=null,results},getText=Sizzle.getText=function(elem){var node,ret="",i=0,nodeType=elem.nodeType;if(nodeType){if(1===nodeType||9===nodeType||11===nodeType){if("string"==typeof elem.textContent)return elem.textContent;for(elem=elem.firstChild;elem;elem=elem.nextSibling)ret+=getText(elem)}else if(3===nodeType||4===nodeType)return elem.nodeValue}else for(;node=elem[i++];)ret+=getText(node);return ret},Expr=Sizzle.selectors={cacheLength:50,createPseudo:markFunction,match:matchExpr,attrHandle:{},find:{},relative:{">":{dir:"parentNode",first:!0}," ":{dir:"parentNode"},"+":{dir:"previousSibling",first:!0},"~":{dir:"previousSibling"}},preFilter:{ATTR:function(match){return match[1]=match[1].replace(runescape,funescape),match[3]=(match[4]||match[5]||"").replace(runescape,funescape),"~="===match[2]&&(match[3]=" "+match[3]+" "),match.slice(0,4)},CHILD:function(match){return match[1]=match[1].toLowerCase(),"nth"===match[1].slice(0,3)?(match[3]||Sizzle.error(match[0]),match[4]=+(match[4]?match[5]+(match[6]||1):2*("even"===match[3]||"odd"===match[3])),match[5]=+(match[7]+match[8]||"odd"===match[3])):match[3]&&Sizzle.error(match[0]),match},PSEUDO:function(match){var excess,unquoted=!match[5]&&match[2];return matchExpr.CHILD.test(match[0])?null:(match[3]&&void 0!==match[4]?match[2]=match[4]:unquoted&&rpseudo.test(unquoted)&&(excess=tokenize(unquoted,!0))&&(excess=unquoted.indexOf(")",unquoted.length-excess)-unquoted.length)&&(match[0]=match[0].slice(0,excess),match[2]=unquoted.slice(0,excess)),match.slice(0,3))}},filter:{TAG:function(nodeNameSelector){var nodeName=nodeNameSelector.replace(runescape,funescape).toLowerCase();return"*"===nodeNameSelector?function(){return!0}:function(elem){return elem.nodeName&&elem.nodeName.toLowerCase()===nodeName}},CLASS:function(className){var pattern=classCache[className+" "];return pattern||(pattern=new RegExp("(^|"+whitespace+")"+className+"("+whitespace+"|$)"))&&classCache(className,function(elem){return pattern.test("string"==typeof elem.className&&elem.className||typeof elem.getAttribute!==strundefined&&elem.getAttribute("class")||"")})},ATTR:function(name,operator,check){return function(elem){var result=Sizzle.attr(elem,name);return null==result?"!="===operator:operator?(result+="","="===operator?result===check:"!="===operator?result!==check:"^="===operator?check&&0===result.indexOf(check):"*="===operator?check&&result.indexOf(check)>-1:"$="===operator?check&&result.slice(-check.length)===check:"~="===operator?(" "+result+" ").indexOf(check)>-1:"|="===operator?result===check||result.slice(0,check.length+1)===check+"-":!1):!0}},CHILD:function(type,what,argument,first,last){var simple="nth"!==type.slice(0,3),forward="last"!==type.slice(-4),ofType="of-type"===what;return 1===first&&0===last?function(elem){return!!elem.parentNode}:function(elem,context,xml){var cache,outerCache,node,diff,nodeIndex,start,dir=simple!==forward?"nextSibling":"previousSibling",parent=elem.parentNode,name=ofType&&elem.nodeName.toLowerCase(),useCache=!xml&&!ofType;if(parent){if(simple){for(;dir;){for(node=elem;node=node[dir];)if(ofType?node.nodeName.toLowerCase()===name:1===node.nodeType)return!1;start=dir="only"===type&&!start&&"nextSibling"}return!0}if(start=[forward?parent.firstChild:parent.lastChild],forward&&useCache){for(outerCache=parent[expando]||(parent[expando]={}),cache=outerCache[type]||[],nodeIndex=cache[0]===dirruns&&cache[1],diff=cache[0]===dirruns&&cache[2],node=nodeIndex&&parent.childNodes[nodeIndex];node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop();)if(1===node.nodeType&&++diff&&node===elem){outerCache[type]=[dirruns,nodeIndex,diff];break}}else if(useCache&&(cache=(elem[expando]||(elem[expando]={}))[type])&&cache[0]===dirruns)diff=cache[1];else for(;(node=++nodeIndex&&node&&node[dir]||(diff=nodeIndex=0)||start.pop())&&((ofType?node.nodeName.toLowerCase()!==name:1!==node.nodeType)||!++diff||(useCache&&((node[expando]||(node[expando]={}))[type]=[dirruns,diff]),node!==elem)););return diff-=last,diff===first||diff%first===0&&diff/first>=0}}},PSEUDO:function(pseudo,argument){var args,fn=Expr.pseudos[pseudo]||Expr.setFilters[pseudo.toLowerCase()]||Sizzle.error("unsupported pseudo: "+pseudo);return fn[expando]?fn(argument):fn.length>1?(args=[pseudo,pseudo,"",argument],Expr.setFilters.hasOwnProperty(pseudo.toLowerCase())?markFunction(function(seed,matches){for(var idx,matched=fn(seed,argument),i=matched.length;i--;)idx=indexOf.call(seed,matched[i]),seed[idx]=!(matches[idx]=matched[i])}):function(elem){return fn(elem,0,args)}):fn}},pseudos:{not:markFunction(function(selector){var input=[],results=[],matcher=compile(selector.replace(rtrim,"$1"));return matcher[expando]?markFunction(function(seed,matches,context,xml){for(var elem,unmatched=matcher(seed,null,xml,[]),i=seed.length;i--;)(elem=unmatched[i])&&(seed[i]=!(matches[i]=elem))}):function(elem,context,xml){return input[0]=elem,matcher(input,null,xml,results),!results.pop()}}),has:markFunction(function(selector){return function(elem){return Sizzle(selector,elem).length>0}}),contains:markFunction(function(text){return function(elem){return(elem.textContent||elem.innerText||getText(elem)).indexOf(text)>-1}}),lang:markFunction(function(lang){return ridentifier.test(lang||"")||Sizzle.error("unsupported lang: "+lang),lang=lang.replace(runescape,funescape).toLowerCase(),function(elem){var elemLang;do if(elemLang=documentIsHTML?elem.lang:elem.getAttribute("xml:lang")||elem.getAttribute("lang"))return elemLang=elemLang.toLowerCase(),elemLang===lang||0===elemLang.indexOf(lang+"-");while((elem=elem.parentNode)&&1===elem.nodeType);return!1}}),target:function(elem){var hash=window.location&&window.location.hash;return hash&&hash.slice(1)===elem.id},root:function(elem){return elem===docElem},focus:function(elem){return elem===document.activeElement&&(!document.hasFocus||document.hasFocus())&&!!(elem.type||elem.href||~elem.tabIndex)},enabled:function(elem){return elem.disabled===!1},disabled:function(elem){return elem.disabled===!0},checked:function(elem){var nodeName=elem.nodeName.toLowerCase();return"input"===nodeName&&!!elem.checked||"option"===nodeName&&!!elem.selected},selected:function(elem){return elem.parentNode&&elem.parentNode.selectedIndex,elem.selected===!0},empty:function(elem){for(elem=elem.firstChild;elem;elem=elem.nextSibling)if(elem.nodeType<6)return!1;return!0},parent:function(elem){return!Expr.pseudos.empty(elem)},header:function(elem){return rheader.test(elem.nodeName)},input:function(elem){return rinputs.test(elem.nodeName)},button:function(elem){var name=elem.nodeName.toLowerCase();return"input"===name&&"button"===elem.type||"button"===name},text:function(elem){var attr;return"input"===elem.nodeName.toLowerCase()&&"text"===elem.type&&(null==(attr=elem.getAttribute("type"))||"text"===attr.toLowerCase())},first:createPositionalPseudo(function(){return[0]}),last:createPositionalPseudo(function(matchIndexes,length){return[length-1]}),eq:createPositionalPseudo(function(matchIndexes,length,argument){return[0>argument?argument+length:argument]}),even:createPositionalPseudo(function(matchIndexes,length){for(var i=0;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),odd:createPositionalPseudo(function(matchIndexes,length){for(var i=1;length>i;i+=2)matchIndexes.push(i);return matchIndexes}),lt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;--i>=0;)matchIndexes.push(i);return matchIndexes}),gt:createPositionalPseudo(function(matchIndexes,length,argument){for(var i=0>argument?argument+length:argument;++i<length;)matchIndexes.push(i);return matchIndexes})}},Expr.pseudos.nth=Expr.pseudos.eq;for(i in{radio:!0,checkbox:!0,file:!0,password:!0,image:!0})Expr.pseudos[i]=createInputPseudo(i);for(i in{submit:!0,reset:!0})Expr.pseudos[i]=createButtonPseudo(i);return setFilters.prototype=Expr.filters=Expr.pseudos,Expr.setFilters=new setFilters,compile=Sizzle.compile=function(selector,group){var i,setMatchers=[],elementMatchers=[],cached=compilerCache[selector+" "];if(!cached){for(group||(group=tokenize(selector)),i=group.length;i--;)cached=matcherFromTokens(group[i]),cached[expando]?setMatchers.push(cached):elementMatchers.push(cached);cached=compilerCache(selector,matcherFromGroupMatchers(elementMatchers,setMatchers))}return cached},support.sortStable=expando.split("").sort(sortOrder).join("")===expando,support.detectDuplicates=!!hasDuplicate,setDocument(),support.sortDetached=assert(function(div1){return 1&div1.compareDocumentPosition(document.createElement("div"))}),assert(function(div){return div.innerHTML="<a href='#'></a>","#"===div.firstChild.getAttribute("href")})||addHandle("type|href|height|width",function(elem,name,isXML){return isXML?void 0:elem.getAttribute(name,"type"===name.toLowerCase()?1:2)}),support.attributes&&assert(function(div){return div.innerHTML="<input/>",div.firstChild.setAttribute("value",""),""===div.firstChild.getAttribute("value")})||addHandle("value",function(elem,name,isXML){return isXML||"input"!==elem.nodeName.toLowerCase()?void 0:elem.defaultValue}),assert(function(div){return null==div.getAttribute("disabled")})||addHandle(booleans,function(elem,name,isXML){var val;return isXML?void 0:elem[name]===!0?name.toLowerCase():(val=elem.getAttributeNode(name))&&val.specified?val.value:null}),Sizzle}(window);jQuery.find=Sizzle,jQuery.expr=Sizzle.selectors,jQuery.expr[":"]=jQuery.expr.pseudos,jQuery.unique=Sizzle.uniqueSort,jQuery.text=Sizzle.getText,jQuery.isXMLDoc=Sizzle.isXML,jQuery.contains=Sizzle.contains;var rneedsContext=jQuery.expr.match.needsContext,rsingleTag=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,risSimple=/^.[^:#\[\.,]*$/;jQuery.filter=function(expr,elems,not){var elem=elems[0];return not&&(expr=":not("+expr+")"),1===elems.length&&1===elem.nodeType?jQuery.find.matchesSelector(elem,expr)?[elem]:[]:jQuery.find.matches(expr,jQuery.grep(elems,function(elem){return 1===elem.nodeType}))},jQuery.fn.extend({find:function(selector){var i,ret=[],self=this,len=self.length;if("string"!=typeof selector)return this.pushStack(jQuery(selector).filter(function(){for(i=0;len>i;i++)if(jQuery.contains(self[i],this))return!0}));for(i=0;len>i;i++)jQuery.find(selector,self[i],ret);return ret=this.pushStack(len>1?jQuery.unique(ret):ret),ret.selector=this.selector?this.selector+" "+selector:selector,ret},filter:function(selector){return this.pushStack(winnow(this,selector||[],!1))},not:function(selector){return this.pushStack(winnow(this,selector||[],!0))},is:function(selector){return!!winnow(this,"string"==typeof selector&&rneedsContext.test(selector)?jQuery(selector):selector||[],!1).length}});var rootjQuery,document=window.document,rquickExpr=/^(?:\s*(<[\w\W]+>)[^>]*|#([\w-]*))$/,init=jQuery.fn.init=function(selector,context){var match,elem;if(!selector)return this;if("string"==typeof selector){if(match="<"===selector.charAt(0)&&">"===selector.charAt(selector.length-1)&&selector.length>=3?[null,selector,null]:rquickExpr.exec(selector),!match||!match[1]&&context)return!context||context.jquery?(context||rootjQuery).find(selector):this.constructor(context).find(selector);if(match[1]){if(context=context instanceof jQuery?context[0]:context,jQuery.merge(this,jQuery.parseHTML(match[1],context&&context.nodeType?context.ownerDocument||context:document,!0)),rsingleTag.test(match[1])&&jQuery.isPlainObject(context))for(match in context)jQuery.isFunction(this[match])?this[match](context[match]):this.attr(match,context[match]);return this}if(elem=document.getElementById(match[2]),elem&&elem.parentNode){if(elem.id!==match[2])return rootjQuery.find(selector);this.length=1,this[0]=elem}return this.context=document,this.selector=selector,this}return selector.nodeType?(this.context=this[0]=selector,this.length=1,this):jQuery.isFunction(selector)?"undefined"!=typeof rootjQuery.ready?rootjQuery.ready(selector):selector(jQuery):(void 0!==selector.selector&&(this.selector=selector.selector,this.context=selector.context),jQuery.makeArray(selector,this))};init.prototype=jQuery.fn,rootjQuery=jQuery(document);var rparentsprev=/^(?:parents|prev(?:Until|All))/,guaranteedUnique={children:!0,contents:!0,next:!0,prev:!0};jQuery.extend({dir:function(elem,dir,until){for(var matched=[],cur=elem[dir];cur&&9!==cur.nodeType&&(void 0===until||1!==cur.nodeType||!jQuery(cur).is(until));)1===cur.nodeType&&matched.push(cur),cur=cur[dir];return matched},sibling:function(n,elem){for(var r=[];n;n=n.nextSibling)1===n.nodeType&&n!==elem&&r.push(n);return r}}),jQuery.fn.extend({has:function(target){var i,targets=jQuery(target,this),len=targets.length;return this.filter(function(){for(i=0;len>i;i++)if(jQuery.contains(this,targets[i]))return!0})},closest:function(selectors,context){for(var cur,i=0,l=this.length,matched=[],pos=rneedsContext.test(selectors)||"string"!=typeof selectors?jQuery(selectors,context||this.context):0;l>i;i++)for(cur=this[i];cur&&cur!==context;cur=cur.parentNode)if(cur.nodeType<11&&(pos?pos.index(cur)>-1:1===cur.nodeType&&jQuery.find.matchesSelector(cur,selectors))){matched.push(cur);break}return this.pushStack(matched.length>1?jQuery.unique(matched):matched)},index:function(elem){return elem?"string"==typeof elem?jQuery.inArray(this[0],jQuery(elem)):jQuery.inArray(elem.jquery?elem[0]:elem,this):this[0]&&this[0].parentNode?this.first().prevAll().length:-1},add:function(selector,context){return this.pushStack(jQuery.unique(jQuery.merge(this.get(),jQuery(selector,context))))},addBack:function(selector){return this.add(null==selector?this.prevObject:this.prevObject.filter(selector))}}),jQuery.each({parent:function(elem){var parent=elem.parentNode;return parent&&11!==parent.nodeType?parent:null},parents:function(elem){return jQuery.dir(elem,"parentNode")},parentsUntil:function(elem,i,until){return jQuery.dir(elem,"parentNode",until)},next:function(elem){return sibling(elem,"nextSibling")},prev:function(elem){return sibling(elem,"previousSibling")},nextAll:function(elem){return jQuery.dir(elem,"nextSibling")},prevAll:function(elem){return jQuery.dir(elem,"previousSibling")},nextUntil:function(elem,i,until){return jQuery.dir(elem,"nextSibling",until)},prevUntil:function(elem,i,until){return jQuery.dir(elem,"previousSibling",until)},siblings:function(elem){return jQuery.sibling((elem.parentNode||{}).firstChild,elem)},children:function(elem){return jQuery.sibling(elem.firstChild)},contents:function(elem){return jQuery.nodeName(elem,"iframe")?elem.contentDocument||elem.contentWindow.document:jQuery.merge([],elem.childNodes)}},function(name,fn){jQuery.fn[name]=function(until,selector){var ret=jQuery.map(this,fn,until);return"Until"!==name.slice(-5)&&(selector=until),selector&&"string"==typeof selector&&(ret=jQuery.filter(selector,ret)),this.length>1&&(guaranteedUnique[name]||(ret=jQuery.unique(ret)),rparentsprev.test(name)&&(ret=ret.reverse())),this.pushStack(ret)}});var rnotwhite=/\S+/g,optionsCache={};jQuery.Callbacks=function(options){options="string"==typeof options?optionsCache[options]||createOptions(options):jQuery.extend({},options);var firing,memory,fired,firingLength,firingIndex,firingStart,list=[],stack=!options.once&&[],fire=function(data){for(memory=options.memory&&data,fired=!0,firingIndex=firingStart||0,firingStart=0,firingLength=list.length,firing=!0;list&&firingLength>firingIndex;firingIndex++)if(list[firingIndex].apply(data[0],data[1])===!1&&options.stopOnFalse){memory=!1;break}firing=!1,list&&(stack?stack.length&&fire(stack.shift()):memory?list=[]:self.disable())},self={add:function(){if(list){var start=list.length;!function add(args){jQuery.each(args,function(_,arg){var type=jQuery.type(arg);"function"===type?options.unique&&self.has(arg)||list.push(arg):arg&&arg.length&&"string"!==type&&add(arg)})}(arguments),firing?firingLength=list.length:memory&&(firingStart=start,fire(memory))}return this},remove:function(){return list&&jQuery.each(arguments,function(_,arg){for(var index;(index=jQuery.inArray(arg,list,index))>-1;)list.splice(index,1),firing&&(firingLength>=index&&firingLength--,firingIndex>=index&&firingIndex--)}),this},has:function(fn){return fn?jQuery.inArray(fn,list)>-1:!(!list||!list.length)},empty:function(){return list=[],firingLength=0,this},disable:function(){return list=stack=memory=void 0,this},disabled:function(){return!list},lock:function(){return stack=void 0,memory||self.disable(),this},locked:function(){return!stack},fireWith:function(context,args){return!list||fired&&!stack||(args=args||[],args=[context,args.slice?args.slice():args],firing?stack.push(args):fire(args)),this},fire:function(){return self.fireWith(this,arguments),this},fired:function(){return!!fired}};return self},jQuery.extend({Deferred:function(func){var tuples=[["resolve","done",jQuery.Callbacks("once memory"),"resolved"],["reject","fail",jQuery.Callbacks("once memory"),"rejected"],["notify","progress",jQuery.Callbacks("memory")]],state="pending",promise={state:function(){return state},always:function(){return deferred.done(arguments).fail(arguments),this},then:function(){var fns=arguments;return jQuery.Deferred(function(newDefer){jQuery.each(tuples,function(i,tuple){var fn=jQuery.isFunction(fns[i])&&fns[i];deferred[tuple[1]](function(){var returned=fn&&fn.apply(this,arguments);returned&&jQuery.isFunction(returned.promise)?returned.promise().done(newDefer.resolve).fail(newDefer.reject).progress(newDefer.notify):newDefer[tuple[0]+"With"](this===promise?newDefer.promise():this,fn?[returned]:arguments)})}),fns=null}).promise()},promise:function(obj){return null!=obj?jQuery.extend(obj,promise):promise}},deferred={};return promise.pipe=promise.then,jQuery.each(tuples,function(i,tuple){var list=tuple[2],stateString=tuple[3];promise[tuple[1]]=list.add,stateString&&list.add(function(){state=stateString},tuples[1^i][2].disable,tuples[2][2].lock),deferred[tuple[0]]=function(){return deferred[tuple[0]+"With"](this===deferred?promise:this,arguments),this},deferred[tuple[0]+"With"]=list.fireWith}),promise.promise(deferred),func&&func.call(deferred,deferred),deferred},when:function(subordinate){var progressValues,progressContexts,resolveContexts,i=0,resolveValues=slice.call(arguments),length=resolveValues.length,remaining=1!==length||subordinate&&jQuery.isFunction(subordinate.promise)?length:0,deferred=1===remaining?subordinate:jQuery.Deferred(),updateFunc=function(i,contexts,values){return function(value){contexts[i]=this,values[i]=arguments.length>1?slice.call(arguments):value,values===progressValues?deferred.notifyWith(contexts,values):--remaining||deferred.resolveWith(contexts,values)}};if(length>1)for(progressValues=new Array(length),progressContexts=new Array(length),resolveContexts=new Array(length);length>i;i++)resolveValues[i]&&jQuery.isFunction(resolveValues[i].promise)?resolveValues[i].promise().done(updateFunc(i,resolveContexts,resolveValues)).fail(deferred.reject).progress(updateFunc(i,progressContexts,progressValues)):--remaining;return remaining||deferred.resolveWith(resolveContexts,resolveValues),deferred.promise()}});var readyList;jQuery.fn.ready=function(fn){return jQuery.ready.promise().done(fn),this},jQuery.extend({isReady:!1,readyWait:1,holdReady:function(hold){hold?jQuery.readyWait++:jQuery.ready(!0)},ready:function(wait){if(wait===!0?!--jQuery.readyWait:!jQuery.isReady){if(!document.body)return setTimeout(jQuery.ready);jQuery.isReady=!0,wait!==!0&&--jQuery.readyWait>0||(readyList.resolveWith(document,[jQuery]),jQuery.fn.trigger&&jQuery(document).trigger("ready").off("ready"))}}}),jQuery.ready.promise=function(obj){if(!readyList)if(readyList=jQuery.Deferred(),"complete"===document.readyState)setTimeout(jQuery.ready);else if(document.addEventListener)document.addEventListener("DOMContentLoaded",completed,!1),window.addEventListener("load",completed,!1);else{document.attachEvent("onreadystatechange",completed),window.attachEvent("onload",completed);var top=!1;try{top=null==window.frameElement&&document.documentElement}catch(e){}top&&top.doScroll&&!function doScrollCheck(){if(!jQuery.isReady){try{top.doScroll("left")}catch(e){return setTimeout(doScrollCheck,50)}detach(),jQuery.ready()}}()}return readyList.promise(obj)};var i,strundefined="undefined";for(i in jQuery(support))break;support.ownLast="0"!==i,support.inlineBlockNeedsLayout=!1,jQuery(function(){var container,div,body=document.getElementsByTagName("body")[0];body&&(container=document.createElement("div"),container.style.cssText="border:0;width:0;height:0;position:absolute;top:0;left:-9999px;margin-top:1px",div=document.createElement("div"),body.appendChild(container).appendChild(div),typeof div.style.zoom!==strundefined&&(div.style.cssText="border:0;margin:0;width:1px;padding:1px;display:inline;zoom:1",(support.inlineBlockNeedsLayout=3===div.offsetWidth)&&(body.style.zoom=1)),body.removeChild(container),container=div=null)
}),function(){var div=document.createElement("div");if(null==support.deleteExpando){support.deleteExpando=!0;try{delete div.test}catch(e){support.deleteExpando=!1}}div=null}(),jQuery.acceptData=function(elem){var noData=jQuery.noData[(elem.nodeName+" ").toLowerCase()],nodeType=+elem.nodeType||1;return 1!==nodeType&&9!==nodeType?!1:!noData||noData!==!0&&elem.getAttribute("classid")===noData};var rbrace=/^(?:\{[\w\W]*\}|\[[\w\W]*\])$/,rmultiDash=/([A-Z])/g;jQuery.extend({cache:{},noData:{"applet ":!0,"embed ":!0,"object ":"clsid:D27CDB6E-AE6D-11cf-96B8-444553540000"},hasData:function(elem){return elem=elem.nodeType?jQuery.cache[elem[jQuery.expando]]:elem[jQuery.expando],!!elem&&!isEmptyDataObject(elem)},data:function(elem,name,data){return internalData(elem,name,data)},removeData:function(elem,name){return internalRemoveData(elem,name)},_data:function(elem,name,data){return internalData(elem,name,data,!0)},_removeData:function(elem,name){return internalRemoveData(elem,name,!0)}}),jQuery.fn.extend({data:function(key,value){var i,name,data,elem=this[0],attrs=elem&&elem.attributes;if(void 0===key){if(this.length&&(data=jQuery.data(elem),1===elem.nodeType&&!jQuery._data(elem,"parsedAttrs"))){for(i=attrs.length;i--;)name=attrs[i].name,0===name.indexOf("data-")&&(name=jQuery.camelCase(name.slice(5)),dataAttr(elem,name,data[name]));jQuery._data(elem,"parsedAttrs",!0)}return data}return"object"==typeof key?this.each(function(){jQuery.data(this,key)}):arguments.length>1?this.each(function(){jQuery.data(this,key,value)}):elem?dataAttr(elem,key,jQuery.data(elem,key)):void 0},removeData:function(key){return this.each(function(){jQuery.removeData(this,key)})}}),jQuery.extend({queue:function(elem,type,data){var queue;return elem?(type=(type||"fx")+"queue",queue=jQuery._data(elem,type),data&&(!queue||jQuery.isArray(data)?queue=jQuery._data(elem,type,jQuery.makeArray(data)):queue.push(data)),queue||[]):void 0},dequeue:function(elem,type){type=type||"fx";var queue=jQuery.queue(elem,type),startLength=queue.length,fn=queue.shift(),hooks=jQuery._queueHooks(elem,type),next=function(){jQuery.dequeue(elem,type)};"inprogress"===fn&&(fn=queue.shift(),startLength--),fn&&("fx"===type&&queue.unshift("inprogress"),delete hooks.stop,fn.call(elem,next,hooks)),!startLength&&hooks&&hooks.empty.fire()},_queueHooks:function(elem,type){var key=type+"queueHooks";return jQuery._data(elem,key)||jQuery._data(elem,key,{empty:jQuery.Callbacks("once memory").add(function(){jQuery._removeData(elem,type+"queue"),jQuery._removeData(elem,key)})})}}),jQuery.fn.extend({queue:function(type,data){var setter=2;return"string"!=typeof type&&(data=type,type="fx",setter--),arguments.length<setter?jQuery.queue(this[0],type):void 0===data?this:this.each(function(){var queue=jQuery.queue(this,type,data);jQuery._queueHooks(this,type),"fx"===type&&"inprogress"!==queue[0]&&jQuery.dequeue(this,type)})},dequeue:function(type){return this.each(function(){jQuery.dequeue(this,type)})},clearQueue:function(type){return this.queue(type||"fx",[])},promise:function(type,obj){var tmp,count=1,defer=jQuery.Deferred(),elements=this,i=this.length,resolve=function(){--count||defer.resolveWith(elements,[elements])};for("string"!=typeof type&&(obj=type,type=void 0),type=type||"fx";i--;)tmp=jQuery._data(elements[i],type+"queueHooks"),tmp&&tmp.empty&&(count++,tmp.empty.add(resolve));return resolve(),defer.promise(obj)}});var pnum=/[+-]?(?:\d*\.|)\d+(?:[eE][+-]?\d+|)/.source,cssExpand=["Top","Right","Bottom","Left"],isHidden=function(elem,el){return elem=el||elem,"none"===jQuery.css(elem,"display")||!jQuery.contains(elem.ownerDocument,elem)},access=jQuery.access=function(elems,fn,key,value,chainable,emptyGet,raw){var i=0,length=elems.length,bulk=null==key;if("object"===jQuery.type(key)){chainable=!0;for(i in key)jQuery.access(elems,fn,i,key[i],!0,emptyGet,raw)}else if(void 0!==value&&(chainable=!0,jQuery.isFunction(value)||(raw=!0),bulk&&(raw?(fn.call(elems,value),fn=null):(bulk=fn,fn=function(elem,key,value){return bulk.call(jQuery(elem),value)})),fn))for(;length>i;i++)fn(elems[i],key,raw?value:value.call(elems[i],i,fn(elems[i],key)));return chainable?elems:bulk?fn.call(elems):length?fn(elems[0],key):emptyGet},rcheckableType=/^(?:checkbox|radio)$/i;!function(){var fragment=document.createDocumentFragment(),div=document.createElement("div"),input=document.createElement("input");if(div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a>",support.leadingWhitespace=3===div.firstChild.nodeType,support.tbody=!div.getElementsByTagName("tbody").length,support.htmlSerialize=!!div.getElementsByTagName("link").length,support.html5Clone="<:nav></:nav>"!==document.createElement("nav").cloneNode(!0).outerHTML,input.type="checkbox",input.checked=!0,fragment.appendChild(input),support.appendChecked=input.checked,div.innerHTML="<textarea>x</textarea>",support.noCloneChecked=!!div.cloneNode(!0).lastChild.defaultValue,fragment.appendChild(div),div.innerHTML="<input type='radio' checked='checked' name='t'/>",support.checkClone=div.cloneNode(!0).cloneNode(!0).lastChild.checked,support.noCloneEvent=!0,div.attachEvent&&(div.attachEvent("onclick",function(){support.noCloneEvent=!1}),div.cloneNode(!0).click()),null==support.deleteExpando){support.deleteExpando=!0;try{delete div.test}catch(e){support.deleteExpando=!1}}fragment=div=input=null}(),function(){var i,eventName,div=document.createElement("div");for(i in{submit:!0,change:!0,focusin:!0})eventName="on"+i,(support[i+"Bubbles"]=eventName in window)||(div.setAttribute(eventName,"t"),support[i+"Bubbles"]=div.attributes[eventName].expando===!1);div=null}();var rformElems=/^(?:input|select|textarea)$/i,rkeyEvent=/^key/,rmouseEvent=/^(?:mouse|contextmenu)|click/,rfocusMorph=/^(?:focusinfocus|focusoutblur)$/,rtypenamespace=/^([^.]*)(?:\.(.+)|)$/;jQuery.event={global:{},add:function(elem,types,handler,data,selector){var tmp,events,t,handleObjIn,special,eventHandle,handleObj,handlers,type,namespaces,origType,elemData=jQuery._data(elem);if(elemData){for(handler.handler&&(handleObjIn=handler,handler=handleObjIn.handler,selector=handleObjIn.selector),handler.guid||(handler.guid=jQuery.guid++),(events=elemData.events)||(events=elemData.events={}),(eventHandle=elemData.handle)||(eventHandle=elemData.handle=function(e){return typeof jQuery===strundefined||e&&jQuery.event.triggered===e.type?void 0:jQuery.event.dispatch.apply(eventHandle.elem,arguments)},eventHandle.elem=elem),types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type&&(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,special=jQuery.event.special[type]||{},handleObj=jQuery.extend({type:type,origType:origType,data:data,handler:handler,guid:handler.guid,selector:selector,needsContext:selector&&jQuery.expr.match.needsContext.test(selector),namespace:namespaces.join(".")},handleObjIn),(handlers=events[type])||(handlers=events[type]=[],handlers.delegateCount=0,special.setup&&special.setup.call(elem,data,namespaces,eventHandle)!==!1||(elem.addEventListener?elem.addEventListener(type,eventHandle,!1):elem.attachEvent&&elem.attachEvent("on"+type,eventHandle))),special.add&&(special.add.call(elem,handleObj),handleObj.handler.guid||(handleObj.handler.guid=handler.guid)),selector?handlers.splice(handlers.delegateCount++,0,handleObj):handlers.push(handleObj),jQuery.event.global[type]=!0);elem=null}},remove:function(elem,types,handler,selector,mappedTypes){var j,handleObj,tmp,origCount,t,events,special,handlers,type,namespaces,origType,elemData=jQuery.hasData(elem)&&jQuery._data(elem);if(elemData&&(events=elemData.events)){for(types=(types||"").match(rnotwhite)||[""],t=types.length;t--;)if(tmp=rtypenamespace.exec(types[t])||[],type=origType=tmp[1],namespaces=(tmp[2]||"").split(".").sort(),type){for(special=jQuery.event.special[type]||{},type=(selector?special.delegateType:special.bindType)||type,handlers=events[type]||[],tmp=tmp[2]&&new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"),origCount=j=handlers.length;j--;)handleObj=handlers[j],!mappedTypes&&origType!==handleObj.origType||handler&&handler.guid!==handleObj.guid||tmp&&!tmp.test(handleObj.namespace)||selector&&selector!==handleObj.selector&&("**"!==selector||!handleObj.selector)||(handlers.splice(j,1),handleObj.selector&&handlers.delegateCount--,special.remove&&special.remove.call(elem,handleObj));origCount&&!handlers.length&&(special.teardown&&special.teardown.call(elem,namespaces,elemData.handle)!==!1||jQuery.removeEvent(elem,type,elemData.handle),delete events[type])}else for(type in events)jQuery.event.remove(elem,type+types[t],handler,selector,!0);jQuery.isEmptyObject(events)&&(delete elemData.handle,jQuery._removeData(elem,"events"))}},trigger:function(event,data,elem,onlyHandlers){var handle,ontype,cur,bubbleType,special,tmp,i,eventPath=[elem||document],type=hasOwn.call(event,"type")?event.type:event,namespaces=hasOwn.call(event,"namespace")?event.namespace.split("."):[];if(cur=tmp=elem=elem||document,3!==elem.nodeType&&8!==elem.nodeType&&!rfocusMorph.test(type+jQuery.event.triggered)&&(type.indexOf(".")>=0&&(namespaces=type.split("."),type=namespaces.shift(),namespaces.sort()),ontype=type.indexOf(":")<0&&"on"+type,event=event[jQuery.expando]?event:new jQuery.Event(type,"object"==typeof event&&event),event.isTrigger=onlyHandlers?2:3,event.namespace=namespaces.join("."),event.namespace_re=event.namespace?new RegExp("(^|\\.)"+namespaces.join("\\.(?:.*\\.|)")+"(\\.|$)"):null,event.result=void 0,event.target||(event.target=elem),data=null==data?[event]:jQuery.makeArray(data,[event]),special=jQuery.event.special[type]||{},onlyHandlers||!special.trigger||special.trigger.apply(elem,data)!==!1)){if(!onlyHandlers&&!special.noBubble&&!jQuery.isWindow(elem)){for(bubbleType=special.delegateType||type,rfocusMorph.test(bubbleType+type)||(cur=cur.parentNode);cur;cur=cur.parentNode)eventPath.push(cur),tmp=cur;tmp===(elem.ownerDocument||document)&&eventPath.push(tmp.defaultView||tmp.parentWindow||window)}for(i=0;(cur=eventPath[i++])&&!event.isPropagationStopped();)event.type=i>1?bubbleType:special.bindType||type,handle=(jQuery._data(cur,"events")||{})[event.type]&&jQuery._data(cur,"handle"),handle&&handle.apply(cur,data),handle=ontype&&cur[ontype],handle&&handle.apply&&jQuery.acceptData(cur)&&(event.result=handle.apply(cur,data),event.result===!1&&event.preventDefault());if(event.type=type,!onlyHandlers&&!event.isDefaultPrevented()&&(!special._default||special._default.apply(eventPath.pop(),data)===!1)&&jQuery.acceptData(elem)&&ontype&&elem[type]&&!jQuery.isWindow(elem)){tmp=elem[ontype],tmp&&(elem[ontype]=null),jQuery.event.triggered=type;try{elem[type]()}catch(e){}jQuery.event.triggered=void 0,tmp&&(elem[ontype]=tmp)}return event.result}},dispatch:function(event){event=jQuery.event.fix(event);var i,ret,handleObj,matched,j,handlerQueue=[],args=slice.call(arguments),handlers=(jQuery._data(this,"events")||{})[event.type]||[],special=jQuery.event.special[event.type]||{};if(args[0]=event,event.delegateTarget=this,!special.preDispatch||special.preDispatch.call(this,event)!==!1){for(handlerQueue=jQuery.event.handlers.call(this,event,handlers),i=0;(matched=handlerQueue[i++])&&!event.isPropagationStopped();)for(event.currentTarget=matched.elem,j=0;(handleObj=matched.handlers[j++])&&!event.isImmediatePropagationStopped();)(!event.namespace_re||event.namespace_re.test(handleObj.namespace))&&(event.handleObj=handleObj,event.data=handleObj.data,ret=((jQuery.event.special[handleObj.origType]||{}).handle||handleObj.handler).apply(matched.elem,args),void 0!==ret&&(event.result=ret)===!1&&(event.preventDefault(),event.stopPropagation()));return special.postDispatch&&special.postDispatch.call(this,event),event.result}},handlers:function(event,handlers){var sel,handleObj,matches,i,handlerQueue=[],delegateCount=handlers.delegateCount,cur=event.target;if(delegateCount&&cur.nodeType&&(!event.button||"click"!==event.type))for(;cur!=this;cur=cur.parentNode||this)if(1===cur.nodeType&&(cur.disabled!==!0||"click"!==event.type)){for(matches=[],i=0;delegateCount>i;i++)handleObj=handlers[i],sel=handleObj.selector+" ",void 0===matches[sel]&&(matches[sel]=handleObj.needsContext?jQuery(sel,this).index(cur)>=0:jQuery.find(sel,this,null,[cur]).length),matches[sel]&&matches.push(handleObj);matches.length&&handlerQueue.push({elem:cur,handlers:matches})}return delegateCount<handlers.length&&handlerQueue.push({elem:this,handlers:handlers.slice(delegateCount)}),handlerQueue},fix:function(event){if(event[jQuery.expando])return event;var i,prop,copy,type=event.type,originalEvent=event,fixHook=this.fixHooks[type];for(fixHook||(this.fixHooks[type]=fixHook=rmouseEvent.test(type)?this.mouseHooks:rkeyEvent.test(type)?this.keyHooks:{}),copy=fixHook.props?this.props.concat(fixHook.props):this.props,event=new jQuery.Event(originalEvent),i=copy.length;i--;)prop=copy[i],event[prop]=originalEvent[prop];return event.target||(event.target=originalEvent.srcElement||document),3===event.target.nodeType&&(event.target=event.target.parentNode),event.metaKey=!!event.metaKey,fixHook.filter?fixHook.filter(event,originalEvent):event},props:"altKey bubbles cancelable ctrlKey currentTarget eventPhase metaKey relatedTarget shiftKey target timeStamp view which".split(" "),fixHooks:{},keyHooks:{props:"char charCode key keyCode".split(" "),filter:function(event,original){return null==event.which&&(event.which=null!=original.charCode?original.charCode:original.keyCode),event}},mouseHooks:{props:"button buttons clientX clientY fromElement offsetX offsetY pageX pageY screenX screenY toElement".split(" "),filter:function(event,original){var body,eventDoc,doc,button=original.button,fromElement=original.fromElement;return null==event.pageX&&null!=original.clientX&&(eventDoc=event.target.ownerDocument||document,doc=eventDoc.documentElement,body=eventDoc.body,event.pageX=original.clientX+(doc&&doc.scrollLeft||body&&body.scrollLeft||0)-(doc&&doc.clientLeft||body&&body.clientLeft||0),event.pageY=original.clientY+(doc&&doc.scrollTop||body&&body.scrollTop||0)-(doc&&doc.clientTop||body&&body.clientTop||0)),!event.relatedTarget&&fromElement&&(event.relatedTarget=fromElement===event.target?original.toElement:fromElement),event.which||void 0===button||(event.which=1&button?1:2&button?3:4&button?2:0),event}},special:{load:{noBubble:!0},focus:{trigger:function(){if(this!==safeActiveElement()&&this.focus)try{return this.focus(),!1}catch(e){}},delegateType:"focusin"},blur:{trigger:function(){return this===safeActiveElement()&&this.blur?(this.blur(),!1):void 0},delegateType:"focusout"},click:{trigger:function(){return jQuery.nodeName(this,"input")&&"checkbox"===this.type&&this.click?(this.click(),!1):void 0},_default:function(event){return jQuery.nodeName(event.target,"a")}},beforeunload:{postDispatch:function(event){void 0!==event.result&&(event.originalEvent.returnValue=event.result)}}},simulate:function(type,elem,event,bubble){var e=jQuery.extend(new jQuery.Event,event,{type:type,isSimulated:!0,originalEvent:{}});bubble?jQuery.event.trigger(e,null,elem):jQuery.event.dispatch.call(elem,e),e.isDefaultPrevented()&&event.preventDefault()}},jQuery.removeEvent=document.removeEventListener?function(elem,type,handle){elem.removeEventListener&&elem.removeEventListener(type,handle,!1)}:function(elem,type,handle){var name="on"+type;elem.detachEvent&&(typeof elem[name]===strundefined&&(elem[name]=null),elem.detachEvent(name,handle))},jQuery.Event=function(src,props){return this instanceof jQuery.Event?(src&&src.type?(this.originalEvent=src,this.type=src.type,this.isDefaultPrevented=src.defaultPrevented||void 0===src.defaultPrevented&&(src.returnValue===!1||src.getPreventDefault&&src.getPreventDefault())?returnTrue:returnFalse):this.type=src,props&&jQuery.extend(this,props),this.timeStamp=src&&src.timeStamp||jQuery.now(),void(this[jQuery.expando]=!0)):new jQuery.Event(src,props)},jQuery.Event.prototype={isDefaultPrevented:returnFalse,isPropagationStopped:returnFalse,isImmediatePropagationStopped:returnFalse,preventDefault:function(){var e=this.originalEvent;this.isDefaultPrevented=returnTrue,e&&(e.preventDefault?e.preventDefault():e.returnValue=!1)},stopPropagation:function(){var e=this.originalEvent;this.isPropagationStopped=returnTrue,e&&(e.stopPropagation&&e.stopPropagation(),e.cancelBubble=!0)},stopImmediatePropagation:function(){this.isImmediatePropagationStopped=returnTrue,this.stopPropagation()}},jQuery.each({mouseenter:"mouseover",mouseleave:"mouseout"},function(orig,fix){jQuery.event.special[orig]={delegateType:fix,bindType:fix,handle:function(event){var ret,target=this,related=event.relatedTarget,handleObj=event.handleObj;return(!related||related!==target&&!jQuery.contains(target,related))&&(event.type=handleObj.origType,ret=handleObj.handler.apply(this,arguments),event.type=fix),ret}}}),support.submitBubbles||(jQuery.event.special.submit={setup:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.add(this,"click._submit keypress._submit",function(e){var elem=e.target,form=jQuery.nodeName(elem,"input")||jQuery.nodeName(elem,"button")?elem.form:void 0;form&&!jQuery._data(form,"submitBubbles")&&(jQuery.event.add(form,"submit._submit",function(event){event._submit_bubble=!0}),jQuery._data(form,"submitBubbles",!0))})},postDispatch:function(event){event._submit_bubble&&(delete event._submit_bubble,this.parentNode&&!event.isTrigger&&jQuery.event.simulate("submit",this.parentNode,event,!0))},teardown:function(){return jQuery.nodeName(this,"form")?!1:void jQuery.event.remove(this,"._submit")}}),support.changeBubbles||(jQuery.event.special.change={setup:function(){return rformElems.test(this.nodeName)?(("checkbox"===this.type||"radio"===this.type)&&(jQuery.event.add(this,"propertychange._change",function(event){"checked"===event.originalEvent.propertyName&&(this._just_changed=!0)}),jQuery.event.add(this,"click._change",function(event){this._just_changed&&!event.isTrigger&&(this._just_changed=!1),jQuery.event.simulate("change",this,event,!0)})),!1):void jQuery.event.add(this,"beforeactivate._change",function(e){var elem=e.target;rformElems.test(elem.nodeName)&&!jQuery._data(elem,"changeBubbles")&&(jQuery.event.add(elem,"change._change",function(event){!this.parentNode||event.isSimulated||event.isTrigger||jQuery.event.simulate("change",this.parentNode,event,!0)}),jQuery._data(elem,"changeBubbles",!0))})},handle:function(event){var elem=event.target;return this!==elem||event.isSimulated||event.isTrigger||"radio"!==elem.type&&"checkbox"!==elem.type?event.handleObj.handler.apply(this,arguments):void 0},teardown:function(){return jQuery.event.remove(this,"._change"),!rformElems.test(this.nodeName)}}),support.focusinBubbles||jQuery.each({focus:"focusin",blur:"focusout"},function(orig,fix){var handler=function(event){jQuery.event.simulate(fix,event.target,jQuery.event.fix(event),!0)};jQuery.event.special[fix]={setup:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix);attaches||doc.addEventListener(orig,handler,!0),jQuery._data(doc,fix,(attaches||0)+1)},teardown:function(){var doc=this.ownerDocument||this,attaches=jQuery._data(doc,fix)-1;attaches?jQuery._data(doc,fix,attaches):(doc.removeEventListener(orig,handler,!0),jQuery._removeData(doc,fix))}}}),jQuery.fn.extend({on:function(types,selector,data,fn,one){var type,origFn;if("object"==typeof types){"string"!=typeof selector&&(data=data||selector,selector=void 0);for(type in types)this.on(type,selector,data,types[type],one);return this}if(null==data&&null==fn?(fn=selector,data=selector=void 0):null==fn&&("string"==typeof selector?(fn=data,data=void 0):(fn=data,data=selector,selector=void 0)),fn===!1)fn=returnFalse;else if(!fn)return this;return 1===one&&(origFn=fn,fn=function(event){return jQuery().off(event),origFn.apply(this,arguments)},fn.guid=origFn.guid||(origFn.guid=jQuery.guid++)),this.each(function(){jQuery.event.add(this,types,fn,data,selector)})},one:function(types,selector,data,fn){return this.on(types,selector,data,fn,1)},off:function(types,selector,fn){var handleObj,type;if(types&&types.preventDefault&&types.handleObj)return handleObj=types.handleObj,jQuery(types.delegateTarget).off(handleObj.namespace?handleObj.origType+"."+handleObj.namespace:handleObj.origType,handleObj.selector,handleObj.handler),this;if("object"==typeof types){for(type in types)this.off(type,selector,types[type]);return this}return(selector===!1||"function"==typeof selector)&&(fn=selector,selector=void 0),fn===!1&&(fn=returnFalse),this.each(function(){jQuery.event.remove(this,types,fn,selector)})},trigger:function(type,data){return this.each(function(){jQuery.event.trigger(type,data,this)})},triggerHandler:function(type,data){var elem=this[0];return elem?jQuery.event.trigger(type,data,elem,!0):void 0}});var nodeNames="abbr|article|aside|audio|bdi|canvas|data|datalist|details|figcaption|figure|footer|header|hgroup|mark|meter|nav|output|progress|section|summary|time|video",rinlinejQuery=/ jQuery\d+="(?:null|\d+)"/g,rnoshimcache=new RegExp("<(?:"+nodeNames+")[\\s/>]","i"),rleadingWhitespace=/^\s+/,rxhtmlTag=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,rtagName=/<([\w:]+)/,rtbody=/<tbody/i,rhtml=/<|&#?\w+;/,rnoInnerhtml=/<(?:script|style|link)/i,rchecked=/checked\s*(?:[^=]|=\s*.checked.)/i,rscriptType=/^$|\/(?:java|ecma)script/i,rscriptTypeMasked=/^true\/(.*)/,rcleanScript=/^\s*<!(?:\[CDATA\[|--)|(?:\]\]|--)>\s*$/g,wrapMap={option:[1,"<select multiple='multiple'>","</select>"],legend:[1,"<fieldset>","</fieldset>"],area:[1,"<map>","</map>"],param:[1,"<object>","</object>"],thead:[1,"<table>","</table>"],tr:[2,"<table><tbody>","</tbody></table>"],col:[2,"<table><tbody></tbody><colgroup>","</colgroup></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:support.htmlSerialize?[0,"",""]:[1,"X<div>","</div>"]},safeFragment=createSafeFragment(document),fragmentDiv=safeFragment.appendChild(document.createElement("div"));wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td,jQuery.extend({clone:function(elem,dataAndEvents,deepDataAndEvents){var destElements,node,clone,i,srcElements,inPage=jQuery.contains(elem.ownerDocument,elem);if(support.html5Clone||jQuery.isXMLDoc(elem)||!rnoshimcache.test("<"+elem.nodeName+">")?clone=elem.cloneNode(!0):(fragmentDiv.innerHTML=elem.outerHTML,fragmentDiv.removeChild(clone=fragmentDiv.firstChild)),!(support.noCloneEvent&&support.noCloneChecked||1!==elem.nodeType&&11!==elem.nodeType||jQuery.isXMLDoc(elem)))for(destElements=getAll(clone),srcElements=getAll(elem),i=0;null!=(node=srcElements[i]);++i)destElements[i]&&fixCloneNodeIssues(node,destElements[i]);if(dataAndEvents)if(deepDataAndEvents)for(srcElements=srcElements||getAll(elem),destElements=destElements||getAll(clone),i=0;null!=(node=srcElements[i]);i++)cloneCopyEvent(node,destElements[i]);else cloneCopyEvent(elem,clone);return destElements=getAll(clone,"script"),destElements.length>0&&setGlobalEval(destElements,!inPage&&getAll(elem,"script")),destElements=srcElements=node=null,clone},buildFragment:function(elems,context,scripts,selection){for(var j,elem,contains,tmp,tag,tbody,wrap,l=elems.length,safe=createSafeFragment(context),nodes=[],i=0;l>i;i++)if(elem=elems[i],elem||0===elem)if("object"===jQuery.type(elem))jQuery.merge(nodes,elem.nodeType?[elem]:elem);else if(rhtml.test(elem)){for(tmp=tmp||safe.appendChild(context.createElement("div")),tag=(rtagName.exec(elem)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+elem.replace(rxhtmlTag,"<$1></$2>")+wrap[2],j=wrap[0];j--;)tmp=tmp.lastChild;if(!support.leadingWhitespace&&rleadingWhitespace.test(elem)&&nodes.push(context.createTextNode(rleadingWhitespace.exec(elem)[0])),!support.tbody)for(elem="table"!==tag||rtbody.test(elem)?"<table>"!==wrap[1]||rtbody.test(elem)?0:tmp:tmp.firstChild,j=elem&&elem.childNodes.length;j--;)jQuery.nodeName(tbody=elem.childNodes[j],"tbody")&&!tbody.childNodes.length&&elem.removeChild(tbody);for(jQuery.merge(nodes,tmp.childNodes),tmp.textContent="";tmp.firstChild;)tmp.removeChild(tmp.firstChild);tmp=safe.lastChild}else nodes.push(context.createTextNode(elem));for(tmp&&safe.removeChild(tmp),support.appendChecked||jQuery.grep(getAll(nodes,"input"),fixDefaultChecked),i=0;elem=nodes[i++];)if((!selection||-1===jQuery.inArray(elem,selection))&&(contains=jQuery.contains(elem.ownerDocument,elem),tmp=getAll(safe.appendChild(elem),"script"),contains&&setGlobalEval(tmp),scripts))for(j=0;elem=tmp[j++];)rscriptType.test(elem.type||"")&&scripts.push(elem);return tmp=null,safe},cleanData:function(elems,acceptData){for(var elem,type,id,data,i=0,internalKey=jQuery.expando,cache=jQuery.cache,deleteExpando=support.deleteExpando,special=jQuery.event.special;null!=(elem=elems[i]);i++)if((acceptData||jQuery.acceptData(elem))&&(id=elem[internalKey],data=id&&cache[id])){if(data.events)for(type in data.events)special[type]?jQuery.event.remove(elem,type):jQuery.removeEvent(elem,type,data.handle);cache[id]&&(delete cache[id],deleteExpando?delete elem[internalKey]:typeof elem.removeAttribute!==strundefined?elem.removeAttribute(internalKey):elem[internalKey]=null,deletedIds.push(id))}}}),jQuery.fn.extend({text:function(value){return access(this,function(value){return void 0===value?jQuery.text(this):this.empty().append((this[0]&&this[0].ownerDocument||document).createTextNode(value))},null,value,arguments.length)},append:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.appendChild(elem)}})},prepend:function(){return this.domManip(arguments,function(elem){if(1===this.nodeType||11===this.nodeType||9===this.nodeType){var target=manipulationTarget(this,elem);target.insertBefore(elem,target.firstChild)}})},before:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this)})},after:function(){return this.domManip(arguments,function(elem){this.parentNode&&this.parentNode.insertBefore(elem,this.nextSibling)})},remove:function(selector,keepData){for(var elem,elems=selector?jQuery.filter(selector,this):this,i=0;null!=(elem=elems[i]);i++)keepData||1!==elem.nodeType||jQuery.cleanData(getAll(elem)),elem.parentNode&&(keepData&&jQuery.contains(elem.ownerDocument,elem)&&setGlobalEval(getAll(elem,"script")),elem.parentNode.removeChild(elem));return this},empty:function(){for(var elem,i=0;null!=(elem=this[i]);i++){for(1===elem.nodeType&&jQuery.cleanData(getAll(elem,!1));elem.firstChild;)elem.removeChild(elem.firstChild);elem.options&&jQuery.nodeName(elem,"select")&&(elem.options.length=0)}return this},clone:function(dataAndEvents,deepDataAndEvents){return dataAndEvents=null==dataAndEvents?!1:dataAndEvents,deepDataAndEvents=null==deepDataAndEvents?dataAndEvents:deepDataAndEvents,this.map(function(){return jQuery.clone(this,dataAndEvents,deepDataAndEvents)})},html:function(value){return access(this,function(value){var elem=this[0]||{},i=0,l=this.length;if(void 0===value)return 1===elem.nodeType?elem.innerHTML.replace(rinlinejQuery,""):void 0;if(!("string"!=typeof value||rnoInnerhtml.test(value)||!support.htmlSerialize&&rnoshimcache.test(value)||!support.leadingWhitespace&&rleadingWhitespace.test(value)||wrapMap[(rtagName.exec(value)||["",""])[1].toLowerCase()])){value=value.replace(rxhtmlTag,"<$1></$2>");try{for(;l>i;i++)elem=this[i]||{},1===elem.nodeType&&(jQuery.cleanData(getAll(elem,!1)),elem.innerHTML=value);elem=0}catch(e){}}elem&&this.empty().append(value)},null,value,arguments.length)},replaceWith:function(){var arg=arguments[0];return this.domManip(arguments,function(elem){arg=this.parentNode,jQuery.cleanData(getAll(this)),arg&&arg.replaceChild(elem,this)}),arg&&(arg.length||arg.nodeType)?this:this.remove()},detach:function(selector){return this.remove(selector,!0)},domManip:function(args,callback){args=concat.apply([],args);var first,node,hasScripts,scripts,doc,fragment,i=0,l=this.length,set=this,iNoClone=l-1,value=args[0],isFunction=jQuery.isFunction(value);if(isFunction||l>1&&"string"==typeof value&&!support.checkClone&&rchecked.test(value))return this.each(function(index){var self=set.eq(index);isFunction&&(args[0]=value.call(this,index,self.html())),self.domManip(args,callback)});if(l&&(fragment=jQuery.buildFragment(args,this[0].ownerDocument,!1,this),first=fragment.firstChild,1===fragment.childNodes.length&&(fragment=first),first)){for(scripts=jQuery.map(getAll(fragment,"script"),disableScript),hasScripts=scripts.length;l>i;i++)node=fragment,i!==iNoClone&&(node=jQuery.clone(node,!0,!0),hasScripts&&jQuery.merge(scripts,getAll(node,"script"))),callback.call(this[i],node,i);if(hasScripts)for(doc=scripts[scripts.length-1].ownerDocument,jQuery.map(scripts,restoreScript),i=0;hasScripts>i;i++)node=scripts[i],rscriptType.test(node.type||"")&&!jQuery._data(node,"globalEval")&&jQuery.contains(doc,node)&&(node.src?jQuery._evalUrl&&jQuery._evalUrl(node.src):jQuery.globalEval((node.text||node.textContent||node.innerHTML||"").replace(rcleanScript,"")));fragment=first=null}return this}}),jQuery.each({appendTo:"append",prependTo:"prepend",insertBefore:"before",insertAfter:"after",replaceAll:"replaceWith"},function(name,original){jQuery.fn[name]=function(selector){for(var elems,i=0,ret=[],insert=jQuery(selector),last=insert.length-1;last>=i;i++)elems=i===last?this:this.clone(!0),jQuery(insert[i])[original](elems),push.apply(ret,elems.get());return this.pushStack(ret)}});var iframe,elemdisplay={};!function(){var a,shrinkWrapBlocksVal,div=document.createElement("div"),divReset="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=div.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",support.opacity=/^0.5/.test(a.style.opacity),support.cssFloat=!!a.style.cssFloat,div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,a=div=null,support.shrinkWrapBlocks=function(){var body,container,div,containerStyles;if(null==shrinkWrapBlocksVal){if(body=document.getElementsByTagName("body")[0],!body)return;containerStyles="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",container=document.createElement("div"),div=document.createElement("div"),body.appendChild(container).appendChild(div),shrinkWrapBlocksVal=!1,typeof div.style.zoom!==strundefined&&(div.style.cssText=divReset+";width:1px;padding:1px;zoom:1",div.innerHTML="<div></div>",div.firstChild.style.width="5px",shrinkWrapBlocksVal=3!==div.offsetWidth),body.removeChild(container),body=container=div=null}return shrinkWrapBlocksVal}}();var getStyles,curCSS,rmargin=/^margin/,rnumnonpx=new RegExp("^("+pnum+")(?!px)[a-z%]+$","i"),rposition=/^(top|right|bottom|left)$/;window.getComputedStyle?(getStyles=function(elem){return elem.ownerDocument.defaultView.getComputedStyle(elem,null)},curCSS=function(elem,name,computed){var width,minWidth,maxWidth,ret,style=elem.style;return computed=computed||getStyles(elem),ret=computed?computed.getPropertyValue(name)||computed[name]:void 0,computed&&(""!==ret||jQuery.contains(elem.ownerDocument,elem)||(ret=jQuery.style(elem,name)),rnumnonpx.test(ret)&&rmargin.test(name)&&(width=style.width,minWidth=style.minWidth,maxWidth=style.maxWidth,style.minWidth=style.maxWidth=style.width=ret,ret=computed.width,style.width=width,style.minWidth=minWidth,style.maxWidth=maxWidth)),void 0===ret?ret:ret+""}):document.documentElement.currentStyle&&(getStyles=function(elem){return elem.currentStyle},curCSS=function(elem,name,computed){var left,rs,rsLeft,ret,style=elem.style;return computed=computed||getStyles(elem),ret=computed?computed[name]:void 0,null==ret&&style&&style[name]&&(ret=style[name]),rnumnonpx.test(ret)&&!rposition.test(name)&&(left=style.left,rs=elem.runtimeStyle,rsLeft=rs&&rs.left,rsLeft&&(rs.left=elem.currentStyle.left),style.left="fontSize"===name?"1em":ret,ret=style.pixelLeft+"px",style.left=left,rsLeft&&(rs.left=rsLeft)),void 0===ret?ret:ret+""||"auto"
}),function(){function computeStyleTests(){var container,div,body=document.getElementsByTagName("body")[0];body&&(container=document.createElement("div"),div=document.createElement("div"),container.style.cssText=containerStyles,body.appendChild(container).appendChild(div),div.style.cssText="-webkit-box-sizing:border-box;-moz-box-sizing:border-box;box-sizing:border-box;position:absolute;display:block;padding:1px;border:1px;width:4px;margin-top:1%;top:1%",jQuery.swap(body,null!=body.style.zoom?{zoom:1}:{},function(){boxSizingVal=4===div.offsetWidth}),boxSizingReliableVal=!0,pixelPositionVal=!1,reliableMarginRightVal=!0,window.getComputedStyle&&(pixelPositionVal="1%"!==(window.getComputedStyle(div,null)||{}).top,boxSizingReliableVal="4px"===(window.getComputedStyle(div,null)||{width:"4px"}).width),body.removeChild(container),div=body=null)}var a,reliableHiddenOffsetsVal,boxSizingVal,boxSizingReliableVal,pixelPositionVal,reliableMarginRightVal,div=document.createElement("div"),containerStyles="border:0;width:0;height:0;position:absolute;top:0;left:-9999px",divReset="-webkit-box-sizing:content-box;-moz-box-sizing:content-box;box-sizing:content-box;display:block;padding:0;margin:0;border:0";div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=div.getElementsByTagName("a")[0],a.style.cssText="float:left;opacity:.5",support.opacity=/^0.5/.test(a.style.opacity),support.cssFloat=!!a.style.cssFloat,div.style.backgroundClip="content-box",div.cloneNode(!0).style.backgroundClip="",support.clearCloneStyle="content-box"===div.style.backgroundClip,a=div=null,jQuery.extend(support,{reliableHiddenOffsets:function(){if(null!=reliableHiddenOffsetsVal)return reliableHiddenOffsetsVal;var container,tds,isSupported,div=document.createElement("div"),body=document.getElementsByTagName("body")[0];if(body)return div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",container=document.createElement("div"),container.style.cssText=containerStyles,body.appendChild(container).appendChild(div),div.innerHTML="<table><tr><td></td><td>t</td></tr></table>",tds=div.getElementsByTagName("td"),tds[0].style.cssText="padding:0;margin:0;border:0;display:none",isSupported=0===tds[0].offsetHeight,tds[0].style.display="",tds[1].style.display="none",reliableHiddenOffsetsVal=isSupported&&0===tds[0].offsetHeight,body.removeChild(container),div=body=null,reliableHiddenOffsetsVal},boxSizing:function(){return null==boxSizingVal&&computeStyleTests(),boxSizingVal},boxSizingReliable:function(){return null==boxSizingReliableVal&&computeStyleTests(),boxSizingReliableVal},pixelPosition:function(){return null==pixelPositionVal&&computeStyleTests(),pixelPositionVal},reliableMarginRight:function(){var body,container,div,marginDiv;if(null==reliableMarginRightVal&&window.getComputedStyle){if(body=document.getElementsByTagName("body")[0],!body)return;container=document.createElement("div"),div=document.createElement("div"),container.style.cssText=containerStyles,body.appendChild(container).appendChild(div),marginDiv=div.appendChild(document.createElement("div")),marginDiv.style.cssText=div.style.cssText=divReset,marginDiv.style.marginRight=marginDiv.style.width="0",div.style.width="1px",reliableMarginRightVal=!parseFloat((window.getComputedStyle(marginDiv,null)||{}).marginRight),body.removeChild(container)}return reliableMarginRightVal}})}(),jQuery.swap=function(elem,options,callback,args){var ret,name,old={};for(name in options)old[name]=elem.style[name],elem.style[name]=options[name];ret=callback.apply(elem,args||[]);for(name in options)elem.style[name]=old[name];return ret};var ralpha=/alpha\([^)]*\)/i,ropacity=/opacity\s*=\s*([^)]*)/,rdisplayswap=/^(none|table(?!-c[ea]).+)/,rnumsplit=new RegExp("^("+pnum+")(.*)$","i"),rrelNum=new RegExp("^([+-])=("+pnum+")","i"),cssShow={position:"absolute",visibility:"hidden",display:"block"},cssNormalTransform={letterSpacing:0,fontWeight:400},cssPrefixes=["Webkit","O","Moz","ms"];jQuery.extend({cssHooks:{opacity:{get:function(elem,computed){if(computed){var ret=curCSS(elem,"opacity");return""===ret?"1":ret}}}},cssNumber:{columnCount:!0,fillOpacity:!0,fontWeight:!0,lineHeight:!0,opacity:!0,order:!0,orphans:!0,widows:!0,zIndex:!0,zoom:!0},cssProps:{"float":support.cssFloat?"cssFloat":"styleFloat"},style:function(elem,name,value,extra){if(elem&&3!==elem.nodeType&&8!==elem.nodeType&&elem.style){var ret,type,hooks,origName=jQuery.camelCase(name),style=elem.style;if(name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],void 0===value)return hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,!1,extra))?ret:style[name];if(type=typeof value,"string"===type&&(ret=rrelNum.exec(value))&&(value=(ret[1]+1)*ret[2]+parseFloat(jQuery.css(elem,name)),type="number"),null!=value&&value===value&&("number"!==type||jQuery.cssNumber[origName]||(value+="px"),support.clearCloneStyle||""!==value||0!==name.indexOf("background")||(style[name]="inherit"),!(hooks&&"set"in hooks&&void 0===(value=hooks.set(elem,value,extra)))))try{style[name]="",style[name]=value}catch(e){}}},css:function(elem,name,extra,styles){var num,val,hooks,origName=jQuery.camelCase(name);return name=jQuery.cssProps[origName]||(jQuery.cssProps[origName]=vendorPropName(elem.style,origName)),hooks=jQuery.cssHooks[name]||jQuery.cssHooks[origName],hooks&&"get"in hooks&&(val=hooks.get(elem,!0,extra)),void 0===val&&(val=curCSS(elem,name,styles)),"normal"===val&&name in cssNormalTransform&&(val=cssNormalTransform[name]),""===extra||extra?(num=parseFloat(val),extra===!0||jQuery.isNumeric(num)?num||0:val):val}}),jQuery.each(["height","width"],function(i,name){jQuery.cssHooks[name]={get:function(elem,computed,extra){return computed?0===elem.offsetWidth&&rdisplayswap.test(jQuery.css(elem,"display"))?jQuery.swap(elem,cssShow,function(){return getWidthOrHeight(elem,name,extra)}):getWidthOrHeight(elem,name,extra):void 0},set:function(elem,value,extra){var styles=extra&&getStyles(elem);return setPositiveNumber(elem,value,extra?augmentWidthOrHeight(elem,name,extra,support.boxSizing()&&"border-box"===jQuery.css(elem,"boxSizing",!1,styles),styles):0)}}}),support.opacity||(jQuery.cssHooks.opacity={get:function(elem,computed){return ropacity.test((computed&&elem.currentStyle?elem.currentStyle.filter:elem.style.filter)||"")?.01*parseFloat(RegExp.$1)+"":computed?"1":""},set:function(elem,value){var style=elem.style,currentStyle=elem.currentStyle,opacity=jQuery.isNumeric(value)?"alpha(opacity="+100*value+")":"",filter=currentStyle&&currentStyle.filter||style.filter||"";style.zoom=1,(value>=1||""===value)&&""===jQuery.trim(filter.replace(ralpha,""))&&style.removeAttribute&&(style.removeAttribute("filter"),""===value||currentStyle&&!currentStyle.filter)||(style.filter=ralpha.test(filter)?filter.replace(ralpha,opacity):filter+" "+opacity)}}),jQuery.cssHooks.marginRight=addGetHookIf(support.reliableMarginRight,function(elem,computed){return computed?jQuery.swap(elem,{display:"inline-block"},curCSS,[elem,"marginRight"]):void 0}),jQuery.each({margin:"",padding:"",border:"Width"},function(prefix,suffix){jQuery.cssHooks[prefix+suffix]={expand:function(value){for(var i=0,expanded={},parts="string"==typeof value?value.split(" "):[value];4>i;i++)expanded[prefix+cssExpand[i]+suffix]=parts[i]||parts[i-2]||parts[0];return expanded}},rmargin.test(prefix)||(jQuery.cssHooks[prefix+suffix].set=setPositiveNumber)}),jQuery.fn.extend({css:function(name,value){return access(this,function(elem,name,value){var styles,len,map={},i=0;if(jQuery.isArray(name)){for(styles=getStyles(elem),len=name.length;len>i;i++)map[name[i]]=jQuery.css(elem,name[i],!1,styles);return map}return void 0!==value?jQuery.style(elem,name,value):jQuery.css(elem,name)},name,value,arguments.length>1)},show:function(){return showHide(this,!0)},hide:function(){return showHide(this)},toggle:function(state){return"boolean"==typeof state?state?this.show():this.hide():this.each(function(){isHidden(this)?jQuery(this).show():jQuery(this).hide()})}}),jQuery.Tween=Tween,Tween.prototype={constructor:Tween,init:function(elem,options,prop,end,easing,unit){this.elem=elem,this.prop=prop,this.easing=easing||"swing",this.options=options,this.start=this.now=this.cur(),this.end=end,this.unit=unit||(jQuery.cssNumber[prop]?"":"px")},cur:function(){var hooks=Tween.propHooks[this.prop];return hooks&&hooks.get?hooks.get(this):Tween.propHooks._default.get(this)},run:function(percent){var eased,hooks=Tween.propHooks[this.prop];return this.pos=eased=this.options.duration?jQuery.easing[this.easing](percent,this.options.duration*percent,0,1,this.options.duration):percent,this.now=(this.end-this.start)*eased+this.start,this.options.step&&this.options.step.call(this.elem,this.now,this),hooks&&hooks.set?hooks.set(this):Tween.propHooks._default.set(this),this}},Tween.prototype.init.prototype=Tween.prototype,Tween.propHooks={_default:{get:function(tween){var result;return null==tween.elem[tween.prop]||tween.elem.style&&null!=tween.elem.style[tween.prop]?(result=jQuery.css(tween.elem,tween.prop,""),result&&"auto"!==result?result:0):tween.elem[tween.prop]},set:function(tween){jQuery.fx.step[tween.prop]?jQuery.fx.step[tween.prop](tween):tween.elem.style&&(null!=tween.elem.style[jQuery.cssProps[tween.prop]]||jQuery.cssHooks[tween.prop])?jQuery.style(tween.elem,tween.prop,tween.now+tween.unit):tween.elem[tween.prop]=tween.now}}},Tween.propHooks.scrollTop=Tween.propHooks.scrollLeft={set:function(tween){tween.elem.nodeType&&tween.elem.parentNode&&(tween.elem[tween.prop]=tween.now)}},jQuery.easing={linear:function(p){return p},swing:function(p){return.5-Math.cos(p*Math.PI)/2}},jQuery.fx=Tween.prototype.init,jQuery.fx.step={};var fxNow,timerId,rfxtypes=/^(?:toggle|show|hide)$/,rfxnum=new RegExp("^(?:([+-])=|)("+pnum+")([a-z%]*)$","i"),rrun=/queueHooks$/,animationPrefilters=[defaultPrefilter],tweeners={"*":[function(prop,value){var tween=this.createTween(prop,value),target=tween.cur(),parts=rfxnum.exec(value),unit=parts&&parts[3]||(jQuery.cssNumber[prop]?"":"px"),start=(jQuery.cssNumber[prop]||"px"!==unit&&+target)&&rfxnum.exec(jQuery.css(tween.elem,prop)),scale=1,maxIterations=20;if(start&&start[3]!==unit){unit=unit||start[3],parts=parts||[],start=+target||1;do scale=scale||".5",start/=scale,jQuery.style(tween.elem,prop,start+unit);while(scale!==(scale=tween.cur()/target)&&1!==scale&&--maxIterations)}return parts&&(start=tween.start=+start||+target||0,tween.unit=unit,tween.end=parts[1]?start+(parts[1]+1)*parts[2]:+parts[2]),tween}]};jQuery.Animation=jQuery.extend(Animation,{tweener:function(props,callback){jQuery.isFunction(props)?(callback=props,props=["*"]):props=props.split(" ");for(var prop,index=0,length=props.length;length>index;index++)prop=props[index],tweeners[prop]=tweeners[prop]||[],tweeners[prop].unshift(callback)},prefilter:function(callback,prepend){prepend?animationPrefilters.unshift(callback):animationPrefilters.push(callback)}}),jQuery.speed=function(speed,easing,fn){var opt=speed&&"object"==typeof speed?jQuery.extend({},speed):{complete:fn||!fn&&easing||jQuery.isFunction(speed)&&speed,duration:speed,easing:fn&&easing||easing&&!jQuery.isFunction(easing)&&easing};return opt.duration=jQuery.fx.off?0:"number"==typeof opt.duration?opt.duration:opt.duration in jQuery.fx.speeds?jQuery.fx.speeds[opt.duration]:jQuery.fx.speeds._default,(null==opt.queue||opt.queue===!0)&&(opt.queue="fx"),opt.old=opt.complete,opt.complete=function(){jQuery.isFunction(opt.old)&&opt.old.call(this),opt.queue&&jQuery.dequeue(this,opt.queue)},opt},jQuery.fn.extend({fadeTo:function(speed,to,easing,callback){return this.filter(isHidden).css("opacity",0).show().end().animate({opacity:to},speed,easing,callback)},animate:function(prop,speed,easing,callback){var empty=jQuery.isEmptyObject(prop),optall=jQuery.speed(speed,easing,callback),doAnimation=function(){var anim=Animation(this,jQuery.extend({},prop),optall);(empty||jQuery._data(this,"finish"))&&anim.stop(!0)};return doAnimation.finish=doAnimation,empty||optall.queue===!1?this.each(doAnimation):this.queue(optall.queue,doAnimation)},stop:function(type,clearQueue,gotoEnd){var stopQueue=function(hooks){var stop=hooks.stop;delete hooks.stop,stop(gotoEnd)};return"string"!=typeof type&&(gotoEnd=clearQueue,clearQueue=type,type=void 0),clearQueue&&type!==!1&&this.queue(type||"fx",[]),this.each(function(){var dequeue=!0,index=null!=type&&type+"queueHooks",timers=jQuery.timers,data=jQuery._data(this);if(index)data[index]&&data[index].stop&&stopQueue(data[index]);else for(index in data)data[index]&&data[index].stop&&rrun.test(index)&&stopQueue(data[index]);for(index=timers.length;index--;)timers[index].elem!==this||null!=type&&timers[index].queue!==type||(timers[index].anim.stop(gotoEnd),dequeue=!1,timers.splice(index,1));(dequeue||!gotoEnd)&&jQuery.dequeue(this,type)})},finish:function(type){return type!==!1&&(type=type||"fx"),this.each(function(){var index,data=jQuery._data(this),queue=data[type+"queue"],hooks=data[type+"queueHooks"],timers=jQuery.timers,length=queue?queue.length:0;for(data.finish=!0,jQuery.queue(this,type,[]),hooks&&hooks.stop&&hooks.stop.call(this,!0),index=timers.length;index--;)timers[index].elem===this&&timers[index].queue===type&&(timers[index].anim.stop(!0),timers.splice(index,1));for(index=0;length>index;index++)queue[index]&&queue[index].finish&&queue[index].finish.call(this);delete data.finish})}}),jQuery.each(["toggle","show","hide"],function(i,name){var cssFn=jQuery.fn[name];jQuery.fn[name]=function(speed,easing,callback){return null==speed||"boolean"==typeof speed?cssFn.apply(this,arguments):this.animate(genFx(name,!0),speed,easing,callback)}}),jQuery.each({slideDown:genFx("show"),slideUp:genFx("hide"),slideToggle:genFx("toggle"),fadeIn:{opacity:"show"},fadeOut:{opacity:"hide"},fadeToggle:{opacity:"toggle"}},function(name,props){jQuery.fn[name]=function(speed,easing,callback){return this.animate(props,speed,easing,callback)}}),jQuery.timers=[],jQuery.fx.tick=function(){var timer,timers=jQuery.timers,i=0;for(fxNow=jQuery.now();i<timers.length;i++)timer=timers[i],timer()||timers[i]!==timer||timers.splice(i--,1);timers.length||jQuery.fx.stop(),fxNow=void 0},jQuery.fx.timer=function(timer){jQuery.timers.push(timer),timer()?jQuery.fx.start():jQuery.timers.pop()},jQuery.fx.interval=13,jQuery.fx.start=function(){timerId||(timerId=setInterval(jQuery.fx.tick,jQuery.fx.interval))},jQuery.fx.stop=function(){clearInterval(timerId),timerId=null},jQuery.fx.speeds={slow:600,fast:200,_default:400},jQuery.fn.delay=function(time,type){return time=jQuery.fx?jQuery.fx.speeds[time]||time:time,type=type||"fx",this.queue(type,function(next,hooks){var timeout=setTimeout(next,time);hooks.stop=function(){clearTimeout(timeout)}})},function(){var a,input,select,opt,div=document.createElement("div");div.setAttribute("className","t"),div.innerHTML="  <link/><table></table><a href='/a'>a</a><input type='checkbox'/>",a=div.getElementsByTagName("a")[0],select=document.createElement("select"),opt=select.appendChild(document.createElement("option")),input=div.getElementsByTagName("input")[0],a.style.cssText="top:1px",support.getSetAttribute="t"!==div.className,support.style=/top/.test(a.getAttribute("style")),support.hrefNormalized="/a"===a.getAttribute("href"),support.checkOn=!!input.value,support.optSelected=opt.selected,support.enctype=!!document.createElement("form").enctype,select.disabled=!0,support.optDisabled=!opt.disabled,input=document.createElement("input"),input.setAttribute("value",""),support.input=""===input.getAttribute("value"),input.value="t",input.setAttribute("type","radio"),support.radioValue="t"===input.value,a=input=select=opt=div=null}();var rreturn=/\r/g;jQuery.fn.extend({val:function(value){var hooks,ret,isFunction,elem=this[0];{if(arguments.length)return isFunction=jQuery.isFunction(value),this.each(function(i){var val;1===this.nodeType&&(val=isFunction?value.call(this,i,jQuery(this).val()):value,null==val?val="":"number"==typeof val?val+="":jQuery.isArray(val)&&(val=jQuery.map(val,function(value){return null==value?"":value+""})),hooks=jQuery.valHooks[this.type]||jQuery.valHooks[this.nodeName.toLowerCase()],hooks&&"set"in hooks&&void 0!==hooks.set(this,val,"value")||(this.value=val))});if(elem)return hooks=jQuery.valHooks[elem.type]||jQuery.valHooks[elem.nodeName.toLowerCase()],hooks&&"get"in hooks&&void 0!==(ret=hooks.get(elem,"value"))?ret:(ret=elem.value,"string"==typeof ret?ret.replace(rreturn,""):null==ret?"":ret)}}}),jQuery.extend({valHooks:{option:{get:function(elem){var val=jQuery.find.attr(elem,"value");return null!=val?val:jQuery.text(elem)}},select:{get:function(elem){for(var value,option,options=elem.options,index=elem.selectedIndex,one="select-one"===elem.type||0>index,values=one?null:[],max=one?index+1:options.length,i=0>index?max:one?index:0;max>i;i++)if(option=options[i],!(!option.selected&&i!==index||(support.optDisabled?option.disabled:null!==option.getAttribute("disabled"))||option.parentNode.disabled&&jQuery.nodeName(option.parentNode,"optgroup"))){if(value=jQuery(option).val(),one)return value;values.push(value)}return values},set:function(elem,value){for(var optionSet,option,options=elem.options,values=jQuery.makeArray(value),i=options.length;i--;)if(option=options[i],jQuery.inArray(jQuery.valHooks.option.get(option),values)>=0)try{option.selected=optionSet=!0}catch(_){option.scrollHeight}else option.selected=!1;return optionSet||(elem.selectedIndex=-1),options}}}}),jQuery.each(["radio","checkbox"],function(){jQuery.valHooks[this]={set:function(elem,value){return jQuery.isArray(value)?elem.checked=jQuery.inArray(jQuery(elem).val(),value)>=0:void 0}},support.checkOn||(jQuery.valHooks[this].get=function(elem){return null===elem.getAttribute("value")?"on":elem.value})});var nodeHook,boolHook,attrHandle=jQuery.expr.attrHandle,ruseDefault=/^(?:checked|selected)$/i,getSetAttribute=support.getSetAttribute,getSetInput=support.input;jQuery.fn.extend({attr:function(name,value){return access(this,jQuery.attr,name,value,arguments.length>1)},removeAttr:function(name){return this.each(function(){jQuery.removeAttr(this,name)})}}),jQuery.extend({attr:function(elem,name,value){var hooks,ret,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return typeof elem.getAttribute===strundefined?jQuery.prop(elem,name,value):(1===nType&&jQuery.isXMLDoc(elem)||(name=name.toLowerCase(),hooks=jQuery.attrHooks[name]||(jQuery.expr.match.bool.test(name)?boolHook:nodeHook)),void 0===value?hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:(ret=jQuery.find.attr(elem,name),null==ret?void 0:ret):null!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:(elem.setAttribute(name,value+""),value):void jQuery.removeAttr(elem,name))},removeAttr:function(elem,value){var name,propName,i=0,attrNames=value&&value.match(rnotwhite);if(attrNames&&1===elem.nodeType)for(;name=attrNames[i++];)propName=jQuery.propFix[name]||name,jQuery.expr.match.bool.test(name)?getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem[propName]=!1:elem[jQuery.camelCase("default-"+name)]=elem[propName]=!1:jQuery.attr(elem,name,""),elem.removeAttribute(getSetAttribute?name:propName)},attrHooks:{type:{set:function(elem,value){if(!support.radioValue&&"radio"===value&&jQuery.nodeName(elem,"input")){var val=elem.value;return elem.setAttribute("type",value),val&&(elem.value=val),value}}}}}),boolHook={set:function(elem,value,name){return value===!1?jQuery.removeAttr(elem,name):getSetInput&&getSetAttribute||!ruseDefault.test(name)?elem.setAttribute(!getSetAttribute&&jQuery.propFix[name]||name,name):elem[jQuery.camelCase("default-"+name)]=elem[name]=!0,name}},jQuery.each(jQuery.expr.match.bool.source.match(/\w+/g),function(i,name){var getter=attrHandle[name]||jQuery.find.attr;attrHandle[name]=getSetInput&&getSetAttribute||!ruseDefault.test(name)?function(elem,name,isXML){var ret,handle;return isXML||(handle=attrHandle[name],attrHandle[name]=ret,ret=null!=getter(elem,name,isXML)?name.toLowerCase():null,attrHandle[name]=handle),ret}:function(elem,name,isXML){return isXML?void 0:elem[jQuery.camelCase("default-"+name)]?name.toLowerCase():null}}),getSetInput&&getSetAttribute||(jQuery.attrHooks.value={set:function(elem,value,name){return jQuery.nodeName(elem,"input")?void(elem.defaultValue=value):nodeHook&&nodeHook.set(elem,value,name)}}),getSetAttribute||(nodeHook={set:function(elem,value,name){var ret=elem.getAttributeNode(name);return ret||elem.setAttributeNode(ret=elem.ownerDocument.createAttribute(name)),ret.value=value+="","value"===name||value===elem.getAttribute(name)?value:void 0}},attrHandle.id=attrHandle.name=attrHandle.coords=function(elem,name,isXML){var ret;return isXML?void 0:(ret=elem.getAttributeNode(name))&&""!==ret.value?ret.value:null},jQuery.valHooks.button={get:function(elem,name){var ret=elem.getAttributeNode(name);return ret&&ret.specified?ret.value:void 0},set:nodeHook.set},jQuery.attrHooks.contenteditable={set:function(elem,value,name){nodeHook.set(elem,""===value?!1:value,name)}},jQuery.each(["width","height"],function(i,name){jQuery.attrHooks[name]={set:function(elem,value){return""===value?(elem.setAttribute(name,"auto"),value):void 0}}})),support.style||(jQuery.attrHooks.style={get:function(elem){return elem.style.cssText||void 0},set:function(elem,value){return elem.style.cssText=value+""}});var rfocusable=/^(?:input|select|textarea|button|object)$/i,rclickable=/^(?:a|area)$/i;jQuery.fn.extend({prop:function(name,value){return access(this,jQuery.prop,name,value,arguments.length>1)},removeProp:function(name){return name=jQuery.propFix[name]||name,this.each(function(){try{this[name]=void 0,delete this[name]}catch(e){}})}}),jQuery.extend({propFix:{"for":"htmlFor","class":"className"},prop:function(elem,name,value){var ret,hooks,notxml,nType=elem.nodeType;if(elem&&3!==nType&&8!==nType&&2!==nType)return notxml=1!==nType||!jQuery.isXMLDoc(elem),notxml&&(name=jQuery.propFix[name]||name,hooks=jQuery.propHooks[name]),void 0!==value?hooks&&"set"in hooks&&void 0!==(ret=hooks.set(elem,value,name))?ret:elem[name]=value:hooks&&"get"in hooks&&null!==(ret=hooks.get(elem,name))?ret:elem[name]},propHooks:{tabIndex:{get:function(elem){var tabindex=jQuery.find.attr(elem,"tabindex");return tabindex?parseInt(tabindex,10):rfocusable.test(elem.nodeName)||rclickable.test(elem.nodeName)&&elem.href?0:-1}}}}),support.hrefNormalized||jQuery.each(["href","src"],function(i,name){jQuery.propHooks[name]={get:function(elem){return elem.getAttribute(name,4)}}}),support.optSelected||(jQuery.propHooks.selected={get:function(elem){var parent=elem.parentNode;return parent&&(parent.selectedIndex,parent.parentNode&&parent.parentNode.selectedIndex),null}}),jQuery.each(["tabIndex","readOnly","maxLength","cellSpacing","cellPadding","rowSpan","colSpan","useMap","frameBorder","contentEditable"],function(){jQuery.propFix[this.toLowerCase()]=this}),support.enctype||(jQuery.propFix.enctype="encoding");var rclass=/[\t\r\n\f]/g;jQuery.fn.extend({addClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed="string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).addClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):" ")){for(j=0;clazz=classes[j++];)cur.indexOf(" "+clazz+" ")<0&&(cur+=clazz+" ");finalValue=jQuery.trim(cur),elem.className!==finalValue&&(elem.className=finalValue)}return this},removeClass:function(value){var classes,elem,cur,clazz,j,finalValue,i=0,len=this.length,proceed=0===arguments.length||"string"==typeof value&&value;if(jQuery.isFunction(value))return this.each(function(j){jQuery(this).removeClass(value.call(this,j,this.className))});if(proceed)for(classes=(value||"").match(rnotwhite)||[];len>i;i++)if(elem=this[i],cur=1===elem.nodeType&&(elem.className?(" "+elem.className+" ").replace(rclass," "):"")){for(j=0;clazz=classes[j++];)for(;cur.indexOf(" "+clazz+" ")>=0;)cur=cur.replace(" "+clazz+" "," ");finalValue=value?jQuery.trim(cur):"",elem.className!==finalValue&&(elem.className=finalValue)}return this},toggleClass:function(value,stateVal){var type=typeof value;return"boolean"==typeof stateVal&&"string"===type?stateVal?this.addClass(value):this.removeClass(value):this.each(jQuery.isFunction(value)?function(i){jQuery(this).toggleClass(value.call(this,i,this.className,stateVal),stateVal)}:function(){if("string"===type)for(var className,i=0,self=jQuery(this),classNames=value.match(rnotwhite)||[];className=classNames[i++];)self.hasClass(className)?self.removeClass(className):self.addClass(className);else(type===strundefined||"boolean"===type)&&(this.className&&jQuery._data(this,"__className__",this.className),this.className=this.className||value===!1?"":jQuery._data(this,"__className__")||"")})},hasClass:function(selector){for(var className=" "+selector+" ",i=0,l=this.length;l>i;i++)if(1===this[i].nodeType&&(" "+this[i].className+" ").replace(rclass," ").indexOf(className)>=0)return!0;return!1}}),jQuery.each("blur focus focusin focusout load resize scroll unload click dblclick mousedown mouseup mousemove mouseover mouseout mouseenter mouseleave change select submit keydown keypress keyup error contextmenu".split(" "),function(i,name){jQuery.fn[name]=function(data,fn){return arguments.length>0?this.on(name,null,data,fn):this.trigger(name)}}),jQuery.fn.extend({hover:function(fnOver,fnOut){return this.mouseenter(fnOver).mouseleave(fnOut||fnOver)},bind:function(types,data,fn){return this.on(types,null,data,fn)},unbind:function(types,fn){return this.off(types,null,fn)},delegate:function(selector,types,data,fn){return this.on(types,selector,data,fn)},undelegate:function(selector,types,fn){return 1===arguments.length?this.off(selector,"**"):this.off(types,selector||"**",fn)}});var nonce=jQuery.now(),rquery=/\?/,rvalidtokens=/(,)|(\[|{)|(}|])|"(?:[^"\\\r\n]|\\["\\\/bfnrt]|\\u[\da-fA-F]{4})*"\s*:?|true|false|null|-?(?!0\d)\d+(?:\.\d+|)(?:[eE][+-]?\d+|)/g;jQuery.parseJSON=function(data){if(window.JSON&&window.JSON.parse)return window.JSON.parse(data+"");var requireNonComma,depth=null,str=jQuery.trim(data+"");return str&&!jQuery.trim(str.replace(rvalidtokens,function(token,comma,open,close){return requireNonComma&&comma&&(depth=0),0===depth?token:(requireNonComma=open||comma,depth+=!close-!open,"")}))?Function("return "+str)():jQuery.error("Invalid JSON: "+data)},jQuery.parseXML=function(data){var xml,tmp;if(!data||"string"!=typeof data)return null;try{window.DOMParser?(tmp=new DOMParser,xml=tmp.parseFromString(data,"text/xml")):(xml=new ActiveXObject("Microsoft.XMLDOM"),xml.async="false",xml.loadXML(data))}catch(e){xml=void 0}return xml&&xml.documentElement&&!xml.getElementsByTagName("parsererror").length||jQuery.error("Invalid XML: "+data),xml};var ajaxLocParts,ajaxLocation,rhash=/#.*$/,rts=/([?&])_=[^&]*/,rheaders=/^(.*?):[ \t]*([^\r\n]*)\r?$/gm,rlocalProtocol=/^(?:about|app|app-storage|.+-extension|file|res|widget):$/,rnoContent=/^(?:GET|HEAD)$/,rprotocol=/^\/\//,rurl=/^([\w.+-]+:)(?:\/\/(?:[^\/?#]*@|)([^\/?#:]*)(?::(\d+)|)|)/,prefilters={},transports={},allTypes="*/".concat("*");try{ajaxLocation=location.href}catch(e){ajaxLocation=document.createElement("a"),ajaxLocation.href="",ajaxLocation=ajaxLocation.href}ajaxLocParts=rurl.exec(ajaxLocation.toLowerCase())||[],jQuery.extend({active:0,lastModified:{},etag:{},ajaxSettings:{url:ajaxLocation,type:"GET",isLocal:rlocalProtocol.test(ajaxLocParts[1]),global:!0,processData:!0,async:!0,contentType:"application/x-www-form-urlencoded; charset=UTF-8",accepts:{"*":allTypes,text:"text/plain",html:"text/html",xml:"application/xml, text/xml",json:"application/json, text/javascript"},contents:{xml:/xml/,html:/html/,json:/json/},responseFields:{xml:"responseXML",text:"responseText",json:"responseJSON"},converters:{"* text":String,"text html":!0,"text json":jQuery.parseJSON,"text xml":jQuery.parseXML},flatOptions:{url:!0,context:!0}},ajaxSetup:function(target,settings){return settings?ajaxExtend(ajaxExtend(target,jQuery.ajaxSettings),settings):ajaxExtend(jQuery.ajaxSettings,target)},ajaxPrefilter:addToPrefiltersOrTransports(prefilters),ajaxTransport:addToPrefiltersOrTransports(transports),ajax:function(url,options){function done(status,nativeStatusText,responses,headers){var isSuccess,success,error,response,modified,statusText=nativeStatusText;2!==state&&(state=2,timeoutTimer&&clearTimeout(timeoutTimer),transport=void 0,responseHeadersString=headers||"",jqXHR.readyState=status>0?4:0,isSuccess=status>=200&&300>status||304===status,responses&&(response=ajaxHandleResponses(s,jqXHR,responses)),response=ajaxConvert(s,response,jqXHR,isSuccess),isSuccess?(s.ifModified&&(modified=jqXHR.getResponseHeader("Last-Modified"),modified&&(jQuery.lastModified[cacheURL]=modified),modified=jqXHR.getResponseHeader("etag"),modified&&(jQuery.etag[cacheURL]=modified)),204===status||"HEAD"===s.type?statusText="nocontent":304===status?statusText="notmodified":(statusText=response.state,success=response.data,error=response.error,isSuccess=!error)):(error=statusText,(status||!statusText)&&(statusText="error",0>status&&(status=0))),jqXHR.status=status,jqXHR.statusText=(nativeStatusText||statusText)+"",isSuccess?deferred.resolveWith(callbackContext,[success,statusText,jqXHR]):deferred.rejectWith(callbackContext,[jqXHR,statusText,error]),jqXHR.statusCode(statusCode),statusCode=void 0,fireGlobals&&globalEventContext.trigger(isSuccess?"ajaxSuccess":"ajaxError",[jqXHR,s,isSuccess?success:error]),completeDeferred.fireWith(callbackContext,[jqXHR,statusText]),fireGlobals&&(globalEventContext.trigger("ajaxComplete",[jqXHR,s]),--jQuery.active||jQuery.event.trigger("ajaxStop")))}"object"==typeof url&&(options=url,url=void 0),options=options||{};var parts,i,cacheURL,responseHeadersString,timeoutTimer,fireGlobals,transport,responseHeaders,s=jQuery.ajaxSetup({},options),callbackContext=s.context||s,globalEventContext=s.context&&(callbackContext.nodeType||callbackContext.jquery)?jQuery(callbackContext):jQuery.event,deferred=jQuery.Deferred(),completeDeferred=jQuery.Callbacks("once memory"),statusCode=s.statusCode||{},requestHeaders={},requestHeadersNames={},state=0,strAbort="canceled",jqXHR={readyState:0,getResponseHeader:function(key){var match;if(2===state){if(!responseHeaders)for(responseHeaders={};match=rheaders.exec(responseHeadersString);)responseHeaders[match[1].toLowerCase()]=match[2];match=responseHeaders[key.toLowerCase()]}return null==match?null:match},getAllResponseHeaders:function(){return 2===state?responseHeadersString:null},setRequestHeader:function(name,value){var lname=name.toLowerCase();return state||(name=requestHeadersNames[lname]=requestHeadersNames[lname]||name,requestHeaders[name]=value),this},overrideMimeType:function(type){return state||(s.mimeType=type),this},statusCode:function(map){var code;if(map)if(2>state)for(code in map)statusCode[code]=[statusCode[code],map[code]];else jqXHR.always(map[jqXHR.status]);return this},abort:function(statusText){var finalText=statusText||strAbort;return transport&&transport.abort(finalText),done(0,finalText),this}};if(deferred.promise(jqXHR).complete=completeDeferred.add,jqXHR.success=jqXHR.done,jqXHR.error=jqXHR.fail,s.url=((url||s.url||ajaxLocation)+"").replace(rhash,"").replace(rprotocol,ajaxLocParts[1]+"//"),s.type=options.method||options.type||s.method||s.type,s.dataTypes=jQuery.trim(s.dataType||"*").toLowerCase().match(rnotwhite)||[""],null==s.crossDomain&&(parts=rurl.exec(s.url.toLowerCase()),s.crossDomain=!(!parts||parts[1]===ajaxLocParts[1]&&parts[2]===ajaxLocParts[2]&&(parts[3]||("http:"===parts[1]?"80":"443"))===(ajaxLocParts[3]||("http:"===ajaxLocParts[1]?"80":"443")))),s.data&&s.processData&&"string"!=typeof s.data&&(s.data=jQuery.param(s.data,s.traditional)),inspectPrefiltersOrTransports(prefilters,s,options,jqXHR),2===state)return jqXHR;
fireGlobals=s.global,fireGlobals&&0===jQuery.active++&&jQuery.event.trigger("ajaxStart"),s.type=s.type.toUpperCase(),s.hasContent=!rnoContent.test(s.type),cacheURL=s.url,s.hasContent||(s.data&&(cacheURL=s.url+=(rquery.test(cacheURL)?"&":"?")+s.data,delete s.data),s.cache===!1&&(s.url=rts.test(cacheURL)?cacheURL.replace(rts,"$1_="+nonce++):cacheURL+(rquery.test(cacheURL)?"&":"?")+"_="+nonce++)),s.ifModified&&(jQuery.lastModified[cacheURL]&&jqXHR.setRequestHeader("If-Modified-Since",jQuery.lastModified[cacheURL]),jQuery.etag[cacheURL]&&jqXHR.setRequestHeader("If-None-Match",jQuery.etag[cacheURL])),(s.data&&s.hasContent&&s.contentType!==!1||options.contentType)&&jqXHR.setRequestHeader("Content-Type",s.contentType),jqXHR.setRequestHeader("Accept",s.dataTypes[0]&&s.accepts[s.dataTypes[0]]?s.accepts[s.dataTypes[0]]+("*"!==s.dataTypes[0]?", "+allTypes+"; q=0.01":""):s.accepts["*"]);for(i in s.headers)jqXHR.setRequestHeader(i,s.headers[i]);if(s.beforeSend&&(s.beforeSend.call(callbackContext,jqXHR,s)===!1||2===state))return jqXHR.abort();strAbort="abort";for(i in{success:1,error:1,complete:1})jqXHR[i](s[i]);if(transport=inspectPrefiltersOrTransports(transports,s,options,jqXHR)){jqXHR.readyState=1,fireGlobals&&globalEventContext.trigger("ajaxSend",[jqXHR,s]),s.async&&s.timeout>0&&(timeoutTimer=setTimeout(function(){jqXHR.abort("timeout")},s.timeout));try{state=1,transport.send(requestHeaders,done)}catch(e){if(!(2>state))throw e;done(-1,e)}}else done(-1,"No Transport");return jqXHR},getJSON:function(url,data,callback){return jQuery.get(url,data,callback,"json")},getScript:function(url,callback){return jQuery.get(url,void 0,callback,"script")}}),jQuery.each(["get","post"],function(i,method){jQuery[method]=function(url,data,callback,type){return jQuery.isFunction(data)&&(type=type||callback,callback=data,data=void 0),jQuery.ajax({url:url,type:method,dataType:type,data:data,success:callback})}}),jQuery.each(["ajaxStart","ajaxStop","ajaxComplete","ajaxError","ajaxSuccess","ajaxSend"],function(i,type){jQuery.fn[type]=function(fn){return this.on(type,fn)}}),jQuery._evalUrl=function(url){return jQuery.ajax({url:url,type:"GET",dataType:"script",async:!1,global:!1,"throws":!0})},jQuery.fn.extend({wrapAll:function(html){if(jQuery.isFunction(html))return this.each(function(i){jQuery(this).wrapAll(html.call(this,i))});if(this[0]){var wrap=jQuery(html,this[0].ownerDocument).eq(0).clone(!0);this[0].parentNode&&wrap.insertBefore(this[0]),wrap.map(function(){for(var elem=this;elem.firstChild&&1===elem.firstChild.nodeType;)elem=elem.firstChild;return elem}).append(this)}return this},wrapInner:function(html){return this.each(jQuery.isFunction(html)?function(i){jQuery(this).wrapInner(html.call(this,i))}:function(){var self=jQuery(this),contents=self.contents();contents.length?contents.wrapAll(html):self.append(html)})},wrap:function(html){var isFunction=jQuery.isFunction(html);return this.each(function(i){jQuery(this).wrapAll(isFunction?html.call(this,i):html)})},unwrap:function(){return this.parent().each(function(){jQuery.nodeName(this,"body")||jQuery(this).replaceWith(this.childNodes)}).end()}}),jQuery.expr.filters.hidden=function(elem){return elem.offsetWidth<=0&&elem.offsetHeight<=0||!support.reliableHiddenOffsets()&&"none"===(elem.style&&elem.style.display||jQuery.css(elem,"display"))},jQuery.expr.filters.visible=function(elem){return!jQuery.expr.filters.hidden(elem)};var r20=/%20/g,rbracket=/\[\]$/,rCRLF=/\r?\n/g,rsubmitterTypes=/^(?:submit|button|image|reset|file)$/i,rsubmittable=/^(?:input|select|textarea|keygen)/i;jQuery.param=function(a,traditional){var prefix,s=[],add=function(key,value){value=jQuery.isFunction(value)?value():null==value?"":value,s[s.length]=encodeURIComponent(key)+"="+encodeURIComponent(value)};if(void 0===traditional&&(traditional=jQuery.ajaxSettings&&jQuery.ajaxSettings.traditional),jQuery.isArray(a)||a.jquery&&!jQuery.isPlainObject(a))jQuery.each(a,function(){add(this.name,this.value)});else for(prefix in a)buildParams(prefix,a[prefix],traditional,add);return s.join("&").replace(r20,"+")},jQuery.fn.extend({serialize:function(){return jQuery.param(this.serializeArray())},serializeArray:function(){return this.map(function(){var elements=jQuery.prop(this,"elements");return elements?jQuery.makeArray(elements):this}).filter(function(){var type=this.type;return this.name&&!jQuery(this).is(":disabled")&&rsubmittable.test(this.nodeName)&&!rsubmitterTypes.test(type)&&(this.checked||!rcheckableType.test(type))}).map(function(i,elem){var val=jQuery(this).val();return null==val?null:jQuery.isArray(val)?jQuery.map(val,function(val){return{name:elem.name,value:val.replace(rCRLF,"\r\n")}}):{name:elem.name,value:val.replace(rCRLF,"\r\n")}}).get()}}),jQuery.ajaxSettings.xhr=void 0!==window.ActiveXObject?function(){return!this.isLocal&&/^(get|post|head|put|delete|options)$/i.test(this.type)&&createStandardXHR()||createActiveXHR()}:createStandardXHR;var xhrId=0,xhrCallbacks={},xhrSupported=jQuery.ajaxSettings.xhr();window.ActiveXObject&&jQuery(window).on("unload",function(){for(var key in xhrCallbacks)xhrCallbacks[key](void 0,!0)}),support.cors=!!xhrSupported&&"withCredentials"in xhrSupported,xhrSupported=support.ajax=!!xhrSupported,xhrSupported&&jQuery.ajaxTransport(function(options){if(!options.crossDomain||support.cors){var callback;return{send:function(headers,complete){var i,xhr=options.xhr(),id=++xhrId;if(xhr.open(options.type,options.url,options.async,options.username,options.password),options.xhrFields)for(i in options.xhrFields)xhr[i]=options.xhrFields[i];options.mimeType&&xhr.overrideMimeType&&xhr.overrideMimeType(options.mimeType),options.crossDomain||headers["X-Requested-With"]||(headers["X-Requested-With"]="XMLHttpRequest");for(i in headers)void 0!==headers[i]&&xhr.setRequestHeader(i,headers[i]+"");xhr.send(options.hasContent&&options.data||null),callback=function(_,isAbort){var status,statusText,responses;if(callback&&(isAbort||4===xhr.readyState))if(delete xhrCallbacks[id],callback=void 0,xhr.onreadystatechange=jQuery.noop,isAbort)4!==xhr.readyState&&xhr.abort();else{responses={},status=xhr.status,"string"==typeof xhr.responseText&&(responses.text=xhr.responseText);try{statusText=xhr.statusText}catch(e){statusText=""}status||!options.isLocal||options.crossDomain?1223===status&&(status=204):status=responses.text?200:404}responses&&complete(status,statusText,responses,xhr.getAllResponseHeaders())},options.async?4===xhr.readyState?setTimeout(callback):xhr.onreadystatechange=xhrCallbacks[id]=callback:callback()},abort:function(){callback&&callback(void 0,!0)}}}}),jQuery.ajaxSetup({accepts:{script:"text/javascript, application/javascript, application/ecmascript, application/x-ecmascript"},contents:{script:/(?:java|ecma)script/},converters:{"text script":function(text){return jQuery.globalEval(text),text}}}),jQuery.ajaxPrefilter("script",function(s){void 0===s.cache&&(s.cache=!1),s.crossDomain&&(s.type="GET",s.global=!1)}),jQuery.ajaxTransport("script",function(s){if(s.crossDomain){var script,head=document.head||jQuery("head")[0]||document.documentElement;return{send:function(_,callback){script=document.createElement("script"),script.async=!0,s.scriptCharset&&(script.charset=s.scriptCharset),script.src=s.url,script.onload=script.onreadystatechange=function(_,isAbort){(isAbort||!script.readyState||/loaded|complete/.test(script.readyState))&&(script.onload=script.onreadystatechange=null,script.parentNode&&script.parentNode.removeChild(script),script=null,isAbort||callback(200,"success"))},head.insertBefore(script,head.firstChild)},abort:function(){script&&script.onload(void 0,!0)}}}});var oldCallbacks=[],rjsonp=/(=)\?(?=&|$)|\?\?/;jQuery.ajaxSetup({jsonp:"callback",jsonpCallback:function(){var callback=oldCallbacks.pop()||jQuery.expando+"_"+nonce++;return this[callback]=!0,callback}}),jQuery.ajaxPrefilter("json jsonp",function(s,originalSettings,jqXHR){var callbackName,overwritten,responseContainer,jsonProp=s.jsonp!==!1&&(rjsonp.test(s.url)?"url":"string"==typeof s.data&&!(s.contentType||"").indexOf("application/x-www-form-urlencoded")&&rjsonp.test(s.data)&&"data");return jsonProp||"jsonp"===s.dataTypes[0]?(callbackName=s.jsonpCallback=jQuery.isFunction(s.jsonpCallback)?s.jsonpCallback():s.jsonpCallback,jsonProp?s[jsonProp]=s[jsonProp].replace(rjsonp,"$1"+callbackName):s.jsonp!==!1&&(s.url+=(rquery.test(s.url)?"&":"?")+s.jsonp+"="+callbackName),s.converters["script json"]=function(){return responseContainer||jQuery.error(callbackName+" was not called"),responseContainer[0]},s.dataTypes[0]="json",overwritten=window[callbackName],window[callbackName]=function(){responseContainer=arguments},jqXHR.always(function(){window[callbackName]=overwritten,s[callbackName]&&(s.jsonpCallback=originalSettings.jsonpCallback,oldCallbacks.push(callbackName)),responseContainer&&jQuery.isFunction(overwritten)&&overwritten(responseContainer[0]),responseContainer=overwritten=void 0}),"script"):void 0}),jQuery.parseHTML=function(data,context,keepScripts){if(!data||"string"!=typeof data)return null;"boolean"==typeof context&&(keepScripts=context,context=!1),context=context||document;var parsed=rsingleTag.exec(data),scripts=!keepScripts&&[];return parsed?[context.createElement(parsed[1])]:(parsed=jQuery.buildFragment([data],context,scripts),scripts&&scripts.length&&jQuery(scripts).remove(),jQuery.merge([],parsed.childNodes))};var _load=jQuery.fn.load;jQuery.fn.load=function(url,params,callback){if("string"!=typeof url&&_load)return _load.apply(this,arguments);var selector,response,type,self=this,off=url.indexOf(" ");return off>=0&&(selector=url.slice(off,url.length),url=url.slice(0,off)),jQuery.isFunction(params)?(callback=params,params=void 0):params&&"object"==typeof params&&(type="POST"),self.length>0&&jQuery.ajax({url:url,type:type,dataType:"html",data:params}).done(function(responseText){response=arguments,self.html(selector?jQuery("<div>").append(jQuery.parseHTML(responseText)).find(selector):responseText)}).complete(callback&&function(jqXHR,status){self.each(callback,response||[jqXHR.responseText,status,jqXHR])}),this},jQuery.expr.filters.animated=function(elem){return jQuery.grep(jQuery.timers,function(fn){return elem===fn.elem}).length};var docElem=window.document.documentElement;jQuery.offset={setOffset:function(elem,options,i){var curPosition,curLeft,curCSSTop,curTop,curOffset,curCSSLeft,calculatePosition,position=jQuery.css(elem,"position"),curElem=jQuery(elem),props={};"static"===position&&(elem.style.position="relative"),curOffset=curElem.offset(),curCSSTop=jQuery.css(elem,"top"),curCSSLeft=jQuery.css(elem,"left"),calculatePosition=("absolute"===position||"fixed"===position)&&jQuery.inArray("auto",[curCSSTop,curCSSLeft])>-1,calculatePosition?(curPosition=curElem.position(),curTop=curPosition.top,curLeft=curPosition.left):(curTop=parseFloat(curCSSTop)||0,curLeft=parseFloat(curCSSLeft)||0),jQuery.isFunction(options)&&(options=options.call(elem,i,curOffset)),null!=options.top&&(props.top=options.top-curOffset.top+curTop),null!=options.left&&(props.left=options.left-curOffset.left+curLeft),"using"in options?options.using.call(elem,props):curElem.css(props)}},jQuery.fn.extend({offset:function(options){if(arguments.length)return void 0===options?this:this.each(function(i){jQuery.offset.setOffset(this,options,i)});var docElem,win,box={top:0,left:0},elem=this[0],doc=elem&&elem.ownerDocument;if(doc)return docElem=doc.documentElement,jQuery.contains(docElem,elem)?(typeof elem.getBoundingClientRect!==strundefined&&(box=elem.getBoundingClientRect()),win=getWindow(doc),{top:box.top+(win.pageYOffset||docElem.scrollTop)-(docElem.clientTop||0),left:box.left+(win.pageXOffset||docElem.scrollLeft)-(docElem.clientLeft||0)}):box},position:function(){if(this[0]){var offsetParent,offset,parentOffset={top:0,left:0},elem=this[0];return"fixed"===jQuery.css(elem,"position")?offset=elem.getBoundingClientRect():(offsetParent=this.offsetParent(),offset=this.offset(),jQuery.nodeName(offsetParent[0],"html")||(parentOffset=offsetParent.offset()),parentOffset.top+=jQuery.css(offsetParent[0],"borderTopWidth",!0),parentOffset.left+=jQuery.css(offsetParent[0],"borderLeftWidth",!0)),{top:offset.top-parentOffset.top-jQuery.css(elem,"marginTop",!0),left:offset.left-parentOffset.left-jQuery.css(elem,"marginLeft",!0)}}},offsetParent:function(){return this.map(function(){for(var offsetParent=this.offsetParent||docElem;offsetParent&&!jQuery.nodeName(offsetParent,"html")&&"static"===jQuery.css(offsetParent,"position");)offsetParent=offsetParent.offsetParent;return offsetParent||docElem})}}),jQuery.each({scrollLeft:"pageXOffset",scrollTop:"pageYOffset"},function(method,prop){var top=/Y/.test(prop);jQuery.fn[method]=function(val){return access(this,function(elem,method,val){var win=getWindow(elem);return void 0===val?win?prop in win?win[prop]:win.document.documentElement[method]:elem[method]:void(win?win.scrollTo(top?jQuery(win).scrollLeft():val,top?val:jQuery(win).scrollTop()):elem[method]=val)},method,val,arguments.length,null)}}),jQuery.each(["top","left"],function(i,prop){jQuery.cssHooks[prop]=addGetHookIf(support.pixelPosition,function(elem,computed){return computed?(computed=curCSS(elem,prop),rnumnonpx.test(computed)?jQuery(elem).position()[prop]+"px":computed):void 0})}),jQuery.each({Height:"height",Width:"width"},function(name,type){jQuery.each({padding:"inner"+name,content:type,"":"outer"+name},function(defaultExtra,funcName){jQuery.fn[funcName]=function(margin,value){var chainable=arguments.length&&(defaultExtra||"boolean"!=typeof margin),extra=defaultExtra||(margin===!0||value===!0?"margin":"border");return access(this,function(elem,type,value){var doc;return jQuery.isWindow(elem)?elem.document.documentElement["client"+name]:9===elem.nodeType?(doc=elem.documentElement,Math.max(elem.body["scroll"+name],doc["scroll"+name],elem.body["offset"+name],doc["offset"+name],doc["client"+name])):void 0===value?jQuery.css(elem,type,extra):jQuery.style(elem,type,value,extra)},type,chainable?margin:void 0,chainable,null)}})}),jQuery.fn.size=function(){return this.length},jQuery.fn.andSelf=jQuery.fn.addBack,"function"==typeof define&&define.amd&&define("jquery",[],function(){return jQuery});var _jQuery=window.jQuery,_$=window.$;return jQuery.noConflict=function(deep){return window.$===jQuery&&(window.$=_$),deep&&window.jQuery===jQuery&&(window.jQuery=_jQuery),jQuery},typeof noGlobal===strundefined&&(window.jQuery=window.$=jQuery),jQuery}),function(window,document,undefined){"use strict";function minErr(module,ErrorConstructor){return ErrorConstructor=ErrorConstructor||Error,function(){var message,i,code=arguments[0],prefix="["+(module?module+":":"")+code+"] ",template=arguments[1],templateArgs=arguments;for(message=prefix+template.replace(/\{\d+\}/g,function(match){var index=+match.slice(1,-1);return index+2<templateArgs.length?toDebugString(templateArgs[index+2]):match}),message=message+"\nhttp://errors.angularjs.org/1.3.14/"+(module?module+"/":"")+code,i=2;i<arguments.length;i++)message=message+(2==i?"?":"&")+"p"+(i-2)+"="+encodeURIComponent(toDebugString(arguments[i]));return new ErrorConstructor(message)}}function isArrayLike(obj){if(null==obj||isWindow(obj))return!1;var length=obj.length;return obj.nodeType===NODE_TYPE_ELEMENT&&length?!0:isString(obj)||isArray(obj)||0===length||"number"==typeof length&&length>0&&length-1 in obj}function forEach(obj,iterator,context){var key,length;if(obj)if(isFunction(obj))for(key in obj)"prototype"==key||"length"==key||"name"==key||obj.hasOwnProperty&&!obj.hasOwnProperty(key)||iterator.call(context,obj[key],key,obj);else if(isArray(obj)||isArrayLike(obj)){var isPrimitive="object"!=typeof obj;for(key=0,length=obj.length;length>key;key++)(isPrimitive||key in obj)&&iterator.call(context,obj[key],key,obj)}else if(obj.forEach&&obj.forEach!==forEach)obj.forEach(iterator,context,obj);else for(key in obj)obj.hasOwnProperty(key)&&iterator.call(context,obj[key],key,obj);return obj}function sortedKeys(obj){return Object.keys(obj).sort()}function forEachSorted(obj,iterator,context){for(var keys=sortedKeys(obj),i=0;i<keys.length;i++)iterator.call(context,obj[keys[i]],keys[i]);return keys}function reverseParams(iteratorFn){return function(value,key){iteratorFn(key,value)}}function nextUid(){return++uid}function setHashKey(obj,h){h?obj.$$hashKey=h:delete obj.$$hashKey}function extend(dst){for(var h=dst.$$hashKey,i=1,ii=arguments.length;ii>i;i++){var obj=arguments[i];if(obj)for(var keys=Object.keys(obj),j=0,jj=keys.length;jj>j;j++){var key=keys[j];dst[key]=obj[key]}}return setHashKey(dst,h),dst}function int(str){return parseInt(str,10)}function inherit(parent,extra){return extend(Object.create(parent),extra)}function noop(){}function identity($){return $}function valueFn(value){return function(){return value}}function isUndefined(value){return"undefined"==typeof value}function isDefined(value){return"undefined"!=typeof value}function isObject(value){return null!==value&&"object"==typeof value}function isString(value){return"string"==typeof value}function isNumber(value){return"number"==typeof value}function isDate(value){return"[object Date]"===toString.call(value)}function isFunction(value){return"function"==typeof value}function isRegExp(value){return"[object RegExp]"===toString.call(value)}function isWindow(obj){return obj&&obj.window===obj}function isScope(obj){return obj&&obj.$evalAsync&&obj.$watch}function isFile(obj){return"[object File]"===toString.call(obj)}function isFormData(obj){return"[object FormData]"===toString.call(obj)}function isBlob(obj){return"[object Blob]"===toString.call(obj)}function isBoolean(value){return"boolean"==typeof value}function isPromiseLike(obj){return obj&&isFunction(obj.then)}function isElement(node){return!(!node||!(node.nodeName||node.prop&&node.attr&&node.find))}function makeMap(str){var i,obj={},items=str.split(",");for(i=0;i<items.length;i++)obj[items[i]]=!0;return obj}function nodeName_(element){return lowercase(element.nodeName||element[0]&&element[0].nodeName)}function arrayRemove(array,value){var index=array.indexOf(value);return index>=0&&array.splice(index,1),value}function copy(source,destination,stackSource,stackDest){if(isWindow(source)||isScope(source))throw ngMinErr("cpws","Can't copy! Making copies of Window or Scope instances is not supported.");if(destination){if(source===destination)throw ngMinErr("cpi","Can't copy! Source and destination are identical.");if(stackSource=stackSource||[],stackDest=stackDest||[],isObject(source)){var index=stackSource.indexOf(source);if(-1!==index)return stackDest[index];stackSource.push(source),stackDest.push(destination)}var result;if(isArray(source)){destination.length=0;for(var i=0;i<source.length;i++)result=copy(source[i],null,stackSource,stackDest),isObject(source[i])&&(stackSource.push(source[i]),stackDest.push(result)),destination.push(result)}else{var h=destination.$$hashKey;isArray(destination)?destination.length=0:forEach(destination,function(value,key){delete destination[key]});for(var key in source)source.hasOwnProperty(key)&&(result=copy(source[key],null,stackSource,stackDest),isObject(source[key])&&(stackSource.push(source[key]),stackDest.push(result)),destination[key]=result);setHashKey(destination,h)}}else if(destination=source,source)if(isArray(source))destination=copy(source,[],stackSource,stackDest);else if(isDate(source))destination=new Date(source.getTime());else if(isRegExp(source))destination=new RegExp(source.source,source.toString().match(/[^\/]*$/)[0]),destination.lastIndex=source.lastIndex;else if(isObject(source)){var emptyObject=Object.create(Object.getPrototypeOf(source));destination=copy(source,emptyObject,stackSource,stackDest)}return destination}function shallowCopy(src,dst){if(isArray(src)){dst=dst||[];for(var i=0,ii=src.length;ii>i;i++)dst[i]=src[i]}else if(isObject(src)){dst=dst||{};for(var key in src)("$"!==key.charAt(0)||"$"!==key.charAt(1))&&(dst[key]=src[key])}return dst||src}function equals(o1,o2){if(o1===o2)return!0;if(null===o1||null===o2)return!1;if(o1!==o1&&o2!==o2)return!0;var length,key,keySet,t1=typeof o1,t2=typeof o2;if(t1==t2&&"object"==t1){if(!isArray(o1)){if(isDate(o1))return isDate(o2)?equals(o1.getTime(),o2.getTime()):!1;if(isRegExp(o1)&&isRegExp(o2))return o1.toString()==o2.toString();if(isScope(o1)||isScope(o2)||isWindow(o1)||isWindow(o2)||isArray(o2))return!1;keySet={};for(key in o1)if("$"!==key.charAt(0)&&!isFunction(o1[key])){if(!equals(o1[key],o2[key]))return!1;keySet[key]=!0}for(key in o2)if(!keySet.hasOwnProperty(key)&&"$"!==key.charAt(0)&&o2[key]!==undefined&&!isFunction(o2[key]))return!1;return!0}if(!isArray(o2))return!1;if((length=o1.length)==o2.length){for(key=0;length>key;key++)if(!equals(o1[key],o2[key]))return!1;return!0}}return!1}function concat(array1,array2,index){return array1.concat(slice.call(array2,index))}function sliceArgs(args,startIndex){return slice.call(args,startIndex||0)}function bind(self,fn){var curryArgs=arguments.length>2?sliceArgs(arguments,2):[];return!isFunction(fn)||fn instanceof RegExp?fn:curryArgs.length?function(){return arguments.length?fn.apply(self,concat(curryArgs,arguments,0)):fn.apply(self,curryArgs)}:function(){return arguments.length?fn.apply(self,arguments):fn.call(self)}}function toJsonReplacer(key,value){var val=value;return"string"==typeof key&&"$"===key.charAt(0)&&"$"===key.charAt(1)?val=undefined:isWindow(value)?val="$WINDOW":value&&document===value?val="$DOCUMENT":isScope(value)&&(val="$SCOPE"),val}function toJson(obj,pretty){return"undefined"==typeof obj?undefined:(isNumber(pretty)||(pretty=pretty?2:null),JSON.stringify(obj,toJsonReplacer,pretty))}function fromJson(json){return isString(json)?JSON.parse(json):json}function startingTag(element){element=jqLite(element).clone();try{element.empty()}catch(e){}var elemHtml=jqLite("<div>").append(element).html();try{return element[0].nodeType===NODE_TYPE_TEXT?lowercase(elemHtml):elemHtml.match(/^(<[^>]+>)/)[1].replace(/^<([\w\-]+)/,function(match,nodeName){return"<"+lowercase(nodeName)})}catch(e){return lowercase(elemHtml)}}function tryDecodeURIComponent(value){try{return decodeURIComponent(value)}catch(e){}}function parseKeyValue(keyValue){var key_value,key,obj={};return forEach((keyValue||"").split("&"),function(keyValue){if(keyValue&&(key_value=keyValue.replace(/\+/g,"%20").split("="),key=tryDecodeURIComponent(key_value[0]),isDefined(key))){var val=isDefined(key_value[1])?tryDecodeURIComponent(key_value[1]):!0;hasOwnProperty.call(obj,key)?isArray(obj[key])?obj[key].push(val):obj[key]=[obj[key],val]:obj[key]=val}}),obj}function toKeyValue(obj){var parts=[];return forEach(obj,function(value,key){isArray(value)?forEach(value,function(arrayValue){parts.push(encodeUriQuery(key,!0)+(arrayValue===!0?"":"="+encodeUriQuery(arrayValue,!0)))}):parts.push(encodeUriQuery(key,!0)+(value===!0?"":"="+encodeUriQuery(value,!0)))}),parts.length?parts.join("&"):""}function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%3B/gi,";").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function getNgAttribute(element,ngAttr){var attr,i,ii=ngAttrPrefixes.length;for(element=jqLite(element),i=0;ii>i;++i)if(attr=ngAttrPrefixes[i]+ngAttr,isString(attr=element.attr(attr)))return attr;return null}function angularInit(element,bootstrap){var appElement,module,config={};forEach(ngAttrPrefixes,function(prefix){var name=prefix+"app";!appElement&&element.hasAttribute&&element.hasAttribute(name)&&(appElement=element,module=element.getAttribute(name))}),forEach(ngAttrPrefixes,function(prefix){var candidate,name=prefix+"app";!appElement&&(candidate=element.querySelector("["+name.replace(":","\\:")+"]"))&&(appElement=candidate,module=candidate.getAttribute(name))}),appElement&&(config.strictDi=null!==getNgAttribute(appElement,"strict-di"),bootstrap(appElement,module?[module]:[],config))}function bootstrap(element,modules,config){isObject(config)||(config={});var defaultConfig={strictDi:!1};config=extend(defaultConfig,config);var doBootstrap=function(){if(element=jqLite(element),element.injector()){var tag=element[0]===document?"document":startingTag(element);throw ngMinErr("btstrpd","App Already Bootstrapped with this Element '{0}'",tag.replace(/</,"&lt;").replace(/>/,"&gt;"))}modules=modules||[],modules.unshift(["$provide",function($provide){$provide.value("$rootElement",element)}]),config.debugInfoEnabled&&modules.push(["$compileProvider",function($compileProvider){$compileProvider.debugInfoEnabled(!0)}]),modules.unshift("ng");var injector=createInjector(modules,config.strictDi);return injector.invoke(["$rootScope","$rootElement","$compile","$injector",function(scope,element,compile,injector){scope.$apply(function(){element.data("$injector",injector),compile(element)(scope)})}]),injector},NG_ENABLE_DEBUG_INFO=/^NG_ENABLE_DEBUG_INFO!/,NG_DEFER_BOOTSTRAP=/^NG_DEFER_BOOTSTRAP!/;return window&&NG_ENABLE_DEBUG_INFO.test(window.name)&&(config.debugInfoEnabled=!0,window.name=window.name.replace(NG_ENABLE_DEBUG_INFO,"")),window&&!NG_DEFER_BOOTSTRAP.test(window.name)?doBootstrap():(window.name=window.name.replace(NG_DEFER_BOOTSTRAP,""),angular.resumeBootstrap=function(extraModules){return forEach(extraModules,function(module){modules.push(module)}),doBootstrap()},void(isFunction(angular.resumeDeferredBootstrap)&&angular.resumeDeferredBootstrap()))}function reloadWithDebugInfo(){window.name="NG_ENABLE_DEBUG_INFO!"+window.name,window.location.reload()}function getTestability(rootElement){var injector=angular.element(rootElement).injector();if(!injector)throw ngMinErr("test","no injector found for element argument to getTestability");return injector.get("$$testability")}function snake_case(name,separator){return separator=separator||"_",name.replace(SNAKE_CASE_REGEXP,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}function bindJQuery(){var originalCleanData;bindJQueryFired||(jQuery=window.jQuery,jQuery&&jQuery.fn.on?(jqLite=jQuery,extend(jQuery.fn,{scope:JQLitePrototype.scope,isolateScope:JQLitePrototype.isolateScope,controller:JQLitePrototype.controller,injector:JQLitePrototype.injector,inheritedData:JQLitePrototype.inheritedData}),originalCleanData=jQuery.cleanData,jQuery.cleanData=function(elems){var events;if(skipDestroyOnNextJQueryCleanData)skipDestroyOnNextJQueryCleanData=!1;else for(var elem,i=0;null!=(elem=elems[i]);i++)events=jQuery._data(elem,"events"),events&&events.$destroy&&jQuery(elem).triggerHandler("$destroy");originalCleanData(elems)}):jqLite=JQLite,angular.element=jqLite,bindJQueryFired=!0)}function assertArg(arg,name,reason){if(!arg)throw ngMinErr("areq","Argument '{0}' is {1}",name||"?",reason||"required");return arg}function assertArgFn(arg,name,acceptArrayAnnotation){return acceptArrayAnnotation&&isArray(arg)&&(arg=arg[arg.length-1]),assertArg(isFunction(arg),name,"not a function, got "+(arg&&"object"==typeof arg?arg.constructor.name||"Object":typeof arg)),arg}function assertNotHasOwnProperty(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)}function getter(obj,path,bindFnToScope){if(!path)return obj;for(var key,keys=path.split("."),lastInstance=obj,len=keys.length,i=0;len>i;i++)key=keys[i],obj&&(obj=(lastInstance=obj)[key]);return!bindFnToScope&&isFunction(obj)?bind(lastInstance,obj):obj}function getBlockNodes(nodes){var node=nodes[0],endNode=nodes[nodes.length-1],blockNodes=[node];do{if(node=node.nextSibling,!node)break;blockNodes.push(node)}while(node!==endNode);return jqLite(blockNodes)}function createMap(){return Object.create(null)}function setupModuleLoader(window){function ensure(obj,name,factory){return obj[name]||(obj[name]=factory())}var $injectorMinErr=minErr("$injector"),ngMinErr=minErr("ng"),angular=ensure(window,"angular",Object);return angular.$$minErr=angular.$$minErr||minErr,ensure(angular,"module",function(){var modules={};return function(name,requires,configFn){var assertNotHasOwnProperty=function(name,context){if("hasOwnProperty"===name)throw ngMinErr("badname","hasOwnProperty is not a valid {0} name",context)};return assertNotHasOwnProperty(name,"module"),requires&&modules.hasOwnProperty(name)&&(modules[name]=null),ensure(modules,name,function(){function invokeLater(provider,method,insertMethod,queue){return queue||(queue=invokeQueue),function(){return queue[insertMethod||"push"]([provider,method,arguments]),moduleInstance}}if(!requires)throw $injectorMinErr("nomod","Module '{0}' is not available! You either misspelled the module name or forgot to load it. If registering a module ensure that you specify the dependencies as the second argument.",name);var invokeQueue=[],configBlocks=[],runBlocks=[],config=invokeLater("$injector","invoke","push",configBlocks),moduleInstance={_invokeQueue:invokeQueue,_configBlocks:configBlocks,_runBlocks:runBlocks,requires:requires,name:name,provider:invokeLater("$provide","provider"),factory:invokeLater("$provide","factory"),service:invokeLater("$provide","service"),value:invokeLater("$provide","value"),constant:invokeLater("$provide","constant","unshift"),animation:invokeLater("$animateProvider","register"),filter:invokeLater("$filterProvider","register"),controller:invokeLater("$controllerProvider","register"),directive:invokeLater("$compileProvider","directive"),config:config,run:function(block){return runBlocks.push(block),this}};return configFn&&config(configFn),moduleInstance})}})}function serializeObject(obj){var seen=[];return JSON.stringify(obj,function(key,val){if(val=toJsonReplacer(key,val),isObject(val)){if(seen.indexOf(val)>=0)return"<<already seen>>";seen.push(val)}return val})}function toDebugString(obj){return"function"==typeof obj?obj.toString().replace(/ \{[\s\S]*$/,""):"undefined"==typeof obj?"undefined":"string"!=typeof obj?serializeObject(obj):obj}function publishExternalAPI(angular){extend(angular,{bootstrap:bootstrap,copy:copy,extend:extend,equals:equals,element:jqLite,forEach:forEach,injector:createInjector,noop:noop,bind:bind,toJson:toJson,fromJson:fromJson,identity:identity,isUndefined:isUndefined,isDefined:isDefined,isString:isString,isFunction:isFunction,isObject:isObject,isNumber:isNumber,isElement:isElement,isArray:isArray,version:version,isDate:isDate,lowercase:lowercase,uppercase:uppercase,callbacks:{counter:0},getTestability:getTestability,$$minErr:minErr,$$csp:csp,reloadWithDebugInfo:reloadWithDebugInfo}),angularModule=setupModuleLoader(window);try{angularModule("ngLocale")}catch(e){angularModule("ngLocale",[]).provider("$locale",$LocaleProvider)}angularModule("ng",["ngLocale"],["$provide",function($provide){$provide.provider({$$sanitizeUri:$$SanitizeUriProvider}),$provide.provider("$compile",$CompileProvider).directive({a:htmlAnchorDirective,input:inputDirective,textarea:inputDirective,form:formDirective,script:scriptDirective,select:selectDirective,style:styleDirective,option:optionDirective,ngBind:ngBindDirective,ngBindHtml:ngBindHtmlDirective,ngBindTemplate:ngBindTemplateDirective,ngClass:ngClassDirective,ngClassEven:ngClassEvenDirective,ngClassOdd:ngClassOddDirective,ngCloak:ngCloakDirective,ngController:ngControllerDirective,ngForm:ngFormDirective,ngHide:ngHideDirective,ngIf:ngIfDirective,ngInclude:ngIncludeDirective,ngInit:ngInitDirective,ngNonBindable:ngNonBindableDirective,ngPluralize:ngPluralizeDirective,ngRepeat:ngRepeatDirective,ngShow:ngShowDirective,ngStyle:ngStyleDirective,ngSwitch:ngSwitchDirective,ngSwitchWhen:ngSwitchWhenDirective,ngSwitchDefault:ngSwitchDefaultDirective,ngOptions:ngOptionsDirective,ngTransclude:ngTranscludeDirective,ngModel:ngModelDirective,ngList:ngListDirective,ngChange:ngChangeDirective,pattern:patternDirective,ngPattern:patternDirective,required:requiredDirective,ngRequired:requiredDirective,minlength:minlengthDirective,ngMinlength:minlengthDirective,maxlength:maxlengthDirective,ngMaxlength:maxlengthDirective,ngValue:ngValueDirective,ngModelOptions:ngModelOptionsDirective}).directive({ngInclude:ngIncludeFillContentDirective}).directive(ngAttributeAliasDirectives).directive(ngEventDirectives),$provide.provider({$anchorScroll:$AnchorScrollProvider,$animate:$AnimateProvider,$browser:$BrowserProvider,$cacheFactory:$CacheFactoryProvider,$controller:$ControllerProvider,$document:$DocumentProvider,$exceptionHandler:$ExceptionHandlerProvider,$filter:$FilterProvider,$interpolate:$InterpolateProvider,$interval:$IntervalProvider,$http:$HttpProvider,$httpBackend:$HttpBackendProvider,$location:$LocationProvider,$log:$LogProvider,$parse:$ParseProvider,$rootScope:$RootScopeProvider,$q:$QProvider,$$q:$$QProvider,$sce:$SceProvider,$sceDelegate:$SceDelegateProvider,$sniffer:$SnifferProvider,$templateCache:$TemplateCacheProvider,$templateRequest:$TemplateRequestProvider,$$testability:$$TestabilityProvider,$timeout:$TimeoutProvider,$window:$WindowProvider,$$rAF:$$RAFProvider,$$asyncCallback:$$AsyncCallbackProvider,$$jqLite:$$jqLiteProvider})
}])}function jqNextId(){return++jqId}function camelCase(name){return name.replace(SPECIAL_CHARS_REGEXP,function(_,separator,letter,offset){return offset?letter.toUpperCase():letter}).replace(MOZ_HACK_REGEXP,"Moz$1")}function jqLiteIsTextNode(html){return!HTML_REGEXP.test(html)}function jqLiteAcceptsData(node){var nodeType=node.nodeType;return nodeType===NODE_TYPE_ELEMENT||!nodeType||nodeType===NODE_TYPE_DOCUMENT}function jqLiteBuildFragment(html,context){var tmp,tag,wrap,i,fragment=context.createDocumentFragment(),nodes=[];if(jqLiteIsTextNode(html))nodes.push(context.createTextNode(html));else{for(tmp=tmp||fragment.appendChild(context.createElement("div")),tag=(TAG_NAME_REGEXP.exec(html)||["",""])[1].toLowerCase(),wrap=wrapMap[tag]||wrapMap._default,tmp.innerHTML=wrap[1]+html.replace(XHTML_TAG_REGEXP,"<$1></$2>")+wrap[2],i=wrap[0];i--;)tmp=tmp.lastChild;nodes=concat(nodes,tmp.childNodes),tmp=fragment.firstChild,tmp.textContent=""}return fragment.textContent="",fragment.innerHTML="",forEach(nodes,function(node){fragment.appendChild(node)}),fragment}function jqLiteParseHTML(html,context){context=context||document;var parsed;return(parsed=SINGLE_TAG_REGEXP.exec(html))?[context.createElement(parsed[1])]:(parsed=jqLiteBuildFragment(html,context))?parsed.childNodes:[]}function JQLite(element){if(element instanceof JQLite)return element;var argIsString;if(isString(element)&&(element=trim(element),argIsString=!0),!(this instanceof JQLite)){if(argIsString&&"<"!=element.charAt(0))throw jqLiteMinErr("nosel","Looking up elements via selectors is not supported by jqLite! See: http://docs.angularjs.org/api/angular.element");return new JQLite(element)}argIsString?jqLiteAddNodes(this,jqLiteParseHTML(element)):jqLiteAddNodes(this,element)}function jqLiteClone(element){return element.cloneNode(!0)}function jqLiteDealoc(element,onlyDescendants){if(onlyDescendants||jqLiteRemoveData(element),element.querySelectorAll)for(var descendants=element.querySelectorAll("*"),i=0,l=descendants.length;l>i;i++)jqLiteRemoveData(descendants[i])}function jqLiteOff(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("offargs","jqLite#off() does not support the `selector` argument");var expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,handle=expandoStore&&expandoStore.handle;if(handle)if(type)forEach(type.split(" "),function(type){if(isDefined(fn)){var listenerFns=events[type];if(arrayRemove(listenerFns||[],fn),listenerFns&&listenerFns.length>0)return}removeEventListenerFn(element,type,handle),delete events[type]});else for(type in events)"$destroy"!==type&&removeEventListenerFn(element,type,handle),delete events[type]}function jqLiteRemoveData(element,name){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];if(expandoStore){if(name)return void delete expandoStore.data[name];expandoStore.handle&&(expandoStore.events.$destroy&&expandoStore.handle({},"$destroy"),jqLiteOff(element)),delete jqCache[expandoId],element.ng339=undefined}}function jqLiteExpandoStore(element,createIfNecessary){var expandoId=element.ng339,expandoStore=expandoId&&jqCache[expandoId];return createIfNecessary&&!expandoStore&&(element.ng339=expandoId=jqNextId(),expandoStore=jqCache[expandoId]={events:{},data:{},handle:undefined}),expandoStore}function jqLiteData(element,key,value){if(jqLiteAcceptsData(element)){var isSimpleSetter=isDefined(value),isSimpleGetter=!isSimpleSetter&&key&&!isObject(key),massGetter=!key,expandoStore=jqLiteExpandoStore(element,!isSimpleGetter),data=expandoStore&&expandoStore.data;if(isSimpleSetter)data[key]=value;else{if(massGetter)return data;if(isSimpleGetter)return data&&data[key];extend(data,key)}}}function jqLiteHasClass(element,selector){return element.getAttribute?(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").indexOf(" "+selector+" ")>-1:!1}function jqLiteRemoveClass(element,cssClasses){cssClasses&&element.setAttribute&&forEach(cssClasses.split(" "),function(cssClass){element.setAttribute("class",trim((" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ").replace(" "+trim(cssClass)+" "," ")))})}function jqLiteAddClass(element,cssClasses){if(cssClasses&&element.setAttribute){var existingClasses=(" "+(element.getAttribute("class")||"")+" ").replace(/[\n\t]/g," ");forEach(cssClasses.split(" "),function(cssClass){cssClass=trim(cssClass),-1===existingClasses.indexOf(" "+cssClass+" ")&&(existingClasses+=cssClass+" ")}),element.setAttribute("class",trim(existingClasses))}}function jqLiteAddNodes(root,elements){if(elements)if(elements.nodeType)root[root.length++]=elements;else{var length=elements.length;if("number"==typeof length&&elements.window!==elements){if(length)for(var i=0;length>i;i++)root[root.length++]=elements[i]}else root[root.length++]=elements}}function jqLiteController(element,name){return jqLiteInheritedData(element,"$"+(name||"ngController")+"Controller")}function jqLiteInheritedData(element,name,value){element.nodeType==NODE_TYPE_DOCUMENT&&(element=element.documentElement);for(var names=isArray(name)?name:[name];element;){for(var i=0,ii=names.length;ii>i;i++)if((value=jqLite.data(element,names[i]))!==undefined)return value;element=element.parentNode||element.nodeType===NODE_TYPE_DOCUMENT_FRAGMENT&&element.host}}function jqLiteEmpty(element){for(jqLiteDealoc(element,!0);element.firstChild;)element.removeChild(element.firstChild)}function jqLiteRemove(element,keepData){keepData||jqLiteDealoc(element);var parent=element.parentNode;parent&&parent.removeChild(element)}function jqLiteDocumentLoaded(action,win){win=win||window,"complete"===win.document.readyState?win.setTimeout(action):jqLite(win).on("load",action)}function getBooleanAttrName(element,name){var booleanAttr=BOOLEAN_ATTR[name.toLowerCase()];return booleanAttr&&BOOLEAN_ELEMENTS[nodeName_(element)]&&booleanAttr}function getAliasedAttrName(element,name){var nodeName=element.nodeName;return("INPUT"===nodeName||"TEXTAREA"===nodeName)&&ALIASED_ATTR[name]}function createEventHandler(element,events){var eventHandler=function(event,type){event.isDefaultPrevented=function(){return event.defaultPrevented};var eventFns=events[type||event.type],eventFnsLength=eventFns?eventFns.length:0;if(eventFnsLength){if(isUndefined(event.immediatePropagationStopped)){var originalStopImmediatePropagation=event.stopImmediatePropagation;event.stopImmediatePropagation=function(){event.immediatePropagationStopped=!0,event.stopPropagation&&event.stopPropagation(),originalStopImmediatePropagation&&originalStopImmediatePropagation.call(event)}}event.isImmediatePropagationStopped=function(){return event.immediatePropagationStopped===!0},eventFnsLength>1&&(eventFns=shallowCopy(eventFns));for(var i=0;eventFnsLength>i;i++)event.isImmediatePropagationStopped()||eventFns[i].call(element,event)}};return eventHandler.elem=element,eventHandler}function $$jqLiteProvider(){this.$get=function(){return extend(JQLite,{hasClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteHasClass(node,classes)},addClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteAddClass(node,classes)},removeClass:function(node,classes){return node.attr&&(node=node[0]),jqLiteRemoveClass(node,classes)}})}}function hashKey(obj,nextUidFn){var key=obj&&obj.$$hashKey;if(key)return"function"==typeof key&&(key=obj.$$hashKey()),key;var objType=typeof obj;return key="function"==objType||"object"==objType&&null!==obj?obj.$$hashKey=objType+":"+(nextUidFn||nextUid)():objType+":"+obj}function HashMap(array,isolatedUid){if(isolatedUid){var uid=0;this.nextUid=function(){return++uid}}forEach(array,this.put,this)}function anonFn(fn){var fnText=fn.toString().replace(STRIP_COMMENTS,""),args=fnText.match(FN_ARGS);return args?"function("+(args[1]||"").replace(/[\s\r\n]+/," ")+")":"fn"}function annotate(fn,strictDi,name){var $inject,fnText,argDecl,last;if("function"==typeof fn){if(!($inject=fn.$inject)){if($inject=[],fn.length){if(strictDi)throw isString(name)&&name||(name=fn.name||anonFn(fn)),$injectorMinErr("strictdi","{0} is not using explicit annotation and cannot be invoked in strict mode",name);fnText=fn.toString().replace(STRIP_COMMENTS,""),argDecl=fnText.match(FN_ARGS),forEach(argDecl[1].split(FN_ARG_SPLIT),function(arg){arg.replace(FN_ARG,function(all,underscore,name){$inject.push(name)})})}fn.$inject=$inject}}else isArray(fn)?(last=fn.length-1,assertArgFn(fn[last],"fn"),$inject=fn.slice(0,last)):assertArgFn(fn,"fn",!0);return $inject}function createInjector(modulesToLoad,strictDi){function supportObject(delegate){return function(key,value){return isObject(key)?void forEach(key,reverseParams(delegate)):delegate(key,value)}}function provider(name,provider_){if(assertNotHasOwnProperty(name,"service"),(isFunction(provider_)||isArray(provider_))&&(provider_=providerInjector.instantiate(provider_)),!provider_.$get)throw $injectorMinErr("pget","Provider '{0}' must define $get factory method.",name);return providerCache[name+providerSuffix]=provider_}function enforceReturnValue(name,factory){return function(){var result=instanceInjector.invoke(factory,this);if(isUndefined(result))throw $injectorMinErr("undef","Provider '{0}' must return a value from $get factory method.",name);return result}}function factory(name,factoryFn,enforce){return provider(name,{$get:enforce!==!1?enforceReturnValue(name,factoryFn):factoryFn})}function service(name,constructor){return factory(name,["$injector",function($injector){return $injector.instantiate(constructor)}])}function value(name,val){return factory(name,valueFn(val),!1)}function constant(name,value){assertNotHasOwnProperty(name,"constant"),providerCache[name]=value,instanceCache[name]=value}function decorator(serviceName,decorFn){var origProvider=providerInjector.get(serviceName+providerSuffix),orig$get=origProvider.$get;origProvider.$get=function(){var origInstance=instanceInjector.invoke(orig$get,origProvider);return instanceInjector.invoke(decorFn,null,{$delegate:origInstance})}}function loadModules(modulesToLoad){var moduleFn,runBlocks=[];return forEach(modulesToLoad,function(module){function runInvokeQueue(queue){var i,ii;for(i=0,ii=queue.length;ii>i;i++){var invokeArgs=queue[i],provider=providerInjector.get(invokeArgs[0]);provider[invokeArgs[1]].apply(provider,invokeArgs[2])}}if(!loadedModules.get(module)){loadedModules.put(module,!0);try{isString(module)?(moduleFn=angularModule(module),runBlocks=runBlocks.concat(loadModules(moduleFn.requires)).concat(moduleFn._runBlocks),runInvokeQueue(moduleFn._invokeQueue),runInvokeQueue(moduleFn._configBlocks)):isFunction(module)?runBlocks.push(providerInjector.invoke(module)):isArray(module)?runBlocks.push(providerInjector.invoke(module)):assertArgFn(module,"module")}catch(e){throw isArray(module)&&(module=module[module.length-1]),e.message&&e.stack&&-1==e.stack.indexOf(e.message)&&(e=e.message+"\n"+e.stack),$injectorMinErr("modulerr","Failed to instantiate module {0} due to:\n{1}",module,e.stack||e.message||e)}}}),runBlocks}function createInternalInjector(cache,factory){function getService(serviceName,caller){if(cache.hasOwnProperty(serviceName)){if(cache[serviceName]===INSTANTIATING)throw $injectorMinErr("cdep","Circular dependency found: {0}",serviceName+" <- "+path.join(" <- "));return cache[serviceName]}try{return path.unshift(serviceName),cache[serviceName]=INSTANTIATING,cache[serviceName]=factory(serviceName,caller)}catch(err){throw cache[serviceName]===INSTANTIATING&&delete cache[serviceName],err}finally{path.shift()}}function invoke(fn,self,locals,serviceName){"string"==typeof locals&&(serviceName=locals,locals=null);var length,i,key,args=[],$inject=createInjector.$$annotate(fn,strictDi,serviceName);for(i=0,length=$inject.length;length>i;i++){if(key=$inject[i],"string"!=typeof key)throw $injectorMinErr("itkn","Incorrect injection token! Expected service name as string, got {0}",key);args.push(locals&&locals.hasOwnProperty(key)?locals[key]:getService(key,serviceName))}return isArray(fn)&&(fn=fn[length]),fn.apply(self,args)}function instantiate(Type,locals,serviceName){var instance=Object.create((isArray(Type)?Type[Type.length-1]:Type).prototype||null),returnedValue=invoke(Type,instance,locals,serviceName);return isObject(returnedValue)||isFunction(returnedValue)?returnedValue:instance}return{invoke:invoke,instantiate:instantiate,get:getService,annotate:createInjector.$$annotate,has:function(name){return providerCache.hasOwnProperty(name+providerSuffix)||cache.hasOwnProperty(name)}}}strictDi=strictDi===!0;var INSTANTIATING={},providerSuffix="Provider",path=[],loadedModules=new HashMap([],!0),providerCache={$provide:{provider:supportObject(provider),factory:supportObject(factory),service:supportObject(service),value:supportObject(value),constant:supportObject(constant),decorator:decorator}},providerInjector=providerCache.$injector=createInternalInjector(providerCache,function(serviceName,caller){throw angular.isString(caller)&&path.push(caller),$injectorMinErr("unpr","Unknown provider: {0}",path.join(" <- "))}),instanceCache={},instanceInjector=instanceCache.$injector=createInternalInjector(instanceCache,function(serviceName,caller){var provider=providerInjector.get(serviceName+providerSuffix,caller);return instanceInjector.invoke(provider.$get,provider,undefined,serviceName)});return forEach(loadModules(modulesToLoad),function(fn){instanceInjector.invoke(fn||noop)}),instanceInjector}function $AnchorScrollProvider(){var autoScrollingEnabled=!0;this.disableAutoScrolling=function(){autoScrollingEnabled=!1},this.$get=["$window","$location","$rootScope",function($window,$location,$rootScope){function getFirstAnchor(list){var result=null;return Array.prototype.some.call(list,function(element){return"a"===nodeName_(element)?(result=element,!0):void 0}),result}function getYOffset(){var offset=scroll.yOffset;if(isFunction(offset))offset=offset();else if(isElement(offset)){var elem=offset[0],style=$window.getComputedStyle(elem);offset="fixed"!==style.position?0:elem.getBoundingClientRect().bottom}else isNumber(offset)||(offset=0);return offset}function scrollTo(elem){if(elem){elem.scrollIntoView();var offset=getYOffset();if(offset){var elemTop=elem.getBoundingClientRect().top;$window.scrollBy(0,elemTop-offset)}}else $window.scrollTo(0,0)}function scroll(){var elm,hash=$location.hash();hash?(elm=document.getElementById(hash))?scrollTo(elm):(elm=getFirstAnchor(document.getElementsByName(hash)))?scrollTo(elm):"top"===hash&&scrollTo(null):scrollTo(null)}var document=$window.document;return autoScrollingEnabled&&$rootScope.$watch(function(){return $location.hash()},function(newVal,oldVal){(newVal!==oldVal||""!==newVal)&&jqLiteDocumentLoaded(function(){$rootScope.$evalAsync(scroll)})}),scroll}]}function $$AsyncCallbackProvider(){this.$get=["$$rAF","$timeout",function($$rAF,$timeout){return $$rAF.supported?function(fn){return $$rAF(fn)}:function(fn){return $timeout(fn,0,!1)}}]}function Browser(window,document,$log,$sniffer){function completeOutstandingRequest(fn){try{fn.apply(null,sliceArgs(arguments,1))}finally{if(outstandingRequestCount--,0===outstandingRequestCount)for(;outstandingRequestCallbacks.length;)try{outstandingRequestCallbacks.pop()()}catch(e){$log.error(e)}}}function getHash(url){var index=url.indexOf("#");return-1===index?"":url.substr(index+1)}function startPoller(interval,setTimeout){!function check(){forEach(pollFns,function(pollFn){pollFn()}),pollTimeout=setTimeout(check,interval)}()}function cacheStateAndFireUrlChange(){cacheState(),fireUrlChange()}function cacheState(){cachedState=window.history.state,cachedState=isUndefined(cachedState)?null:cachedState,equals(cachedState,lastCachedState)&&(cachedState=lastCachedState),lastCachedState=cachedState}function fireUrlChange(){(lastBrowserUrl!==self.url()||lastHistoryState!==cachedState)&&(lastBrowserUrl=self.url(),lastHistoryState=cachedState,forEach(urlChangeListeners,function(listener){listener(self.url(),cachedState)}))}function safeDecodeURIComponent(str){try{return decodeURIComponent(str)}catch(e){return str}}var self=this,rawDocument=document[0],location=window.location,history=window.history,setTimeout=window.setTimeout,clearTimeout=window.clearTimeout,pendingDeferIds={};self.isMock=!1;var outstandingRequestCount=0,outstandingRequestCallbacks=[];self.$$completeOutstandingRequest=completeOutstandingRequest,self.$$incOutstandingRequestCount=function(){outstandingRequestCount++},self.notifyWhenNoOutstandingRequests=function(callback){forEach(pollFns,function(pollFn){pollFn()}),0===outstandingRequestCount?callback():outstandingRequestCallbacks.push(callback)};var pollTimeout,pollFns=[];self.addPollFn=function(fn){return isUndefined(pollTimeout)&&startPoller(100,setTimeout),pollFns.push(fn),fn};var cachedState,lastHistoryState,lastBrowserUrl=location.href,baseElement=document.find("base"),reloadLocation=null;cacheState(),lastHistoryState=cachedState,self.url=function(url,replace,state){if(isUndefined(state)&&(state=null),location!==window.location&&(location=window.location),history!==window.history&&(history=window.history),url){var sameState=lastHistoryState===state;if(lastBrowserUrl===url&&(!$sniffer.history||sameState))return self;var sameBase=lastBrowserUrl&&stripHash(lastBrowserUrl)===stripHash(url);return lastBrowserUrl=url,lastHistoryState=state,!$sniffer.history||sameBase&&sameState?(sameBase||(reloadLocation=url),replace?location.replace(url):sameBase?location.hash=getHash(url):location.href=url):(history[replace?"replaceState":"pushState"](state,"",url),cacheState(),lastHistoryState=cachedState),self}return reloadLocation||location.href.replace(/%27/g,"'")},self.state=function(){return cachedState};var urlChangeListeners=[],urlChangeInit=!1,lastCachedState=null;self.onUrlChange=function(callback){return urlChangeInit||($sniffer.history&&jqLite(window).on("popstate",cacheStateAndFireUrlChange),jqLite(window).on("hashchange",cacheStateAndFireUrlChange),urlChangeInit=!0),urlChangeListeners.push(callback),callback},self.$$checkUrlChange=fireUrlChange,self.baseHref=function(){var href=baseElement.attr("href");return href?href.replace(/^(https?\:)?\/\/[^\/]*/,""):""};var lastCookies={},lastCookieString="",cookiePath=self.baseHref();self.cookies=function(name,value){var cookieLength,cookieArray,cookie,i,index;if(!name){if(rawDocument.cookie!==lastCookieString)for(lastCookieString=rawDocument.cookie,cookieArray=lastCookieString.split("; "),lastCookies={},i=0;i<cookieArray.length;i++)cookie=cookieArray[i],index=cookie.indexOf("="),index>0&&(name=safeDecodeURIComponent(cookie.substring(0,index)),lastCookies[name]===undefined&&(lastCookies[name]=safeDecodeURIComponent(cookie.substring(index+1))));return lastCookies}value===undefined?rawDocument.cookie=encodeURIComponent(name)+"=;path="+cookiePath+";expires=Thu, 01 Jan 1970 00:00:00 GMT":isString(value)&&(cookieLength=(rawDocument.cookie=encodeURIComponent(name)+"="+encodeURIComponent(value)+";path="+cookiePath).length+1,cookieLength>4096&&$log.warn("Cookie '"+name+"' possibly not set or overflowed because it was too large ("+cookieLength+" > 4096 bytes)!"))},self.defer=function(fn,delay){var timeoutId;return outstandingRequestCount++,timeoutId=setTimeout(function(){delete pendingDeferIds[timeoutId],completeOutstandingRequest(fn)},delay||0),pendingDeferIds[timeoutId]=!0,timeoutId},self.defer.cancel=function(deferId){return pendingDeferIds[deferId]?(delete pendingDeferIds[deferId],clearTimeout(deferId),completeOutstandingRequest(noop),!0):!1}}function $BrowserProvider(){this.$get=["$window","$log","$sniffer","$document",function($window,$log,$sniffer,$document){return new Browser($window,$document,$log,$sniffer)}]}function $CacheFactoryProvider(){this.$get=function(){function cacheFactory(cacheId,options){function refresh(entry){entry!=freshEnd&&(staleEnd?staleEnd==entry&&(staleEnd=entry.n):staleEnd=entry,link(entry.n,entry.p),link(entry,freshEnd),freshEnd=entry,freshEnd.n=null)}function link(nextEntry,prevEntry){nextEntry!=prevEntry&&(nextEntry&&(nextEntry.p=prevEntry),prevEntry&&(prevEntry.n=nextEntry))}if(cacheId in caches)throw minErr("$cacheFactory")("iid","CacheId '{0}' is already taken!",cacheId);var size=0,stats=extend({},options,{id:cacheId}),data={},capacity=options&&options.capacity||Number.MAX_VALUE,lruHash={},freshEnd=null,staleEnd=null;return caches[cacheId]={put:function(key,value){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key]||(lruHash[key]={key:key});refresh(lruEntry)}if(!isUndefined(value))return key in data||size++,data[key]=value,size>capacity&&this.remove(staleEnd.key),value},get:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;refresh(lruEntry)}return data[key]},remove:function(key){if(capacity<Number.MAX_VALUE){var lruEntry=lruHash[key];if(!lruEntry)return;lruEntry==freshEnd&&(freshEnd=lruEntry.p),lruEntry==staleEnd&&(staleEnd=lruEntry.n),link(lruEntry.n,lruEntry.p),delete lruHash[key]}delete data[key],size--},removeAll:function(){data={},size=0,lruHash={},freshEnd=staleEnd=null},destroy:function(){data=null,stats=null,lruHash=null,delete caches[cacheId]},info:function(){return extend({},stats,{size:size})}}}var caches={};return cacheFactory.info=function(){var info={};return forEach(caches,function(cache,cacheId){info[cacheId]=cache.info()}),info},cacheFactory.get=function(cacheId){return caches[cacheId]},cacheFactory}}function $TemplateCacheProvider(){this.$get=["$cacheFactory",function($cacheFactory){return $cacheFactory("templates")}]}function $CompileProvider($provide,$$sanitizeUriProvider){function parseIsolateBindings(scope,directiveName){var LOCAL_REGEXP=/^\s*([@&]|=(\*?))(\??)\s*(\w*)\s*$/,bindings={};return forEach(scope,function(definition,scopeName){var match=definition.match(LOCAL_REGEXP);if(!match)throw $compileMinErr("iscp","Invalid isolate scope definition for directive '{0}'. Definition: {... {1}: '{2}' ...}",directiveName,scopeName,definition);bindings[scopeName]={mode:match[1][0],collection:"*"===match[2],optional:"?"===match[3],attrName:match[4]||scopeName}}),bindings}var hasDirectives={},Suffix="Directive",COMMENT_DIRECTIVE_REGEXP=/^\s*directive\:\s*([\w\-]+)\s+(.*)$/,CLASS_DIRECTIVE_REGEXP=/(([\w\-]+)(?:\:([^;]+))?;?)/,ALL_OR_NOTHING_ATTRS=makeMap("ngSrc,ngSrcset,src,srcset"),REQUIRE_PREFIX_REGEXP=/^(?:(\^\^?)?(\?)?(\^\^?)?)?/,EVENT_HANDLER_ATTR_REGEXP=/^(on[a-z]+|formaction)$/;this.directive=function registerDirective(name,directiveFactory){return assertNotHasOwnProperty(name,"directive"),isString(name)?(assertArg(directiveFactory,"directiveFactory"),hasDirectives.hasOwnProperty(name)||(hasDirectives[name]=[],$provide.factory(name+Suffix,["$injector","$exceptionHandler",function($injector,$exceptionHandler){var directives=[];return forEach(hasDirectives[name],function(directiveFactory,index){try{var directive=$injector.invoke(directiveFactory);isFunction(directive)?directive={compile:valueFn(directive)}:!directive.compile&&directive.link&&(directive.compile=valueFn(directive.link)),directive.priority=directive.priority||0,directive.index=index,directive.name=directive.name||name,directive.require=directive.require||directive.controller&&directive.name,directive.restrict=directive.restrict||"EA",isObject(directive.scope)&&(directive.$$isolateBindings=parseIsolateBindings(directive.scope,directive.name)),directives.push(directive)}catch(e){$exceptionHandler(e)}}),directives}])),hasDirectives[name].push(directiveFactory)):forEach(name,reverseParams(registerDirective)),this},this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.aHrefSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.aHrefSanitizationWhitelist()},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?($$sanitizeUriProvider.imgSrcSanitizationWhitelist(regexp),this):$$sanitizeUriProvider.imgSrcSanitizationWhitelist()};var debugInfoEnabled=!0;this.debugInfoEnabled=function(enabled){return isDefined(enabled)?(debugInfoEnabled=enabled,this):debugInfoEnabled},this.$get=["$injector","$interpolate","$exceptionHandler","$templateRequest","$parse","$controller","$rootScope","$document","$sce","$animate","$$sanitizeUri",function($injector,$interpolate,$exceptionHandler,$templateRequest,$parse,$controller,$rootScope,$document,$sce,$animate,$$sanitizeUri){function safeAddClass($element,className){try{$element.addClass(className)}catch(e){}}function compile($compileNodes,transcludeFn,maxPriority,ignoreDirective,previousCompileContext){$compileNodes instanceof jqLite||($compileNodes=jqLite($compileNodes)),forEach($compileNodes,function(node,index){node.nodeType==NODE_TYPE_TEXT&&node.nodeValue.match(/\S+/)&&($compileNodes[index]=jqLite(node).wrap("<span></span>").parent()[0])});var compositeLinkFn=compileNodes($compileNodes,transcludeFn,$compileNodes,maxPriority,ignoreDirective,previousCompileContext);compile.$$addScopeClass($compileNodes);var namespace=null;return function(scope,cloneConnectFn,options){assertArg(scope,"scope"),options=options||{};var parentBoundTranscludeFn=options.parentBoundTranscludeFn,transcludeControllers=options.transcludeControllers,futureParentElement=options.futureParentElement;parentBoundTranscludeFn&&parentBoundTranscludeFn.$$boundTransclude&&(parentBoundTranscludeFn=parentBoundTranscludeFn.$$boundTransclude),namespace||(namespace=detectNamespaceForChildElements(futureParentElement));var $linkNode;if($linkNode="html"!==namespace?jqLite(wrapTemplate(namespace,jqLite("<div>").append($compileNodes).html())):cloneConnectFn?JQLitePrototype.clone.call($compileNodes):$compileNodes,transcludeControllers)for(var controllerName in transcludeControllers)$linkNode.data("$"+controllerName+"Controller",transcludeControllers[controllerName].instance);return compile.$$addScopeInfo($linkNode,scope),cloneConnectFn&&cloneConnectFn($linkNode,scope),compositeLinkFn&&compositeLinkFn(scope,$linkNode,$linkNode,parentBoundTranscludeFn),$linkNode}}function detectNamespaceForChildElements(parentElement){var node=parentElement&&parentElement[0];return node&&"foreignobject"!==nodeName_(node)&&node.toString().match(/SVG/)?"svg":"html"}function compileNodes(nodeList,transcludeFn,$rootElement,maxPriority,ignoreDirective,previousCompileContext){function compositeLinkFn(scope,nodeList,$rootElement,parentBoundTranscludeFn){var nodeLinkFn,childLinkFn,node,childScope,i,ii,idx,childBoundTranscludeFn,stableNodeList;if(nodeLinkFnFound){var nodeListLength=nodeList.length;for(stableNodeList=new Array(nodeListLength),i=0;i<linkFns.length;i+=3)idx=linkFns[i],stableNodeList[idx]=nodeList[idx]}else stableNodeList=nodeList;for(i=0,ii=linkFns.length;ii>i;)node=stableNodeList[linkFns[i++]],nodeLinkFn=linkFns[i++],childLinkFn=linkFns[i++],nodeLinkFn?(nodeLinkFn.scope?(childScope=scope.$new(),compile.$$addScopeInfo(jqLite(node),childScope)):childScope=scope,childBoundTranscludeFn=nodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,nodeLinkFn.transclude,parentBoundTranscludeFn,nodeLinkFn.elementTranscludeOnThisElement):!nodeLinkFn.templateOnThisElement&&parentBoundTranscludeFn?parentBoundTranscludeFn:!parentBoundTranscludeFn&&transcludeFn?createBoundTranscludeFn(scope,transcludeFn):null,nodeLinkFn(childLinkFn,childScope,node,$rootElement,childBoundTranscludeFn)):childLinkFn&&childLinkFn(scope,node.childNodes,undefined,parentBoundTranscludeFn)}for(var attrs,directives,nodeLinkFn,childNodes,childLinkFn,linkFnFound,nodeLinkFnFound,linkFns=[],i=0;i<nodeList.length;i++)attrs=new Attributes,directives=collectDirectives(nodeList[i],[],attrs,0===i?maxPriority:undefined,ignoreDirective),nodeLinkFn=directives.length?applyDirectivesToNode(directives,nodeList[i],attrs,transcludeFn,$rootElement,null,[],[],previousCompileContext):null,nodeLinkFn&&nodeLinkFn.scope&&compile.$$addScopeClass(attrs.$$element),childLinkFn=nodeLinkFn&&nodeLinkFn.terminal||!(childNodes=nodeList[i].childNodes)||!childNodes.length?null:compileNodes(childNodes,nodeLinkFn?(nodeLinkFn.transcludeOnThisElement||!nodeLinkFn.templateOnThisElement)&&nodeLinkFn.transclude:transcludeFn),(nodeLinkFn||childLinkFn)&&(linkFns.push(i,nodeLinkFn,childLinkFn),linkFnFound=!0,nodeLinkFnFound=nodeLinkFnFound||nodeLinkFn),previousCompileContext=null;return linkFnFound?compositeLinkFn:null}function createBoundTranscludeFn(scope,transcludeFn,previousBoundTranscludeFn){var boundTranscludeFn=function(transcludedScope,cloneFn,controllers,futureParentElement,containingScope){return transcludedScope||(transcludedScope=scope.$new(!1,containingScope),transcludedScope.$$transcluded=!0),transcludeFn(transcludedScope,cloneFn,{parentBoundTranscludeFn:previousBoundTranscludeFn,transcludeControllers:controllers,futureParentElement:futureParentElement})};return boundTranscludeFn}function collectDirectives(node,directives,attrs,maxPriority,ignoreDirective){var match,className,nodeType=node.nodeType,attrsMap=attrs.$attr;switch(nodeType){case NODE_TYPE_ELEMENT:addDirective(directives,directiveNormalize(nodeName_(node)),"E",maxPriority,ignoreDirective);for(var attr,name,nName,ngAttrName,value,isNgAttr,nAttrs=node.attributes,j=0,jj=nAttrs&&nAttrs.length;jj>j;j++){var attrStartName=!1,attrEndName=!1;attr=nAttrs[j],name=attr.name,value=trim(attr.value),ngAttrName=directiveNormalize(name),(isNgAttr=NG_ATTR_BINDING.test(ngAttrName))&&(name=name.replace(PREFIX_REGEXP,"").substr(8).replace(/_(.)/g,function(match,letter){return letter.toUpperCase()}));var directiveNName=ngAttrName.replace(/(Start|End)$/,"");directiveIsMultiElement(directiveNName)&&ngAttrName===directiveNName+"Start"&&(attrStartName=name,attrEndName=name.substr(0,name.length-5)+"end",name=name.substr(0,name.length-6)),nName=directiveNormalize(name.toLowerCase()),attrsMap[nName]=name,(isNgAttr||!attrs.hasOwnProperty(nName))&&(attrs[nName]=value,getBooleanAttrName(node,nName)&&(attrs[nName]=!0)),addAttrInterpolateDirective(node,directives,value,nName,isNgAttr),addDirective(directives,nName,"A",maxPriority,ignoreDirective,attrStartName,attrEndName)}if(className=node.className,isObject(className)&&(className=className.animVal),isString(className)&&""!==className)for(;match=CLASS_DIRECTIVE_REGEXP.exec(className);)nName=directiveNormalize(match[2]),addDirective(directives,nName,"C",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[3])),className=className.substr(match.index+match[0].length);break;case NODE_TYPE_TEXT:addTextInterpolateDirective(directives,node.nodeValue);break;case NODE_TYPE_COMMENT:try{match=COMMENT_DIRECTIVE_REGEXP.exec(node.nodeValue),match&&(nName=directiveNormalize(match[1]),addDirective(directives,nName,"M",maxPriority,ignoreDirective)&&(attrs[nName]=trim(match[2])))}catch(e){}}return directives.sort(byPriority),directives}function groupScan(node,attrStart,attrEnd){var nodes=[],depth=0;if(attrStart&&node.hasAttribute&&node.hasAttribute(attrStart)){do{if(!node)throw $compileMinErr("uterdir","Unterminated attribute, found '{0}' but no matching '{1}' found.",attrStart,attrEnd);node.nodeType==NODE_TYPE_ELEMENT&&(node.hasAttribute(attrStart)&&depth++,node.hasAttribute(attrEnd)&&depth--),nodes.push(node),node=node.nextSibling}while(depth>0)}else nodes.push(node);return jqLite(nodes)}function groupElementsLinkFnWrapper(linkFn,attrStart,attrEnd){return function(scope,element,attrs,controllers,transcludeFn){return element=groupScan(element[0],attrStart,attrEnd),linkFn(scope,element,attrs,controllers,transcludeFn)}}function applyDirectivesToNode(directives,compileNode,templateAttrs,transcludeFn,jqCollection,originalReplaceDirective,preLinkFns,postLinkFns,previousCompileContext){function addLinkFns(pre,post,attrStart,attrEnd){pre&&(attrStart&&(pre=groupElementsLinkFnWrapper(pre,attrStart,attrEnd)),pre.require=directive.require,pre.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(pre=cloneAndAnnotateFn(pre,{isolateScope:!0})),preLinkFns.push(pre)),post&&(attrStart&&(post=groupElementsLinkFnWrapper(post,attrStart,attrEnd)),post.require=directive.require,post.directiveName=directiveName,(newIsolateScopeDirective===directive||directive.$$isolateScope)&&(post=cloneAndAnnotateFn(post,{isolateScope:!0})),postLinkFns.push(post))
}function getControllers(directiveName,require,$element,elementControllers){var value,match,retrievalMethod="data",optional=!1,$searchElement=$element;if(isString(require)){if(match=require.match(REQUIRE_PREFIX_REGEXP),require=require.substring(match[0].length),match[3]&&(match[1]?match[3]=null:match[1]=match[3]),"^"===match[1]?retrievalMethod="inheritedData":"^^"===match[1]&&(retrievalMethod="inheritedData",$searchElement=$element.parent()),"?"===match[2]&&(optional=!0),value=null,elementControllers&&"data"===retrievalMethod&&(value=elementControllers[require])&&(value=value.instance),value=value||$searchElement[retrievalMethod]("$"+require+"Controller"),!value&&!optional)throw $compileMinErr("ctreq","Controller '{0}', required by directive '{1}', can't be found!",require,directiveName);return value||null}return isArray(require)&&(value=[],forEach(require,function(require){value.push(getControllers(directiveName,require,$element,elementControllers))})),value}function nodeLinkFn(childLinkFn,scope,linkNode,$rootElement,boundTranscludeFn){function controllersBoundTransclude(scope,cloneAttachFn,futureParentElement){var transcludeControllers;return isScope(scope)||(futureParentElement=cloneAttachFn,cloneAttachFn=scope,scope=undefined),hasElementTranscludeDirective&&(transcludeControllers=elementControllers),futureParentElement||(futureParentElement=hasElementTranscludeDirective?$element.parent():$element),boundTranscludeFn(scope,cloneAttachFn,transcludeControllers,futureParentElement,scopeToChild)}var i,ii,linkFn,controller,isolateScope,elementControllers,transcludeFn,$element,attrs;if(compileNode===linkNode?(attrs=templateAttrs,$element=templateAttrs.$$element):($element=jqLite(linkNode),attrs=new Attributes($element,templateAttrs)),newIsolateScopeDirective&&(isolateScope=scope.$new(!0)),boundTranscludeFn&&(transcludeFn=controllersBoundTransclude,transcludeFn.$$boundTransclude=boundTranscludeFn),controllerDirectives&&(controllers={},elementControllers={},forEach(controllerDirectives,function(directive){var controllerInstance,locals={$scope:directive===newIsolateScopeDirective||directive.$$isolateScope?isolateScope:scope,$element:$element,$attrs:attrs,$transclude:transcludeFn};controller=directive.controller,"@"==controller&&(controller=attrs[directive.name]),controllerInstance=$controller(controller,locals,!0,directive.controllerAs),elementControllers[directive.name]=controllerInstance,hasElementTranscludeDirective||$element.data("$"+directive.name+"Controller",controllerInstance.instance),controllers[directive.name]=controllerInstance})),newIsolateScopeDirective){compile.$$addScopeInfo($element,isolateScope,!0,!(templateDirective&&(templateDirective===newIsolateScopeDirective||templateDirective===newIsolateScopeDirective.$$originalDirective))),compile.$$addScopeClass($element,!0);var isolateScopeController=controllers&&controllers[newIsolateScopeDirective.name],isolateBindingContext=isolateScope;isolateScopeController&&isolateScopeController.identifier&&newIsolateScopeDirective.bindToController===!0&&(isolateBindingContext=isolateScopeController.instance),forEach(isolateScope.$$isolateBindings=newIsolateScopeDirective.$$isolateBindings,function(definition,scopeName){var lastValue,parentGet,parentSet,compare,attrName=definition.attrName,optional=definition.optional,mode=definition.mode;switch(mode){case"@":attrs.$observe(attrName,function(value){isolateBindingContext[scopeName]=value}),attrs.$$observers[attrName].$$scope=scope,attrs[attrName]&&(isolateBindingContext[scopeName]=$interpolate(attrs[attrName])(scope));break;case"=":if(optional&&!attrs[attrName])return;parentGet=$parse(attrs[attrName]),compare=parentGet.literal?equals:function(a,b){return a===b||a!==a&&b!==b},parentSet=parentGet.assign||function(){throw lastValue=isolateBindingContext[scopeName]=parentGet(scope),$compileMinErr("nonassign","Expression '{0}' used with directive '{1}' is non-assignable!",attrs[attrName],newIsolateScopeDirective.name)},lastValue=isolateBindingContext[scopeName]=parentGet(scope);var parentValueWatch=function(parentValue){return compare(parentValue,isolateBindingContext[scopeName])||(compare(parentValue,lastValue)?parentSet(scope,parentValue=isolateBindingContext[scopeName]):isolateBindingContext[scopeName]=parentValue),lastValue=parentValue};parentValueWatch.$stateful=!0;var unwatch;unwatch=definition.collection?scope.$watchCollection(attrs[attrName],parentValueWatch):scope.$watch($parse(attrs[attrName],parentValueWatch),null,parentGet.literal),isolateScope.$on("$destroy",unwatch);break;case"&":parentGet=$parse(attrs[attrName]),isolateBindingContext[scopeName]=function(locals){return parentGet(scope,locals)}}})}for(controllers&&(forEach(controllers,function(controller){controller()}),controllers=null),i=0,ii=preLinkFns.length;ii>i;i++)linkFn=preLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn);var scopeToChild=scope;for(newIsolateScopeDirective&&(newIsolateScopeDirective.template||null===newIsolateScopeDirective.templateUrl)&&(scopeToChild=isolateScope),childLinkFn&&childLinkFn(scopeToChild,linkNode.childNodes,undefined,boundTranscludeFn),i=postLinkFns.length-1;i>=0;i--)linkFn=postLinkFns[i],invokeLinkFn(linkFn,linkFn.isolateScope?isolateScope:scope,$element,attrs,linkFn.require&&getControllers(linkFn.directiveName,linkFn.require,$element,elementControllers),transcludeFn)}previousCompileContext=previousCompileContext||{};for(var newScopeDirective,controllers,directive,directiveName,$template,linkFn,directiveValue,terminalPriority=-Number.MAX_VALUE,controllerDirectives=previousCompileContext.controllerDirectives,newIsolateScopeDirective=previousCompileContext.newIsolateScopeDirective,templateDirective=previousCompileContext.templateDirective,nonTlbTranscludeDirective=previousCompileContext.nonTlbTranscludeDirective,hasTranscludeDirective=!1,hasTemplate=!1,hasElementTranscludeDirective=previousCompileContext.hasElementTranscludeDirective,$compileNode=templateAttrs.$$element=jqLite(compileNode),replaceDirective=originalReplaceDirective,childTranscludeFn=transcludeFn,i=0,ii=directives.length;ii>i;i++){directive=directives[i];var attrStart=directive.$$start,attrEnd=directive.$$end;if(attrStart&&($compileNode=groupScan(compileNode,attrStart,attrEnd)),$template=undefined,terminalPriority>directive.priority)break;if((directiveValue=directive.scope)&&(directive.templateUrl||(isObject(directiveValue)?(assertNoDuplicate("new/isolated scope",newIsolateScopeDirective||newScopeDirective,directive,$compileNode),newIsolateScopeDirective=directive):assertNoDuplicate("new/isolated scope",newIsolateScopeDirective,directive,$compileNode)),newScopeDirective=newScopeDirective||directive),directiveName=directive.name,!directive.templateUrl&&directive.controller&&(directiveValue=directive.controller,controllerDirectives=controllerDirectives||{},assertNoDuplicate("'"+directiveName+"' controller",controllerDirectives[directiveName],directive,$compileNode),controllerDirectives[directiveName]=directive),(directiveValue=directive.transclude)&&(hasTranscludeDirective=!0,directive.$$tlb||(assertNoDuplicate("transclusion",nonTlbTranscludeDirective,directive,$compileNode),nonTlbTranscludeDirective=directive),"element"==directiveValue?(hasElementTranscludeDirective=!0,terminalPriority=directive.priority,$template=$compileNode,$compileNode=templateAttrs.$$element=jqLite(document.createComment(" "+directiveName+": "+templateAttrs[directiveName]+" ")),compileNode=$compileNode[0],replaceWith(jqCollection,sliceArgs($template),compileNode),childTranscludeFn=compile($template,transcludeFn,terminalPriority,replaceDirective&&replaceDirective.name,{nonTlbTranscludeDirective:nonTlbTranscludeDirective})):($template=jqLite(jqLiteClone(compileNode)).contents(),$compileNode.empty(),childTranscludeFn=compile($template,transcludeFn))),directive.template)if(hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directiveValue=isFunction(directive.template)?directive.template($compileNode,templateAttrs):directive.template,directiveValue=denormalizeTemplate(directiveValue),directive.replace){if(replaceDirective=directive,$template=jqLiteIsTextNode(directiveValue)?[]:removeComments(wrapTemplate(directive.templateNamespace,trim(directiveValue))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",directiveName,"");replaceWith(jqCollection,$compileNode,compileNode);var newTemplateAttrs={$attr:{}},templateDirectives=collectDirectives(compileNode,[],newTemplateAttrs),unprocessedDirectives=directives.splice(i+1,directives.length-(i+1));newIsolateScopeDirective&&markDirectivesAsIsolate(templateDirectives),directives=directives.concat(templateDirectives).concat(unprocessedDirectives),mergeTemplateAttributes(templateAttrs,newTemplateAttrs),ii=directives.length}else $compileNode.html(directiveValue);if(directive.templateUrl)hasTemplate=!0,assertNoDuplicate("template",templateDirective,directive,$compileNode),templateDirective=directive,directive.replace&&(replaceDirective=directive),nodeLinkFn=compileTemplateUrl(directives.splice(i,directives.length-i),$compileNode,templateAttrs,jqCollection,hasTranscludeDirective&&childTranscludeFn,preLinkFns,postLinkFns,{controllerDirectives:controllerDirectives,newIsolateScopeDirective:newIsolateScopeDirective,templateDirective:templateDirective,nonTlbTranscludeDirective:nonTlbTranscludeDirective}),ii=directives.length;else if(directive.compile)try{linkFn=directive.compile($compileNode,templateAttrs,childTranscludeFn),isFunction(linkFn)?addLinkFns(null,linkFn,attrStart,attrEnd):linkFn&&addLinkFns(linkFn.pre,linkFn.post,attrStart,attrEnd)}catch(e){$exceptionHandler(e,startingTag($compileNode))}directive.terminal&&(nodeLinkFn.terminal=!0,terminalPriority=Math.max(terminalPriority,directive.priority))}return nodeLinkFn.scope=newScopeDirective&&newScopeDirective.scope===!0,nodeLinkFn.transcludeOnThisElement=hasTranscludeDirective,nodeLinkFn.elementTranscludeOnThisElement=hasElementTranscludeDirective,nodeLinkFn.templateOnThisElement=hasTemplate,nodeLinkFn.transclude=childTranscludeFn,previousCompileContext.hasElementTranscludeDirective=hasElementTranscludeDirective,nodeLinkFn}function markDirectivesAsIsolate(directives){for(var j=0,jj=directives.length;jj>j;j++)directives[j]=inherit(directives[j],{$$isolateScope:!0})}function addDirective(tDirectives,name,location,maxPriority,ignoreDirective,startAttrName,endAttrName){if(name===ignoreDirective)return null;var match=null;if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)try{directive=directives[i],(maxPriority===undefined||maxPriority>directive.priority)&&-1!=directive.restrict.indexOf(location)&&(startAttrName&&(directive=inherit(directive,{$$start:startAttrName,$$end:endAttrName})),tDirectives.push(directive),match=directive)}catch(e){$exceptionHandler(e)}return match}function directiveIsMultiElement(name){if(hasDirectives.hasOwnProperty(name))for(var directive,directives=$injector.get(name+Suffix),i=0,ii=directives.length;ii>i;i++)if(directive=directives[i],directive.multiElement)return!0;return!1}function mergeTemplateAttributes(dst,src){var srcAttr=src.$attr,dstAttr=dst.$attr,$element=dst.$$element;forEach(dst,function(value,key){"$"!=key.charAt(0)&&(src[key]&&src[key]!==value&&(value+=("style"===key?";":" ")+src[key]),dst.$set(key,value,!0,srcAttr[key]))}),forEach(src,function(value,key){"class"==key?(safeAddClass($element,value),dst["class"]=(dst["class"]?dst["class"]+" ":"")+value):"style"==key?($element.attr("style",$element.attr("style")+";"+value),dst.style=(dst.style?dst.style+";":"")+value):"$"==key.charAt(0)||dst.hasOwnProperty(key)||(dst[key]=value,dstAttr[key]=srcAttr[key])})}function compileTemplateUrl(directives,$compileNode,tAttrs,$rootElement,childTranscludeFn,preLinkFns,postLinkFns,previousCompileContext){var afterTemplateNodeLinkFn,afterTemplateChildLinkFn,linkQueue=[],beforeTemplateCompileNode=$compileNode[0],origAsyncDirective=directives.shift(),derivedSyncDirective=inherit(origAsyncDirective,{templateUrl:null,transclude:null,replace:null,$$originalDirective:origAsyncDirective}),templateUrl=isFunction(origAsyncDirective.templateUrl)?origAsyncDirective.templateUrl($compileNode,tAttrs):origAsyncDirective.templateUrl,templateNamespace=origAsyncDirective.templateNamespace;return $compileNode.empty(),$templateRequest($sce.getTrustedResourceUrl(templateUrl)).then(function(content){var compileNode,tempTemplateAttrs,$template,childBoundTranscludeFn;if(content=denormalizeTemplate(content),origAsyncDirective.replace){if($template=jqLiteIsTextNode(content)?[]:removeComments(wrapTemplate(templateNamespace,trim(content))),compileNode=$template[0],1!=$template.length||compileNode.nodeType!==NODE_TYPE_ELEMENT)throw $compileMinErr("tplrt","Template for directive '{0}' must have exactly one root element. {1}",origAsyncDirective.name,templateUrl);tempTemplateAttrs={$attr:{}},replaceWith($rootElement,$compileNode,compileNode);var templateDirectives=collectDirectives(compileNode,[],tempTemplateAttrs);isObject(origAsyncDirective.scope)&&markDirectivesAsIsolate(templateDirectives),directives=templateDirectives.concat(directives),mergeTemplateAttributes(tAttrs,tempTemplateAttrs)}else compileNode=beforeTemplateCompileNode,$compileNode.html(content);for(directives.unshift(derivedSyncDirective),afterTemplateNodeLinkFn=applyDirectivesToNode(directives,compileNode,tAttrs,childTranscludeFn,$compileNode,origAsyncDirective,preLinkFns,postLinkFns,previousCompileContext),forEach($rootElement,function(node,i){node==compileNode&&($rootElement[i]=$compileNode[0])}),afterTemplateChildLinkFn=compileNodes($compileNode[0].childNodes,childTranscludeFn);linkQueue.length;){var scope=linkQueue.shift(),beforeTemplateLinkNode=linkQueue.shift(),linkRootElement=linkQueue.shift(),boundTranscludeFn=linkQueue.shift(),linkNode=$compileNode[0];if(!scope.$$destroyed){if(beforeTemplateLinkNode!==beforeTemplateCompileNode){var oldClasses=beforeTemplateLinkNode.className;previousCompileContext.hasElementTranscludeDirective&&origAsyncDirective.replace||(linkNode=jqLiteClone(compileNode)),replaceWith(linkRootElement,jqLite(beforeTemplateLinkNode),linkNode),safeAddClass(jqLite(linkNode),oldClasses)}childBoundTranscludeFn=afterTemplateNodeLinkFn.transcludeOnThisElement?createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn):boundTranscludeFn,afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,linkNode,$rootElement,childBoundTranscludeFn)}}linkQueue=null}),function(ignoreChildLinkFn,scope,node,rootElement,boundTranscludeFn){var childBoundTranscludeFn=boundTranscludeFn;scope.$$destroyed||(linkQueue?linkQueue.push(scope,node,rootElement,childBoundTranscludeFn):(afterTemplateNodeLinkFn.transcludeOnThisElement&&(childBoundTranscludeFn=createBoundTranscludeFn(scope,afterTemplateNodeLinkFn.transclude,boundTranscludeFn)),afterTemplateNodeLinkFn(afterTemplateChildLinkFn,scope,node,rootElement,childBoundTranscludeFn)))}}function byPriority(a,b){var diff=b.priority-a.priority;return 0!==diff?diff:a.name!==b.name?a.name<b.name?-1:1:a.index-b.index}function assertNoDuplicate(what,previousDirective,directive,element){if(previousDirective)throw $compileMinErr("multidir","Multiple directives [{0}, {1}] asking for {2} on: {3}",previousDirective.name,directive.name,what,startingTag(element))}function addTextInterpolateDirective(directives,text){var interpolateFn=$interpolate(text,!0);interpolateFn&&directives.push({priority:0,compile:function(templateNode){var templateNodeParent=templateNode.parent(),hasCompileParent=!!templateNodeParent.length;return hasCompileParent&&compile.$$addBindingClass(templateNodeParent),function(scope,node){var parent=node.parent();hasCompileParent||compile.$$addBindingClass(parent),compile.$$addBindingInfo(parent,interpolateFn.expressions),scope.$watch(interpolateFn,function(value){node[0].nodeValue=value})}}})}function wrapTemplate(type,template){switch(type=lowercase(type||"html")){case"svg":case"math":var wrapper=document.createElement("div");return wrapper.innerHTML="<"+type+">"+template+"</"+type+">",wrapper.childNodes[0].childNodes;default:return template}}function getTrustedContext(node,attrNormalizedName){if("srcdoc"==attrNormalizedName)return $sce.HTML;var tag=nodeName_(node);return"xlinkHref"==attrNormalizedName||"form"==tag&&"action"==attrNormalizedName||"img"!=tag&&("src"==attrNormalizedName||"ngSrc"==attrNormalizedName)?$sce.RESOURCE_URL:void 0}function addAttrInterpolateDirective(node,directives,value,name,allOrNothing){var trustedContext=getTrustedContext(node,name);allOrNothing=ALL_OR_NOTHING_ATTRS[name]||allOrNothing;var interpolateFn=$interpolate(value,!0,trustedContext,allOrNothing);if(interpolateFn){if("multiple"===name&&"select"===nodeName_(node))throw $compileMinErr("selmulti","Binding to the 'multiple' attribute is not supported. Element: {0}",startingTag(node));directives.push({priority:100,compile:function(){return{pre:function(scope,element,attr){var $$observers=attr.$$observers||(attr.$$observers={});if(EVENT_HANDLER_ATTR_REGEXP.test(name))throw $compileMinErr("nodomevents","Interpolations for HTML DOM event attributes are disallowed.  Please use the ng- versions (such as ng-click instead of onclick) instead.");var newValue=attr[name];newValue!==value&&(interpolateFn=newValue&&$interpolate(newValue,!0,trustedContext,allOrNothing),value=newValue),interpolateFn&&(attr[name]=interpolateFn(scope),($$observers[name]||($$observers[name]=[])).$$inter=!0,(attr.$$observers&&attr.$$observers[name].$$scope||scope).$watch(interpolateFn,function(newValue,oldValue){"class"===name&&newValue!=oldValue?attr.$updateClass(newValue,oldValue):attr.$set(name,newValue)}))}}}})}}function replaceWith($rootElement,elementsToRemove,newNode){var i,ii,firstElementToRemove=elementsToRemove[0],removeCount=elementsToRemove.length,parent=firstElementToRemove.parentNode;if($rootElement)for(i=0,ii=$rootElement.length;ii>i;i++)if($rootElement[i]==firstElementToRemove){$rootElement[i++]=newNode;for(var j=i,j2=j+removeCount-1,jj=$rootElement.length;jj>j;j++,j2++)jj>j2?$rootElement[j]=$rootElement[j2]:delete $rootElement[j];$rootElement.length-=removeCount-1,$rootElement.context===firstElementToRemove&&($rootElement.context=newNode);break}parent&&parent.replaceChild(newNode,firstElementToRemove);var fragment=document.createDocumentFragment();fragment.appendChild(firstElementToRemove),jqLite(newNode).data(jqLite(firstElementToRemove).data()),jQuery?(skipDestroyOnNextJQueryCleanData=!0,jQuery.cleanData([firstElementToRemove])):delete jqLite.cache[firstElementToRemove[jqLite.expando]];for(var k=1,kk=elementsToRemove.length;kk>k;k++){var element=elementsToRemove[k];jqLite(element).remove(),fragment.appendChild(element),delete elementsToRemove[k]}elementsToRemove[0]=newNode,elementsToRemove.length=1}function cloneAndAnnotateFn(fn,annotation){return extend(function(){return fn.apply(null,arguments)},fn,annotation)}function invokeLinkFn(linkFn,scope,$element,attrs,controllers,transcludeFn){try{linkFn(scope,$element,attrs,controllers,transcludeFn)}catch(e){$exceptionHandler(e,startingTag($element))}}var Attributes=function(element,attributesToCopy){if(attributesToCopy){var i,l,key,keys=Object.keys(attributesToCopy);for(i=0,l=keys.length;l>i;i++)key=keys[i],this[key]=attributesToCopy[key]}else this.$attr={};this.$$element=element};Attributes.prototype={$normalize:directiveNormalize,$addClass:function(classVal){classVal&&classVal.length>0&&$animate.addClass(this.$$element,classVal)},$removeClass:function(classVal){classVal&&classVal.length>0&&$animate.removeClass(this.$$element,classVal)},$updateClass:function(newClasses,oldClasses){var toAdd=tokenDifference(newClasses,oldClasses);toAdd&&toAdd.length&&$animate.addClass(this.$$element,toAdd);var toRemove=tokenDifference(oldClasses,newClasses);toRemove&&toRemove.length&&$animate.removeClass(this.$$element,toRemove)},$set:function(key,value,writeAttr,attrName){var nodeName,node=this.$$element[0],booleanKey=getBooleanAttrName(node,key),aliasedKey=getAliasedAttrName(node,key),observer=key;if(booleanKey?(this.$$element.prop(key,value),attrName=booleanKey):aliasedKey&&(this[aliasedKey]=value,observer=aliasedKey),this[key]=value,attrName?this.$attr[key]=attrName:(attrName=this.$attr[key],attrName||(this.$attr[key]=attrName=snake_case(key,"-"))),nodeName=nodeName_(this.$$element),"a"===nodeName&&"href"===key||"img"===nodeName&&"src"===key)this[key]=value=$$sanitizeUri(value,"src"===key);else if("img"===nodeName&&"srcset"===key){for(var result="",trimmedSrcset=trim(value),srcPattern=/(\s+\d+x\s*,|\s+\d+w\s*,|\s+,|,\s+)/,pattern=/\s/.test(trimmedSrcset)?srcPattern:/(,)/,rawUris=trimmedSrcset.split(pattern),nbrUrisWith2parts=Math.floor(rawUris.length/2),i=0;nbrUrisWith2parts>i;i++){var innerIdx=2*i;result+=$$sanitizeUri(trim(rawUris[innerIdx]),!0),result+=" "+trim(rawUris[innerIdx+1])}var lastTuple=trim(rawUris[2*i]).split(/\s/);result+=$$sanitizeUri(trim(lastTuple[0]),!0),2===lastTuple.length&&(result+=" "+trim(lastTuple[1])),this[key]=value=result}writeAttr!==!1&&(null===value||value===undefined?this.$$element.removeAttr(attrName):this.$$element.attr(attrName,value));var $$observers=this.$$observers;$$observers&&forEach($$observers[observer],function(fn){try{fn(value)}catch(e){$exceptionHandler(e)}})},$observe:function(key,fn){var attrs=this,$$observers=attrs.$$observers||(attrs.$$observers=createMap()),listeners=$$observers[key]||($$observers[key]=[]);return listeners.push(fn),$rootScope.$evalAsync(function(){!listeners.$$inter&&attrs.hasOwnProperty(key)&&fn(attrs[key])}),function(){arrayRemove(listeners,fn)}}};var startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),denormalizeTemplate="{{"==startSymbol||"}}"==endSymbol?identity:function(template){return template.replace(/\{\{/g,startSymbol).replace(/}}/g,endSymbol)},NG_ATTR_BINDING=/^ngAttr[A-Z]/;return compile.$$addBindingInfo=debugInfoEnabled?function($element,binding){var bindings=$element.data("$binding")||[];isArray(binding)?bindings=bindings.concat(binding):bindings.push(binding),$element.data("$binding",bindings)}:noop,compile.$$addBindingClass=debugInfoEnabled?function($element){safeAddClass($element,"ng-binding")}:noop,compile.$$addScopeInfo=debugInfoEnabled?function($element,scope,isolated,noTemplate){var dataName=isolated?noTemplate?"$isolateScopeNoTemplate":"$isolateScope":"$scope";$element.data(dataName,scope)}:noop,compile.$$addScopeClass=debugInfoEnabled?function($element,isolated){safeAddClass($element,isolated?"ng-isolate-scope":"ng-scope")}:noop,compile}]}function directiveNormalize(name){return camelCase(name.replace(PREFIX_REGEXP,""))}function tokenDifference(str1,str2){var values="",tokens1=str1.split(/\s+/),tokens2=str2.split(/\s+/);outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values+=(values.length>0?" ":"")+token}return values}function removeComments(jqNodes){jqNodes=jqLite(jqNodes);var i=jqNodes.length;if(1>=i)return jqNodes;for(;i--;){var node=jqNodes[i];node.nodeType===NODE_TYPE_COMMENT&&splice.call(jqNodes,i,1)}return jqNodes}function $ControllerProvider(){var controllers={},globals=!1,CNTRL_REG=/^(\S+)(\s+as\s+(\w+))?$/;this.register=function(name,constructor){assertNotHasOwnProperty(name,"controller"),isObject(name)?extend(controllers,name):controllers[name]=constructor},this.allowGlobals=function(){globals=!0},this.$get=["$injector","$window",function($injector,$window){function addIdentifier(locals,identifier,instance,name){if(!locals||!isObject(locals.$scope))throw minErr("$controller")("noscp","Cannot export controller '{0}' as '{1}'! No $scope object provided via `locals`.",name,identifier);locals.$scope[identifier]=instance}return function(expression,locals,later,ident){var instance,match,constructor,identifier;if(later=later===!0,ident&&isString(ident)&&(identifier=ident),isString(expression)){if(match=expression.match(CNTRL_REG),!match)throw $controllerMinErr("ctrlfmt","Badly formed controller string '{0}'. Must match `__name__ as __id__` or `__name__`.",expression);constructor=match[1],identifier=identifier||match[3],expression=controllers.hasOwnProperty(constructor)?controllers[constructor]:getter(locals.$scope,constructor,!0)||(globals?getter($window,constructor,!0):undefined),assertArgFn(expression,constructor,!0)}if(later){var controllerPrototype=(isArray(expression)?expression[expression.length-1]:expression).prototype;return instance=Object.create(controllerPrototype||null),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),extend(function(){return $injector.invoke(expression,instance,locals,constructor),instance},{instance:instance,identifier:identifier})}return instance=$injector.instantiate(expression,locals,constructor),identifier&&addIdentifier(locals,identifier,instance,constructor||expression.name),instance}}]}function $DocumentProvider(){this.$get=["$window",function(window){return jqLite(window.document)}]}function $ExceptionHandlerProvider(){this.$get=["$log",function($log){return function(){$log.error.apply($log,arguments)}}]}function defaultHttpResponseTransform(data,headers){if(isString(data)){var tempData=data.replace(JSON_PROTECTION_PREFIX,"").trim();if(tempData){var contentType=headers("Content-Type");(contentType&&0===contentType.indexOf(APPLICATION_JSON)||isJsonLike(tempData))&&(data=fromJson(tempData))}}return data}function isJsonLike(str){var jsonStart=str.match(JSON_START);return jsonStart&&JSON_ENDS[jsonStart[0]].test(str)}function parseHeaders(headers){var key,val,i,parsed=createMap();return headers?(forEach(headers.split("\n"),function(line){i=line.indexOf(":"),key=lowercase(trim(line.substr(0,i))),val=trim(line.substr(i+1)),key&&(parsed[key]=parsed[key]?parsed[key]+", "+val:val)}),parsed):parsed}function headersGetter(headers){var headersObj=isObject(headers)?headers:undefined;return function(name){if(headersObj||(headersObj=parseHeaders(headers)),name){var value=headersObj[lowercase(name)];return void 0===value&&(value=null),value}return headersObj}}function transformData(data,headers,status,fns){return isFunction(fns)?fns(data,headers,status):(forEach(fns,function(fn){data=fn(data,headers,status)}),data)}function isSuccess(status){return status>=200&&300>status}function $HttpProvider(){var defaults=this.defaults={transformResponse:[defaultHttpResponseTransform],transformRequest:[function(d){return!isObject(d)||isFile(d)||isBlob(d)||isFormData(d)?d:toJson(d)}],headers:{common:{Accept:"application/json, text/plain, */*"},post:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),put:shallowCopy(CONTENT_TYPE_APPLICATION_JSON),patch:shallowCopy(CONTENT_TYPE_APPLICATION_JSON)},xsrfCookieName:"XSRF-TOKEN",xsrfHeaderName:"X-XSRF-TOKEN"},useApplyAsync=!1;this.useApplyAsync=function(value){return isDefined(value)?(useApplyAsync=!!value,this):useApplyAsync};var interceptorFactories=this.interceptors=[];this.$get=["$httpBackend","$browser","$cacheFactory","$rootScope","$q","$injector",function($httpBackend,$browser,$cacheFactory,$rootScope,$q,$injector){function $http(requestConfig){function transformResponse(response){var resp=extend({},response);return resp.data=response.data?transformData(response.data,response.headers,response.status,config.transformResponse):response.data,isSuccess(response.status)?resp:$q.reject(resp)}function executeHeaderFns(headers){var headerContent,processedHeaders={};return forEach(headers,function(headerFn,header){isFunction(headerFn)?(headerContent=headerFn(),null!=headerContent&&(processedHeaders[header]=headerContent)):processedHeaders[header]=headerFn}),processedHeaders}function mergeHeaders(config){var defHeaderName,lowercaseDefHeaderName,reqHeaderName,defHeaders=defaults.headers,reqHeaders=extend({},config.headers);defHeaders=extend({},defHeaders.common,defHeaders[lowercase(config.method)]);defaultHeadersIteration:for(defHeaderName in defHeaders){lowercaseDefHeaderName=lowercase(defHeaderName);for(reqHeaderName in reqHeaders)if(lowercase(reqHeaderName)===lowercaseDefHeaderName)continue defaultHeadersIteration;reqHeaders[defHeaderName]=defHeaders[defHeaderName]}return executeHeaderFns(reqHeaders)}if(!angular.isObject(requestConfig))throw minErr("$http")("badreq","Http request configuration must be an object.  Received: {0}",requestConfig);var config=extend({method:"get",transformRequest:defaults.transformRequest,transformResponse:defaults.transformResponse},requestConfig);config.headers=mergeHeaders(requestConfig),config.method=uppercase(config.method);var serverRequest=function(config){var headers=config.headers,reqData=transformData(config.data,headersGetter(headers),undefined,config.transformRequest);return isUndefined(reqData)&&forEach(headers,function(value,header){"content-type"===lowercase(header)&&delete headers[header]}),isUndefined(config.withCredentials)&&!isUndefined(defaults.withCredentials)&&(config.withCredentials=defaults.withCredentials),sendReq(config,reqData).then(transformResponse,transformResponse)},chain=[serverRequest,undefined],promise=$q.when(config);for(forEach(reversedInterceptors,function(interceptor){(interceptor.request||interceptor.requestError)&&chain.unshift(interceptor.request,interceptor.requestError),(interceptor.response||interceptor.responseError)&&chain.push(interceptor.response,interceptor.responseError)});chain.length;){var thenFn=chain.shift(),rejectFn=chain.shift();promise=promise.then(thenFn,rejectFn)}return promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise}function createShortMethods(){forEach(arguments,function(name){$http[name]=function(url,config){return $http(extend(config||{},{method:name,url:url}))}})}function createShortMethodsWithData(){forEach(arguments,function(name){$http[name]=function(url,data,config){return $http(extend(config||{},{method:name,url:url,data:data}))}})}function sendReq(config,reqData){function done(status,response,headersString,statusText){function resolveHttpPromise(){resolvePromise(response,status,headersString,statusText)}cache&&(isSuccess(status)?cache.put(url,[status,response,parseHeaders(headersString),statusText]):cache.remove(url)),useApplyAsync?$rootScope.$applyAsync(resolveHttpPromise):(resolveHttpPromise(),$rootScope.$$phase||$rootScope.$apply())}function resolvePromise(response,status,headers,statusText){status=Math.max(status,0),(isSuccess(status)?deferred.resolve:deferred.reject)({data:response,status:status,headers:headersGetter(headers),config:config,statusText:statusText})}function resolvePromiseWithResult(result){resolvePromise(result.data,result.status,shallowCopy(result.headers()),result.statusText)}function removePendingReq(){var idx=$http.pendingRequests.indexOf(config);-1!==idx&&$http.pendingRequests.splice(idx,1)}var cache,cachedResp,deferred=$q.defer(),promise=deferred.promise,reqHeaders=config.headers,url=buildUrl(config.url,config.params);if($http.pendingRequests.push(config),promise.then(removePendingReq,removePendingReq),!config.cache&&!defaults.cache||config.cache===!1||"GET"!==config.method&&"JSONP"!==config.method||(cache=isObject(config.cache)?config.cache:isObject(defaults.cache)?defaults.cache:defaultCache),cache&&(cachedResp=cache.get(url),isDefined(cachedResp)?isPromiseLike(cachedResp)?cachedResp.then(resolvePromiseWithResult,resolvePromiseWithResult):isArray(cachedResp)?resolvePromise(cachedResp[1],cachedResp[0],shallowCopy(cachedResp[2]),cachedResp[3]):resolvePromise(cachedResp,200,{},"OK"):cache.put(url,promise)),isUndefined(cachedResp)){var xsrfValue=urlIsSameOrigin(config.url)?$browser.cookies()[config.xsrfCookieName||defaults.xsrfCookieName]:undefined;
xsrfValue&&(reqHeaders[config.xsrfHeaderName||defaults.xsrfHeaderName]=xsrfValue),$httpBackend(config.method,url,reqData,done,reqHeaders,config.timeout,config.withCredentials,config.responseType)}return promise}function buildUrl(url,params){if(!params)return url;var parts=[];return forEachSorted(params,function(value,key){null===value||isUndefined(value)||(isArray(value)||(value=[value]),forEach(value,function(v){isObject(v)&&(v=isDate(v)?v.toISOString():toJson(v)),parts.push(encodeUriQuery(key)+"="+encodeUriQuery(v))}))}),parts.length>0&&(url+=(-1==url.indexOf("?")?"?":"&")+parts.join("&")),url}var defaultCache=$cacheFactory("$http"),reversedInterceptors=[];return forEach(interceptorFactories,function(interceptorFactory){reversedInterceptors.unshift(isString(interceptorFactory)?$injector.get(interceptorFactory):$injector.invoke(interceptorFactory))}),$http.pendingRequests=[],createShortMethods("get","delete","head","jsonp"),createShortMethodsWithData("post","put","patch"),$http.defaults=defaults,$http}]}function createXhr(){return new window.XMLHttpRequest}function $HttpBackendProvider(){this.$get=["$browser","$window","$document",function($browser,$window,$document){return createHttpBackend($browser,createXhr,$browser.defer,$window.angular.callbacks,$document[0])}]}function createHttpBackend($browser,createXhr,$browserDefer,callbacks,rawDocument){function jsonpReq(url,callbackId,done){var script=rawDocument.createElement("script"),callback=null;return script.type="text/javascript",script.src=url,script.async=!0,callback=function(event){removeEventListenerFn(script,"load",callback),removeEventListenerFn(script,"error",callback),rawDocument.body.removeChild(script),script=null;var status=-1,text="unknown";event&&("load"!==event.type||callbacks[callbackId].called||(event={type:"error"}),text=event.type,status="error"===event.type?404:200),done&&done(status,text)},addEventListenerFn(script,"load",callback),addEventListenerFn(script,"error",callback),rawDocument.body.appendChild(script),callback}return function(method,url,post,callback,headers,timeout,withCredentials,responseType){function timeoutRequest(){jsonpDone&&jsonpDone(),xhr&&xhr.abort()}function completeRequest(callback,status,response,headersString,statusText){timeoutId!==undefined&&$browserDefer.cancel(timeoutId),jsonpDone=xhr=null,callback(status,response,headersString,statusText),$browser.$$completeOutstandingRequest(noop)}if($browser.$$incOutstandingRequestCount(),url=url||$browser.url(),"jsonp"==lowercase(method)){var callbackId="_"+(callbacks.counter++).toString(36);callbacks[callbackId]=function(data){callbacks[callbackId].data=data,callbacks[callbackId].called=!0};var jsonpDone=jsonpReq(url.replace("JSON_CALLBACK","angular.callbacks."+callbackId),callbackId,function(status,text){completeRequest(callback,status,callbacks[callbackId].data,"",text),callbacks[callbackId]=noop})}else{var xhr=createXhr();xhr.open(method,url,!0),forEach(headers,function(value,key){isDefined(value)&&xhr.setRequestHeader(key,value)}),xhr.onload=function(){var statusText=xhr.statusText||"",response="response"in xhr?xhr.response:xhr.responseText,status=1223===xhr.status?204:xhr.status;0===status&&(status=response?200:"file"==urlResolve(url).protocol?404:0),completeRequest(callback,status,response,xhr.getAllResponseHeaders(),statusText)};var requestError=function(){completeRequest(callback,-1,null,null,"")};if(xhr.onerror=requestError,xhr.onabort=requestError,withCredentials&&(xhr.withCredentials=!0),responseType)try{xhr.responseType=responseType}catch(e){if("json"!==responseType)throw e}xhr.send(post||null)}if(timeout>0)var timeoutId=$browserDefer(timeoutRequest,timeout);else isPromiseLike(timeout)&&timeout.then(timeoutRequest)}}function $InterpolateProvider(){var startSymbol="{{",endSymbol="}}";this.startSymbol=function(value){return value?(startSymbol=value,this):startSymbol},this.endSymbol=function(value){return value?(endSymbol=value,this):endSymbol},this.$get=["$parse","$exceptionHandler","$sce",function($parse,$exceptionHandler,$sce){function escape(ch){return"\\\\\\"+ch}function $interpolate(text,mustHaveExpression,trustedContext,allOrNothing){function unescapeText(text){return text.replace(escapedStartRegexp,startSymbol).replace(escapedEndRegexp,endSymbol)}function parseStringifyInterceptor(value){try{return value=getValue(value),allOrNothing&&!isDefined(value)?value:stringify(value)}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}}allOrNothing=!!allOrNothing;for(var startIndex,endIndex,exp,index=0,expressions=[],parseFns=[],textLength=text.length,concat=[],expressionPositions=[];textLength>index;){if(-1==(startIndex=text.indexOf(startSymbol,index))||-1==(endIndex=text.indexOf(endSymbol,startIndex+startSymbolLength))){index!==textLength&&concat.push(unescapeText(text.substring(index)));break}index!==startIndex&&concat.push(unescapeText(text.substring(index,startIndex))),exp=text.substring(startIndex+startSymbolLength,endIndex),expressions.push(exp),parseFns.push($parse(exp,parseStringifyInterceptor)),index=endIndex+endSymbolLength,expressionPositions.push(concat.length),concat.push("")}if(trustedContext&&concat.length>1)throw $interpolateMinErr("noconcat","Error while interpolating: {0}\nStrict Contextual Escaping disallows interpolations that concatenate multiple expressions when a trusted value is required.  See http://docs.angularjs.org/api/ng.$sce",text);if(!mustHaveExpression||expressions.length){var compute=function(values){for(var i=0,ii=expressions.length;ii>i;i++){if(allOrNothing&&isUndefined(values[i]))return;concat[expressionPositions[i]]=values[i]}return concat.join("")},getValue=function(value){return trustedContext?$sce.getTrusted(trustedContext,value):$sce.valueOf(value)},stringify=function(value){if(null==value)return"";switch(typeof value){case"string":break;case"number":value=""+value;break;default:value=toJson(value)}return value};return extend(function(context){var i=0,ii=expressions.length,values=new Array(ii);try{for(;ii>i;i++)values[i]=parseFns[i](context);return compute(values)}catch(err){var newErr=$interpolateMinErr("interr","Can't interpolate: {0}\n{1}",text,err.toString());$exceptionHandler(newErr)}},{exp:text,expressions:expressions,$$watchDelegate:function(scope,listener,objectEquality){var lastValue;return scope.$watchGroup(parseFns,function(values,oldValues){var currValue=compute(values);isFunction(listener)&&listener.call(this,currValue,values!==oldValues?lastValue:currValue,scope),lastValue=currValue},objectEquality)}})}}var startSymbolLength=startSymbol.length,endSymbolLength=endSymbol.length,escapedStartRegexp=new RegExp(startSymbol.replace(/./g,escape),"g"),escapedEndRegexp=new RegExp(endSymbol.replace(/./g,escape),"g");return $interpolate.startSymbol=function(){return startSymbol},$interpolate.endSymbol=function(){return endSymbol},$interpolate}]}function $IntervalProvider(){this.$get=["$rootScope","$window","$q","$$q",function($rootScope,$window,$q,$$q){function interval(fn,delay,count,invokeApply){var setInterval=$window.setInterval,clearInterval=$window.clearInterval,iteration=0,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return count=isDefined(count)?count:0,promise.then(null,null,fn),promise.$$intervalId=setInterval(function(){deferred.notify(iteration++),count>0&&iteration>=count&&(deferred.resolve(iteration),clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId]),skipApply||$rootScope.$apply()},delay),intervals[promise.$$intervalId]=deferred,promise}var intervals={};return interval.cancel=function(promise){return promise&&promise.$$intervalId in intervals?(intervals[promise.$$intervalId].reject("canceled"),$window.clearInterval(promise.$$intervalId),delete intervals[promise.$$intervalId],!0):!1},interval}]}function $LocaleProvider(){this.$get=function(){return{id:"en-us",NUMBER_FORMATS:{DECIMAL_SEP:".",GROUP_SEP:",",PATTERNS:[{minInt:1,minFrac:0,maxFrac:3,posPre:"",posSuf:"",negPre:"-",negSuf:"",gSize:3,lgSize:3},{minInt:1,minFrac:2,maxFrac:2,posPre:"¤",posSuf:"",negPre:"(¤",negSuf:")",gSize:3,lgSize:3}],CURRENCY_SYM:"$"},DATETIME_FORMATS:{MONTH:"January,February,March,April,May,June,July,August,September,October,November,December".split(","),SHORTMONTH:"Jan,Feb,Mar,Apr,May,Jun,Jul,Aug,Sep,Oct,Nov,Dec".split(","),DAY:"Sunday,Monday,Tuesday,Wednesday,Thursday,Friday,Saturday".split(","),SHORTDAY:"Sun,Mon,Tue,Wed,Thu,Fri,Sat".split(","),AMPMS:["AM","PM"],medium:"MMM d, y h:mm:ss a","short":"M/d/yy h:mm a",fullDate:"EEEE, MMMM d, y",longDate:"MMMM d, y",mediumDate:"MMM d, y",shortDate:"M/d/yy",mediumTime:"h:mm:ss a",shortTime:"h:mm a"},pluralCat:function(num){return 1===num?"one":"other"}}}}function encodePath(path){for(var segments=path.split("/"),i=segments.length;i--;)segments[i]=encodeUriSegment(segments[i]);return segments.join("/")}function parseAbsoluteUrl(absoluteUrl,locationObj){var parsedUrl=urlResolve(absoluteUrl);locationObj.$$protocol=parsedUrl.protocol,locationObj.$$host=parsedUrl.hostname,locationObj.$$port=int(parsedUrl.port)||DEFAULT_PORTS[parsedUrl.protocol]||null}function parseAppUrl(relativeUrl,locationObj){var prefixed="/"!==relativeUrl.charAt(0);prefixed&&(relativeUrl="/"+relativeUrl);var match=urlResolve(relativeUrl);locationObj.$$path=decodeURIComponent(prefixed&&"/"===match.pathname.charAt(0)?match.pathname.substring(1):match.pathname),locationObj.$$search=parseKeyValue(match.search),locationObj.$$hash=decodeURIComponent(match.hash),locationObj.$$path&&"/"!=locationObj.$$path.charAt(0)&&(locationObj.$$path="/"+locationObj.$$path)}function beginsWith(begin,whole){return 0===whole.indexOf(begin)?whole.substr(begin.length):void 0}function stripHash(url){var index=url.indexOf("#");return-1==index?url:url.substr(0,index)}function trimEmptyHash(url){return url.replace(/(#.+)|#$/,"$1")}function stripFile(url){return url.substr(0,stripHash(url).lastIndexOf("/")+1)}function serverBase(url){return url.substring(0,url.indexOf("/",url.indexOf("//")+2))}function LocationHtml5Url(appBase,basePrefix){this.$$html5=!0,basePrefix=basePrefix||"";var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this),this.$$parse=function(url){var pathUrl=beginsWith(appBaseNoFile,url);if(!isString(pathUrl))throw $locationMinErr("ipthprfx",'Invalid url "{0}", missing path prefix "{1}".',url,appBaseNoFile);parseAppUrl(pathUrl,this),this.$$path||(this.$$path="/"),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBaseNoFile+this.$$url.substr(1)},this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var appUrl,prevAppUrl,rewrittenUrl;return(appUrl=beginsWith(appBase,url))!==undefined?(prevAppUrl=appUrl,rewrittenUrl=(appUrl=beginsWith(basePrefix,appUrl))!==undefined?appBaseNoFile+(beginsWith("/",appUrl)||appUrl):appBase+prevAppUrl):(appUrl=beginsWith(appBaseNoFile,url))!==undefined?rewrittenUrl=appBaseNoFile+appUrl:appBaseNoFile==url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl}}function LocationHashbangUrl(appBase,hashPrefix){var appBaseNoFile=stripFile(appBase);parseAbsoluteUrl(appBase,this),this.$$parse=function(url){function removeWindowsDriveName(path,url,base){var firstPathSegmentMatch,windowsFilePathExp=/^\/[A-Z]:(\/.*)/;return 0===url.indexOf(base)&&(url=url.replace(base,"")),windowsFilePathExp.exec(url)?path:(firstPathSegmentMatch=windowsFilePathExp.exec(path),firstPathSegmentMatch?firstPathSegmentMatch[1]:path)}var withoutHashUrl,withoutBaseUrl=beginsWith(appBase,url)||beginsWith(appBaseNoFile,url);"#"===withoutBaseUrl.charAt(0)?(withoutHashUrl=beginsWith(hashPrefix,withoutBaseUrl),isUndefined(withoutHashUrl)&&(withoutHashUrl=withoutBaseUrl)):withoutHashUrl=this.$$html5?withoutBaseUrl:"",parseAppUrl(withoutHashUrl,this),this.$$path=removeWindowsDriveName(this.$$path,withoutHashUrl,appBase),this.$$compose()},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+(this.$$url?hashPrefix+this.$$url:"")},this.$$parseLinkUrl=function(url){return stripHash(appBase)==stripHash(url)?(this.$$parse(url),!0):!1}}function LocationHashbangInHtml5Url(appBase,hashPrefix){this.$$html5=!0,LocationHashbangUrl.apply(this,arguments);var appBaseNoFile=stripFile(appBase);this.$$parseLinkUrl=function(url,relHref){if(relHref&&"#"===relHref[0])return this.hash(relHref.slice(1)),!0;var rewrittenUrl,appUrl;return appBase==stripHash(url)?rewrittenUrl=url:(appUrl=beginsWith(appBaseNoFile,url))?rewrittenUrl=appBase+hashPrefix+appUrl:appBaseNoFile===url+"/"&&(rewrittenUrl=appBaseNoFile),rewrittenUrl&&this.$$parse(rewrittenUrl),!!rewrittenUrl},this.$$compose=function(){var search=toKeyValue(this.$$search),hash=this.$$hash?"#"+encodeUriSegment(this.$$hash):"";this.$$url=encodePath(this.$$path)+(search?"?"+search:"")+hash,this.$$absUrl=appBase+hashPrefix+this.$$url}}function locationGetter(property){return function(){return this[property]}}function locationGetterSetter(property,preprocess){return function(value){return isUndefined(value)?this[property]:(this[property]=preprocess(value),this.$$compose(),this)}}function $LocationProvider(){var hashPrefix="",html5Mode={enabled:!1,requireBase:!0,rewriteLinks:!0};this.hashPrefix=function(prefix){return isDefined(prefix)?(hashPrefix=prefix,this):hashPrefix},this.html5Mode=function(mode){return isBoolean(mode)?(html5Mode.enabled=mode,this):isObject(mode)?(isBoolean(mode.enabled)&&(html5Mode.enabled=mode.enabled),isBoolean(mode.requireBase)&&(html5Mode.requireBase=mode.requireBase),isBoolean(mode.rewriteLinks)&&(html5Mode.rewriteLinks=mode.rewriteLinks),this):html5Mode},this.$get=["$rootScope","$browser","$sniffer","$rootElement","$window",function($rootScope,$browser,$sniffer,$rootElement,$window){function setBrowserUrlWithFallback(url,replace,state){var oldUrl=$location.url(),oldState=$location.$$state;try{$browser.url(url,replace,state),$location.$$state=$browser.state()}catch(e){throw $location.url(oldUrl),$location.$$state=oldState,e}}function afterLocationChange(oldUrl,oldState){$rootScope.$broadcast("$locationChangeSuccess",$location.absUrl(),oldUrl,$location.$$state,oldState)}var $location,LocationMode,appBase,baseHref=$browser.baseHref(),initialUrl=$browser.url();if(html5Mode.enabled){if(!baseHref&&html5Mode.requireBase)throw $locationMinErr("nobase","$location in HTML5 mode requires a <base> tag to be present!");appBase=serverBase(initialUrl)+(baseHref||"/"),LocationMode=$sniffer.history?LocationHtml5Url:LocationHashbangInHtml5Url}else appBase=stripHash(initialUrl),LocationMode=LocationHashbangUrl;$location=new LocationMode(appBase,"#"+hashPrefix),$location.$$parseLinkUrl(initialUrl,initialUrl),$location.$$state=$browser.state();var IGNORE_URI_REGEXP=/^\s*(javascript|mailto):/i;$rootElement.on("click",function(event){if(html5Mode.rewriteLinks&&!event.ctrlKey&&!event.metaKey&&!event.shiftKey&&2!=event.which&&2!=event.button){for(var elm=jqLite(event.target);"a"!==nodeName_(elm[0]);)if(elm[0]===$rootElement[0]||!(elm=elm.parent())[0])return;var absHref=elm.prop("href"),relHref=elm.attr("href")||elm.attr("xlink:href");isObject(absHref)&&"[object SVGAnimatedString]"===absHref.toString()&&(absHref=urlResolve(absHref.animVal).href),IGNORE_URI_REGEXP.test(absHref)||!absHref||elm.attr("target")||event.isDefaultPrevented()||$location.$$parseLinkUrl(absHref,relHref)&&(event.preventDefault(),$location.absUrl()!=$browser.url()&&($rootScope.$apply(),$window.angular["ff-684208-preventDefault"]=!0))}}),trimEmptyHash($location.absUrl())!=trimEmptyHash(initialUrl)&&$browser.url($location.absUrl(),!0);var initializing=!0;return $browser.onUrlChange(function(newUrl,newState){$rootScope.$evalAsync(function(){var defaultPrevented,oldUrl=$location.absUrl(),oldState=$location.$$state;$location.$$parse(newUrl),$location.$$state=newState,defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,newState,oldState).defaultPrevented,$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState,setBrowserUrlWithFallback(oldUrl,!1,oldState)):(initializing=!1,afterLocationChange(oldUrl,oldState)))}),$rootScope.$$phase||$rootScope.$digest()}),$rootScope.$watch(function(){var oldUrl=trimEmptyHash($browser.url()),newUrl=trimEmptyHash($location.absUrl()),oldState=$browser.state(),currentReplace=$location.$$replace,urlOrStateChanged=oldUrl!==newUrl||$location.$$html5&&$sniffer.history&&oldState!==$location.$$state;(initializing||urlOrStateChanged)&&(initializing=!1,$rootScope.$evalAsync(function(){var newUrl=$location.absUrl(),defaultPrevented=$rootScope.$broadcast("$locationChangeStart",newUrl,oldUrl,$location.$$state,oldState).defaultPrevented;$location.absUrl()===newUrl&&(defaultPrevented?($location.$$parse(oldUrl),$location.$$state=oldState):(urlOrStateChanged&&setBrowserUrlWithFallback(newUrl,currentReplace,oldState===$location.$$state?null:$location.$$state),afterLocationChange(oldUrl,oldState)))})),$location.$$replace=!1}),$location}]}function $LogProvider(){var debug=!0,self=this;this.debugEnabled=function(flag){return isDefined(flag)?(debug=flag,this):debug},this.$get=["$window",function($window){function formatError(arg){return arg instanceof Error&&(arg.stack?arg=arg.message&&-1===arg.stack.indexOf(arg.message)?"Error: "+arg.message+"\n"+arg.stack:arg.stack:arg.sourceURL&&(arg=arg.message+"\n"+arg.sourceURL+":"+arg.line)),arg}function consoleLog(type){var console=$window.console||{},logFn=console[type]||console.log||noop,hasApply=!1;try{hasApply=!!logFn.apply}catch(e){}return hasApply?function(){var args=[];return forEach(arguments,function(arg){args.push(formatError(arg))}),logFn.apply(console,args)}:function(arg1,arg2){logFn(arg1,null==arg2?"":arg2)}}return{log:consoleLog("log"),info:consoleLog("info"),warn:consoleLog("warn"),error:consoleLog("error"),debug:function(){var fn=consoleLog("debug");return function(){debug&&fn.apply(self,arguments)}}()}}]}function ensureSafeMemberName(name,fullExpression){if("__defineGetter__"===name||"__defineSetter__"===name||"__lookupGetter__"===name||"__lookupSetter__"===name||"__proto__"===name)throw $parseMinErr("isecfld","Attempting to access a disallowed field in Angular expressions! Expression: {0}",fullExpression);return name}function ensureSafeObject(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.window===obj)throw $parseMinErr("isecwindow","Referencing the Window in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj.children&&(obj.nodeName||obj.prop&&obj.attr&&obj.find))throw $parseMinErr("isecdom","Referencing DOM nodes in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===Object)throw $parseMinErr("isecobj","Referencing Object in Angular expressions is disallowed! Expression: {0}",fullExpression)}return obj}function ensureSafeFunction(obj,fullExpression){if(obj){if(obj.constructor===obj)throw $parseMinErr("isecfn","Referencing Function in Angular expressions is disallowed! Expression: {0}",fullExpression);if(obj===CALL||obj===APPLY||obj===BIND)throw $parseMinErr("isecff","Referencing call, apply or bind in Angular expressions is disallowed! Expression: {0}",fullExpression)}}function isConstant(exp){return exp.constant}function setter(obj,locals,path,setValue,fullExp){ensureSafeObject(obj,fullExp),ensureSafeObject(locals,fullExp);for(var key,element=path.split("."),i=0;element.length>1;i++){key=ensureSafeMemberName(element.shift(),fullExp);var propertyObj=0===i&&locals&&locals[key]||obj[key];propertyObj||(propertyObj={},obj[key]=propertyObj),obj=ensureSafeObject(propertyObj,fullExp)}return key=ensureSafeMemberName(element.shift(),fullExp),ensureSafeObject(obj[key],fullExp),obj[key]=setValue,setValue}function isPossiblyDangerousMemberName(name){return"constructor"==name}function cspSafeGetterFn(key0,key1,key2,key3,key4,fullExp,expensiveChecks){ensureSafeMemberName(key0,fullExp),ensureSafeMemberName(key1,fullExp),ensureSafeMemberName(key2,fullExp),ensureSafeMemberName(key3,fullExp),ensureSafeMemberName(key4,fullExp);var eso=function(o){return ensureSafeObject(o,fullExp)},eso0=expensiveChecks||isPossiblyDangerousMemberName(key0)?eso:identity,eso1=expensiveChecks||isPossiblyDangerousMemberName(key1)?eso:identity,eso2=expensiveChecks||isPossiblyDangerousMemberName(key2)?eso:identity,eso3=expensiveChecks||isPossiblyDangerousMemberName(key3)?eso:identity,eso4=expensiveChecks||isPossiblyDangerousMemberName(key4)?eso:identity;return function(scope,locals){var pathVal=locals&&locals.hasOwnProperty(key0)?locals:scope;return null==pathVal?pathVal:(pathVal=eso0(pathVal[key0]),key1?null==pathVal?undefined:(pathVal=eso1(pathVal[key1]),key2?null==pathVal?undefined:(pathVal=eso2(pathVal[key2]),key3?null==pathVal?undefined:(pathVal=eso3(pathVal[key3]),key4?null==pathVal?undefined:pathVal=eso4(pathVal[key4]):pathVal):pathVal):pathVal):pathVal)}}function getterFnWithEnsureSafeObject(fn,fullExpression){return function(s,l){return fn(s,l,ensureSafeObject,fullExpression)}}function getterFn(path,options,fullExp){var expensiveChecks=options.expensiveChecks,getterFnCache=expensiveChecks?getterFnCacheExpensive:getterFnCacheDefault,fn=getterFnCache[path];if(fn)return fn;var pathKeys=path.split("."),pathKeysLength=pathKeys.length;if(options.csp)fn=6>pathKeysLength?cspSafeGetterFn(pathKeys[0],pathKeys[1],pathKeys[2],pathKeys[3],pathKeys[4],fullExp,expensiveChecks):function(scope,locals){var val,i=0;do val=cspSafeGetterFn(pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],pathKeys[i++],fullExp,expensiveChecks)(scope,locals),locals=undefined,scope=val;while(pathKeysLength>i);return val};else{var code="";expensiveChecks&&(code+="s = eso(s, fe);\nl = eso(l, fe);\n");var needsEnsureSafeObject=expensiveChecks;forEach(pathKeys,function(key,index){ensureSafeMemberName(key,fullExp);var lookupJs=(index?"s":'((l&&l.hasOwnProperty("'+key+'"))?l:s)')+"."+key;(expensiveChecks||isPossiblyDangerousMemberName(key))&&(lookupJs="eso("+lookupJs+", fe)",needsEnsureSafeObject=!0),code+="if(s == null) return undefined;\ns="+lookupJs+";\n"}),code+="return s;";var evaledFnGetter=new Function("s","l","eso","fe",code);evaledFnGetter.toString=valueFn(code),needsEnsureSafeObject&&(evaledFnGetter=getterFnWithEnsureSafeObject(evaledFnGetter,fullExp)),fn=evaledFnGetter}return fn.sharedGetter=!0,fn.assign=function(self,value,locals){return setter(self,locals,path,value,path)},getterFnCache[path]=fn,fn}function getValueOf(value){return isFunction(value.valueOf)?value.valueOf():objectValueOf.call(value)}function $ParseProvider(){var cacheDefault=createMap(),cacheExpensive=createMap();this.$get=["$filter","$sniffer",function($filter,$sniffer){function wrapSharedExpression(exp){var wrapped=exp;return exp.sharedGetter&&(wrapped=function(self,locals){return exp(self,locals)},wrapped.literal=exp.literal,wrapped.constant=exp.constant,wrapped.assign=exp.assign),wrapped}function collectExpressionInputs(inputs,list){for(var i=0,ii=inputs.length;ii>i;i++){var input=inputs[i];input.constant||(input.inputs?collectExpressionInputs(input.inputs,list):-1===list.indexOf(input)&&list.push(input))}return list}function expressionInputDirtyCheck(newValue,oldValueOfValue){return null==newValue||null==oldValueOfValue?newValue===oldValueOfValue:"object"==typeof newValue&&(newValue=getValueOf(newValue),"object"==typeof newValue)?!1:newValue===oldValueOfValue||newValue!==newValue&&oldValueOfValue!==oldValueOfValue}function inputsWatchDelegate(scope,listener,objectEquality,parsedExpression){var lastResult,inputExpressions=parsedExpression.$$inputs||(parsedExpression.$$inputs=collectExpressionInputs(parsedExpression.inputs,[]));if(1===inputExpressions.length){var oldInputValue=expressionInputDirtyCheck;return inputExpressions=inputExpressions[0],scope.$watch(function(scope){var newInputValue=inputExpressions(scope);return expressionInputDirtyCheck(newInputValue,oldInputValue)||(lastResult=parsedExpression(scope),oldInputValue=newInputValue&&getValueOf(newInputValue)),lastResult},listener,objectEquality)}for(var oldInputValueOfValues=[],i=0,ii=inputExpressions.length;ii>i;i++)oldInputValueOfValues[i]=expressionInputDirtyCheck;return scope.$watch(function(scope){for(var changed=!1,i=0,ii=inputExpressions.length;ii>i;i++){var newInputValue=inputExpressions[i](scope);(changed||(changed=!expressionInputDirtyCheck(newInputValue,oldInputValueOfValues[i])))&&(oldInputValueOfValues[i]=newInputValue&&getValueOf(newInputValue))}return changed&&(lastResult=parsedExpression(scope)),lastResult},listener,objectEquality)}function oneTimeWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.apply(this,arguments),isDefined(value)&&scope.$$postDigest(function(){isDefined(lastValue)&&unwatch()})},objectEquality)}function oneTimeLiteralWatchDelegate(scope,listener,objectEquality,parsedExpression){function isAllDefined(value){var allDefined=!0;return forEach(value,function(val){isDefined(val)||(allDefined=!1)}),allDefined}var unwatch,lastValue;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(value,old,scope){lastValue=value,isFunction(listener)&&listener.call(this,value,old,scope),isAllDefined(value)&&scope.$$postDigest(function(){isAllDefined(lastValue)&&unwatch()})},objectEquality)}function constantWatchDelegate(scope,listener,objectEquality,parsedExpression){var unwatch;return unwatch=scope.$watch(function(scope){return parsedExpression(scope)},function(){isFunction(listener)&&listener.apply(this,arguments),unwatch()},objectEquality)}function addInterceptor(parsedExpression,interceptorFn){if(!interceptorFn)return parsedExpression;var watchDelegate=parsedExpression.$$watchDelegate,regularWatch=watchDelegate!==oneTimeLiteralWatchDelegate&&watchDelegate!==oneTimeWatchDelegate,fn=regularWatch?function(scope,locals){var value=parsedExpression(scope,locals);return interceptorFn(value,scope,locals)}:function(scope,locals){var value=parsedExpression(scope,locals),result=interceptorFn(value,scope,locals);return isDefined(value)?result:value};return parsedExpression.$$watchDelegate&&parsedExpression.$$watchDelegate!==inputsWatchDelegate?fn.$$watchDelegate=parsedExpression.$$watchDelegate:interceptorFn.$stateful||(fn.$$watchDelegate=inputsWatchDelegate,fn.inputs=[parsedExpression]),fn}var $parseOptions={csp:$sniffer.csp,expensiveChecks:!1},$parseOptionsExpensive={csp:$sniffer.csp,expensiveChecks:!0};return function(exp,interceptorFn,expensiveChecks){var parsedExpression,oneTime,cacheKey;switch(typeof exp){case"string":cacheKey=exp=exp.trim();var cache=expensiveChecks?cacheExpensive:cacheDefault;if(parsedExpression=cache[cacheKey],!parsedExpression){":"===exp.charAt(0)&&":"===exp.charAt(1)&&(oneTime=!0,exp=exp.substring(2));var parseOptions=expensiveChecks?$parseOptionsExpensive:$parseOptions,lexer=new Lexer(parseOptions),parser=new Parser(lexer,$filter,parseOptions);parsedExpression=parser.parse(exp),parsedExpression.constant?parsedExpression.$$watchDelegate=constantWatchDelegate:oneTime?(parsedExpression=wrapSharedExpression(parsedExpression),parsedExpression.$$watchDelegate=parsedExpression.literal?oneTimeLiteralWatchDelegate:oneTimeWatchDelegate):parsedExpression.inputs&&(parsedExpression.$$watchDelegate=inputsWatchDelegate),cache[cacheKey]=parsedExpression}return addInterceptor(parsedExpression,interceptorFn);case"function":return addInterceptor(exp,interceptorFn);default:return addInterceptor(noop,interceptorFn)}}}]}function $QProvider(){this.$get=["$rootScope","$exceptionHandler",function($rootScope,$exceptionHandler){return qFactory(function(callback){$rootScope.$evalAsync(callback)},$exceptionHandler)}]}function $$QProvider(){this.$get=["$browser","$exceptionHandler",function($browser,$exceptionHandler){return qFactory(function(callback){$browser.defer(callback)},$exceptionHandler)}]}function qFactory(nextTick,exceptionHandler){function callOnce(self,resolveFn,rejectFn){function wrap(fn){return function(value){called||(called=!0,fn.call(self,value))}}var called=!1;return[wrap(resolveFn),wrap(rejectFn)]}function Promise(){this.$$state={status:0}}function simpleBind(context,fn){return function(value){fn.call(context,value)}}function processQueue(state){var fn,promise,pending;pending=state.pending,state.processScheduled=!1,state.pending=undefined;for(var i=0,ii=pending.length;ii>i;++i){promise=pending[i][0],fn=pending[i][state.status];try{isFunction(fn)?promise.resolve(fn(state.value)):1===state.status?promise.resolve(state.value):promise.reject(state.value)}catch(e){promise.reject(e),exceptionHandler(e)}}}function scheduleProcessQueue(state){!state.processScheduled&&state.pending&&(state.processScheduled=!0,nextTick(function(){processQueue(state)}))}function Deferred(){this.promise=new Promise,this.resolve=simpleBind(this,this.resolve),this.reject=simpleBind(this,this.reject),this.notify=simpleBind(this,this.notify)}function all(promises){var deferred=new Deferred,counter=0,results=isArray(promises)?[]:{};return forEach(promises,function(promise,key){counter++,when(promise).then(function(value){results.hasOwnProperty(key)||(results[key]=value,--counter||deferred.resolve(results))},function(reason){results.hasOwnProperty(key)||deferred.reject(reason)})}),0===counter&&deferred.resolve(results),deferred.promise}var $qMinErr=minErr("$q",TypeError),defer=function(){return new Deferred};Promise.prototype={then:function(onFulfilled,onRejected,progressBack){var result=new Deferred;return this.$$state.pending=this.$$state.pending||[],this.$$state.pending.push([result,onFulfilled,onRejected,progressBack]),this.$$state.status>0&&scheduleProcessQueue(this.$$state),result.promise},"catch":function(callback){return this.then(null,callback)},"finally":function(callback,progressBack){return this.then(function(value){return handleCallback(value,!0,callback)},function(error){return handleCallback(error,!1,callback)},progressBack)}},Deferred.prototype={resolve:function(val){this.promise.$$state.status||(val===this.promise?this.$$reject($qMinErr("qcycle","Expected promise to be resolved with value other than itself '{0}'",val)):this.$$resolve(val))},$$resolve:function(val){var then,fns;fns=callOnce(this,this.$$resolve,this.$$reject);try{(isObject(val)||isFunction(val))&&(then=val&&val.then),isFunction(then)?(this.promise.$$state.status=-1,then.call(val,fns[0],fns[1],this.notify)):(this.promise.$$state.value=val,this.promise.$$state.status=1,scheduleProcessQueue(this.promise.$$state))}catch(e){fns[1](e),exceptionHandler(e)}},reject:function(reason){this.promise.$$state.status||this.$$reject(reason)},$$reject:function(reason){this.promise.$$state.value=reason,this.promise.$$state.status=2,scheduleProcessQueue(this.promise.$$state)},notify:function(progress){var callbacks=this.promise.$$state.pending;this.promise.$$state.status<=0&&callbacks&&callbacks.length&&nextTick(function(){for(var callback,result,i=0,ii=callbacks.length;ii>i;i++){result=callbacks[i][0],callback=callbacks[i][3];try{result.notify(isFunction(callback)?callback(progress):progress)}catch(e){exceptionHandler(e)}}})}};var reject=function(reason){var result=new Deferred;return result.reject(reason),result.promise},makePromise=function(value,resolved){var result=new Deferred;return resolved?result.resolve(value):result.reject(value),result.promise},handleCallback=function(value,isResolved,callback){var callbackOutput=null;
try{isFunction(callback)&&(callbackOutput=callback())}catch(e){return makePromise(e,!1)}return isPromiseLike(callbackOutput)?callbackOutput.then(function(){return makePromise(value,isResolved)},function(error){return makePromise(error,!1)}):makePromise(value,isResolved)},when=function(value,callback,errback,progressBack){var result=new Deferred;return result.resolve(value),result.promise.then(callback,errback,progressBack)},$Q=function Q(resolver){function resolveFn(value){deferred.resolve(value)}function rejectFn(reason){deferred.reject(reason)}if(!isFunction(resolver))throw $qMinErr("norslvr","Expected resolverFn, got '{0}'",resolver);if(!(this instanceof Q))return new Q(resolver);var deferred=new Deferred;return resolver(resolveFn,rejectFn),deferred.promise};return $Q.defer=defer,$Q.reject=reject,$Q.when=when,$Q.all=all,$Q}function $$RAFProvider(){this.$get=["$window","$timeout",function($window,$timeout){var requestAnimationFrame=$window.requestAnimationFrame||$window.webkitRequestAnimationFrame,cancelAnimationFrame=$window.cancelAnimationFrame||$window.webkitCancelAnimationFrame||$window.webkitCancelRequestAnimationFrame,rafSupported=!!requestAnimationFrame,raf=rafSupported?function(fn){var id=requestAnimationFrame(fn);return function(){cancelAnimationFrame(id)}}:function(fn){var timer=$timeout(fn,16.66,!1);return function(){$timeout.cancel(timer)}};return raf.supported=rafSupported,raf}]}function $RootScopeProvider(){var TTL=10,$rootScopeMinErr=minErr("$rootScope"),lastDirtyWatch=null,applyAsyncId=null;this.digestTtl=function(value){return arguments.length&&(TTL=value),TTL},this.$get=["$injector","$exceptionHandler","$parse","$browser",function($injector,$exceptionHandler,$parse,$browser){function Scope(){this.$id=nextUid(),this.$$phase=this.$parent=this.$$watchers=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=null,this.$root=this,this.$$destroyed=!1,this.$$listeners={},this.$$listenerCount={},this.$$isolateBindings=null}function beginPhase(phase){if($rootScope.$$phase)throw $rootScopeMinErr("inprog","{0} already in progress",$rootScope.$$phase);$rootScope.$$phase=phase}function clearPhase(){$rootScope.$$phase=null}function decrementListenerCount(current,count,name){do current.$$listenerCount[name]-=count,0===current.$$listenerCount[name]&&delete current.$$listenerCount[name];while(current=current.$parent)}function initWatchVal(){}function flushApplyAsync(){for(;applyAsyncQueue.length;)try{applyAsyncQueue.shift()()}catch(e){$exceptionHandler(e)}applyAsyncId=null}function scheduleApplyAsync(){null===applyAsyncId&&(applyAsyncId=$browser.defer(function(){$rootScope.$apply(flushApplyAsync)}))}Scope.prototype={constructor:Scope,$new:function(isolate,parent){function destroyChild(){child.$$destroyed=!0}var child;return parent=parent||this,isolate?(child=new Scope,child.$root=this.$root):(this.$$ChildScope||(this.$$ChildScope=function(){this.$$watchers=this.$$nextSibling=this.$$childHead=this.$$childTail=null,this.$$listeners={},this.$$listenerCount={},this.$id=nextUid(),this.$$ChildScope=null},this.$$ChildScope.prototype=this),child=new this.$$ChildScope),child.$parent=parent,child.$$prevSibling=parent.$$childTail,parent.$$childHead?(parent.$$childTail.$$nextSibling=child,parent.$$childTail=child):parent.$$childHead=parent.$$childTail=child,(isolate||parent!=this)&&child.$on("$destroy",destroyChild),child},$watch:function(watchExp,listener,objectEquality){var get=$parse(watchExp);if(get.$$watchDelegate)return get.$$watchDelegate(this,listener,objectEquality,get);var scope=this,array=scope.$$watchers,watcher={fn:listener,last:initWatchVal,get:get,exp:watchExp,eq:!!objectEquality};return lastDirtyWatch=null,isFunction(listener)||(watcher.fn=noop),array||(array=scope.$$watchers=[]),array.unshift(watcher),function(){arrayRemove(array,watcher),lastDirtyWatch=null}},$watchGroup:function(watchExpressions,listener){function watchGroupAction(){changeReactionScheduled=!1,firstRun?(firstRun=!1,listener(newValues,newValues,self)):listener(newValues,oldValues,self)}var oldValues=new Array(watchExpressions.length),newValues=new Array(watchExpressions.length),deregisterFns=[],self=this,changeReactionScheduled=!1,firstRun=!0;if(!watchExpressions.length){var shouldCall=!0;return self.$evalAsync(function(){shouldCall&&listener(newValues,newValues,self)}),function(){shouldCall=!1}}return 1===watchExpressions.length?this.$watch(watchExpressions[0],function(value,oldValue,scope){newValues[0]=value,oldValues[0]=oldValue,listener(newValues,value===oldValue?newValues:oldValues,scope)}):(forEach(watchExpressions,function(expr,i){var unwatchFn=self.$watch(expr,function(value,oldValue){newValues[i]=value,oldValues[i]=oldValue,changeReactionScheduled||(changeReactionScheduled=!0,self.$evalAsync(watchGroupAction))});deregisterFns.push(unwatchFn)}),function(){for(;deregisterFns.length;)deregisterFns.shift()()})},$watchCollection:function(obj,listener){function $watchCollectionInterceptor(_value){newValue=_value;var newLength,key,bothNaN,newItem,oldItem;if(!isUndefined(newValue)){if(isObject(newValue))if(isArrayLike(newValue)){oldValue!==internalArray&&(oldValue=internalArray,oldLength=oldValue.length=0,changeDetected++),newLength=newValue.length,oldLength!==newLength&&(changeDetected++,oldValue.length=oldLength=newLength);for(var i=0;newLength>i;i++)oldItem=oldValue[i],newItem=newValue[i],bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[i]=newItem)}else{oldValue!==internalObject&&(oldValue=internalObject={},oldLength=0,changeDetected++),newLength=0;for(key in newValue)newValue.hasOwnProperty(key)&&(newLength++,newItem=newValue[key],oldItem=oldValue[key],key in oldValue?(bothNaN=oldItem!==oldItem&&newItem!==newItem,bothNaN||oldItem===newItem||(changeDetected++,oldValue[key]=newItem)):(oldLength++,oldValue[key]=newItem,changeDetected++));if(oldLength>newLength){changeDetected++;for(key in oldValue)newValue.hasOwnProperty(key)||(oldLength--,delete oldValue[key])}}else oldValue!==newValue&&(oldValue=newValue,changeDetected++);return changeDetected}}function $watchCollectionAction(){if(initRun?(initRun=!1,listener(newValue,newValue,self)):listener(newValue,veryOldValue,self),trackVeryOldValue)if(isObject(newValue))if(isArrayLike(newValue)){veryOldValue=new Array(newValue.length);for(var i=0;i<newValue.length;i++)veryOldValue[i]=newValue[i]}else{veryOldValue={};for(var key in newValue)hasOwnProperty.call(newValue,key)&&(veryOldValue[key]=newValue[key])}else veryOldValue=newValue}$watchCollectionInterceptor.$stateful=!0;var newValue,oldValue,veryOldValue,self=this,trackVeryOldValue=listener.length>1,changeDetected=0,changeDetector=$parse(obj,$watchCollectionInterceptor),internalArray=[],internalObject={},initRun=!0,oldLength=0;return this.$watch(changeDetector,$watchCollectionAction)},$digest:function(){var watch,value,last,watchers,length,dirty,next,current,logIdx,asyncTask,ttl=TTL,target=this,watchLog=[];beginPhase("$digest"),$browser.$$checkUrlChange(),this===$rootScope&&null!==applyAsyncId&&($browser.defer.cancel(applyAsyncId),flushApplyAsync()),lastDirtyWatch=null;do{for(dirty=!1,current=target;asyncQueue.length;){try{asyncTask=asyncQueue.shift(),asyncTask.scope.$eval(asyncTask.expression,asyncTask.locals)}catch(e){$exceptionHandler(e)}lastDirtyWatch=null}traverseScopesLoop:do{if(watchers=current.$$watchers)for(length=watchers.length;length--;)try{if(watch=watchers[length])if((value=watch.get(current))===(last=watch.last)||(watch.eq?equals(value,last):"number"==typeof value&&"number"==typeof last&&isNaN(value)&&isNaN(last))){if(watch===lastDirtyWatch){dirty=!1;break traverseScopesLoop}}else dirty=!0,lastDirtyWatch=watch,watch.last=watch.eq?copy(value,null):value,watch.fn(value,last===initWatchVal?value:last,current),5>ttl&&(logIdx=4-ttl,watchLog[logIdx]||(watchLog[logIdx]=[]),watchLog[logIdx].push({msg:isFunction(watch.exp)?"fn: "+(watch.exp.name||watch.exp.toString()):watch.exp,newVal:value,oldVal:last}))}catch(e){$exceptionHandler(e)}if(!(next=current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}while(current=next);if((dirty||asyncQueue.length)&&!ttl--)throw clearPhase(),$rootScopeMinErr("infdig","{0} $digest() iterations reached. Aborting!\nWatchers fired in the last 5 iterations: {1}",TTL,watchLog)}while(dirty||asyncQueue.length);for(clearPhase();postDigestQueue.length;)try{postDigestQueue.shift()()}catch(e){$exceptionHandler(e)}},$destroy:function(){if(!this.$$destroyed){var parent=this.$parent;if(this.$broadcast("$destroy"),this.$$destroyed=!0,this!==$rootScope){for(var eventName in this.$$listenerCount)decrementListenerCount(this,this.$$listenerCount[eventName],eventName);parent.$$childHead==this&&(parent.$$childHead=this.$$nextSibling),parent.$$childTail==this&&(parent.$$childTail=this.$$prevSibling),this.$$prevSibling&&(this.$$prevSibling.$$nextSibling=this.$$nextSibling),this.$$nextSibling&&(this.$$nextSibling.$$prevSibling=this.$$prevSibling),this.$destroy=this.$digest=this.$apply=this.$evalAsync=this.$applyAsync=noop,this.$on=this.$watch=this.$watchGroup=function(){return noop},this.$$listeners={},this.$parent=this.$$nextSibling=this.$$prevSibling=this.$$childHead=this.$$childTail=this.$root=this.$$watchers=null}}},$eval:function(expr,locals){return $parse(expr)(this,locals)},$evalAsync:function(expr,locals){$rootScope.$$phase||asyncQueue.length||$browser.defer(function(){asyncQueue.length&&$rootScope.$digest()}),asyncQueue.push({scope:this,expression:expr,locals:locals})},$$postDigest:function(fn){postDigestQueue.push(fn)},$apply:function(expr){try{return beginPhase("$apply"),this.$eval(expr)}catch(e){$exceptionHandler(e)}finally{clearPhase();try{$rootScope.$digest()}catch(e){throw $exceptionHandler(e),e}}},$applyAsync:function(expr){function $applyAsyncExpression(){scope.$eval(expr)}var scope=this;expr&&applyAsyncQueue.push($applyAsyncExpression),scheduleApplyAsync()},$on:function(name,listener){var namedListeners=this.$$listeners[name];namedListeners||(this.$$listeners[name]=namedListeners=[]),namedListeners.push(listener);var current=this;do current.$$listenerCount[name]||(current.$$listenerCount[name]=0),current.$$listenerCount[name]++;while(current=current.$parent);var self=this;return function(){var indexOfListener=namedListeners.indexOf(listener);-1!==indexOfListener&&(namedListeners[indexOfListener]=null,decrementListenerCount(self,1,name))}},$emit:function(name){var namedListeners,i,length,empty=[],scope=this,stopPropagation=!1,event={name:name,targetScope:scope,stopPropagation:function(){stopPropagation=!0},preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1},listenerArgs=concat([event],arguments,1);do{for(namedListeners=scope.$$listeners[name]||empty,event.currentScope=scope,i=0,length=namedListeners.length;length>i;i++)if(namedListeners[i])try{namedListeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else namedListeners.splice(i,1),i--,length--;if(stopPropagation)return event.currentScope=null,event;scope=scope.$parent}while(scope);return event.currentScope=null,event},$broadcast:function(name){var target=this,current=target,next=target,event={name:name,targetScope:target,preventDefault:function(){event.defaultPrevented=!0},defaultPrevented:!1};if(!target.$$listenerCount[name])return event;for(var listeners,i,length,listenerArgs=concat([event],arguments,1);current=next;){for(event.currentScope=current,listeners=current.$$listeners[name]||[],i=0,length=listeners.length;length>i;i++)if(listeners[i])try{listeners[i].apply(null,listenerArgs)}catch(e){$exceptionHandler(e)}else listeners.splice(i,1),i--,length--;if(!(next=current.$$listenerCount[name]&&current.$$childHead||current!==target&&current.$$nextSibling))for(;current!==target&&!(next=current.$$nextSibling);)current=current.$parent}return event.currentScope=null,event}};var $rootScope=new Scope,asyncQueue=$rootScope.$$asyncQueue=[],postDigestQueue=$rootScope.$$postDigestQueue=[],applyAsyncQueue=$rootScope.$$applyAsyncQueue=[];return $rootScope}]}function $$SanitizeUriProvider(){var aHrefSanitizationWhitelist=/^\s*(https?|ftp|mailto|tel|file):/,imgSrcSanitizationWhitelist=/^\s*((https?|ftp|file|blob):|data:image\/)/;this.aHrefSanitizationWhitelist=function(regexp){return isDefined(regexp)?(aHrefSanitizationWhitelist=regexp,this):aHrefSanitizationWhitelist},this.imgSrcSanitizationWhitelist=function(regexp){return isDefined(regexp)?(imgSrcSanitizationWhitelist=regexp,this):imgSrcSanitizationWhitelist},this.$get=function(){return function(uri,isImage){var normalizedVal,regex=isImage?imgSrcSanitizationWhitelist:aHrefSanitizationWhitelist;return normalizedVal=urlResolve(uri).href,""===normalizedVal||normalizedVal.match(regex)?uri:"unsafe:"+normalizedVal}}}function adjustMatcher(matcher){if("self"===matcher)return matcher;if(isString(matcher)){if(matcher.indexOf("***")>-1)throw $sceMinErr("iwcard","Illegal sequence *** in string matcher.  String: {0}",matcher);return matcher=escapeForRegexp(matcher).replace("\\*\\*",".*").replace("\\*","[^:/.?&;]*"),new RegExp("^"+matcher+"$")}if(isRegExp(matcher))return new RegExp("^"+matcher.source+"$");throw $sceMinErr("imatcher",'Matchers may only be "self", string patterns or RegExp objects')}function adjustMatchers(matchers){var adjustedMatchers=[];return isDefined(matchers)&&forEach(matchers,function(matcher){adjustedMatchers.push(adjustMatcher(matcher))}),adjustedMatchers}function $SceDelegateProvider(){this.SCE_CONTEXTS=SCE_CONTEXTS;var resourceUrlWhitelist=["self"],resourceUrlBlacklist=[];this.resourceUrlWhitelist=function(value){return arguments.length&&(resourceUrlWhitelist=adjustMatchers(value)),resourceUrlWhitelist},this.resourceUrlBlacklist=function(value){return arguments.length&&(resourceUrlBlacklist=adjustMatchers(value)),resourceUrlBlacklist},this.$get=["$injector",function($injector){function matchUrl(matcher,parsedUrl){return"self"===matcher?urlIsSameOrigin(parsedUrl):!!matcher.exec(parsedUrl.href)}function isResourceUrlAllowedByPolicy(url){var i,n,parsedUrl=urlResolve(url.toString()),allowed=!1;for(i=0,n=resourceUrlWhitelist.length;n>i;i++)if(matchUrl(resourceUrlWhitelist[i],parsedUrl)){allowed=!0;break}if(allowed)for(i=0,n=resourceUrlBlacklist.length;n>i;i++)if(matchUrl(resourceUrlBlacklist[i],parsedUrl)){allowed=!1;break}return allowed}function generateHolderType(Base){var holderType=function(trustedValue){this.$$unwrapTrustedValue=function(){return trustedValue}};return Base&&(holderType.prototype=new Base),holderType.prototype.valueOf=function(){return this.$$unwrapTrustedValue()},holderType.prototype.toString=function(){return this.$$unwrapTrustedValue().toString()},holderType}function trustAs(type,trustedValue){var Constructor=byType.hasOwnProperty(type)?byType[type]:null;if(!Constructor)throw $sceMinErr("icontext","Attempted to trust a value in invalid context. Context: {0}; Value: {1}",type,trustedValue);if(null===trustedValue||trustedValue===undefined||""===trustedValue)return trustedValue;if("string"!=typeof trustedValue)throw $sceMinErr("itype","Attempted to trust a non-string value in a content requiring a string: Context: {0}",type);return new Constructor(trustedValue)}function valueOf(maybeTrusted){return maybeTrusted instanceof trustedValueHolderBase?maybeTrusted.$$unwrapTrustedValue():maybeTrusted}function getTrusted(type,maybeTrusted){if(null===maybeTrusted||maybeTrusted===undefined||""===maybeTrusted)return maybeTrusted;var constructor=byType.hasOwnProperty(type)?byType[type]:null;if(constructor&&maybeTrusted instanceof constructor)return maybeTrusted.$$unwrapTrustedValue();if(type===SCE_CONTEXTS.RESOURCE_URL){if(isResourceUrlAllowedByPolicy(maybeTrusted))return maybeTrusted;throw $sceMinErr("insecurl","Blocked loading resource from url not allowed by $sceDelegate policy.  URL: {0}",maybeTrusted.toString())}if(type===SCE_CONTEXTS.HTML)return htmlSanitizer(maybeTrusted);throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")}var htmlSanitizer=function(){throw $sceMinErr("unsafe","Attempting to use an unsafe value in a safe context.")};$injector.has("$sanitize")&&(htmlSanitizer=$injector.get("$sanitize"));var trustedValueHolderBase=generateHolderType(),byType={};return byType[SCE_CONTEXTS.HTML]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.CSS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.URL]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.JS]=generateHolderType(trustedValueHolderBase),byType[SCE_CONTEXTS.RESOURCE_URL]=generateHolderType(byType[SCE_CONTEXTS.URL]),{trustAs:trustAs,getTrusted:getTrusted,valueOf:valueOf}}]}function $SceProvider(){var enabled=!0;this.enabled=function(value){return arguments.length&&(enabled=!!value),enabled},this.$get=["$parse","$sceDelegate",function($parse,$sceDelegate){if(enabled&&8>msie)throw $sceMinErr("iequirks","Strict Contextual Escaping does not support Internet Explorer version < 11 in quirks mode.  You can fix this by adding the text <!doctype html> to the top of your HTML document.  See http://docs.angularjs.org/api/ng.$sce for more information.");var sce=shallowCopy(SCE_CONTEXTS);sce.isEnabled=function(){return enabled},sce.trustAs=$sceDelegate.trustAs,sce.getTrusted=$sceDelegate.getTrusted,sce.valueOf=$sceDelegate.valueOf,enabled||(sce.trustAs=sce.getTrusted=function(type,value){return value},sce.valueOf=identity),sce.parseAs=function(type,expr){var parsed=$parse(expr);return parsed.literal&&parsed.constant?parsed:$parse(expr,function(value){return sce.getTrusted(type,value)})};var parse=sce.parseAs,getTrusted=sce.getTrusted,trustAs=sce.trustAs;return forEach(SCE_CONTEXTS,function(enumValue,name){var lName=lowercase(name);sce[camelCase("parse_as_"+lName)]=function(expr){return parse(enumValue,expr)},sce[camelCase("get_trusted_"+lName)]=function(value){return getTrusted(enumValue,value)},sce[camelCase("trust_as_"+lName)]=function(value){return trustAs(enumValue,value)}}),sce}]}function $SnifferProvider(){this.$get=["$window","$document",function($window,$document){var vendorPrefix,match,eventSupport={},android=int((/android (\d+)/.exec(lowercase(($window.navigator||{}).userAgent))||[])[1]),boxee=/Boxee/i.test(($window.navigator||{}).userAgent),document=$document[0]||{},vendorRegex=/^(Moz|webkit|ms)(?=[A-Z])/,bodyStyle=document.body&&document.body.style,transitions=!1,animations=!1;if(bodyStyle){for(var prop in bodyStyle)if(match=vendorRegex.exec(prop)){vendorPrefix=match[0],vendorPrefix=vendorPrefix.substr(0,1).toUpperCase()+vendorPrefix.substr(1);break}vendorPrefix||(vendorPrefix="WebkitOpacity"in bodyStyle&&"webkit"),transitions=!!("transition"in bodyStyle||vendorPrefix+"Transition"in bodyStyle),animations=!!("animation"in bodyStyle||vendorPrefix+"Animation"in bodyStyle),!android||transitions&&animations||(transitions=isString(document.body.style.webkitTransition),animations=isString(document.body.style.webkitAnimation))}return{history:!(!$window.history||!$window.history.pushState||4>android||boxee),hasEvent:function(event){if("input"===event&&11>=msie)return!1;if(isUndefined(eventSupport[event])){var divElm=document.createElement("div");eventSupport[event]="on"+event in divElm}return eventSupport[event]},csp:csp(),vendorPrefix:vendorPrefix,transitions:transitions,animations:animations,android:android}}]}function $TemplateRequestProvider(){this.$get=["$templateCache","$http","$q",function($templateCache,$http,$q){function handleRequestFn(tpl,ignoreRequestError){function handleError(resp){if(!ignoreRequestError)throw $compileMinErr("tpload","Failed to load template: {0}",tpl);return $q.reject(resp)}handleRequestFn.totalPendingRequests++;var transformResponse=$http.defaults&&$http.defaults.transformResponse;isArray(transformResponse)?transformResponse=transformResponse.filter(function(transformer){return transformer!==defaultHttpResponseTransform}):transformResponse===defaultHttpResponseTransform&&(transformResponse=null);var httpOptions={cache:$templateCache,transformResponse:transformResponse};return $http.get(tpl,httpOptions)["finally"](function(){handleRequestFn.totalPendingRequests--}).then(function(response){return response.data},handleError)}return handleRequestFn.totalPendingRequests=0,handleRequestFn}]}function $$TestabilityProvider(){this.$get=["$rootScope","$browser","$location",function($rootScope,$browser,$location){var testability={};return testability.findBindings=function(element,expression,opt_exactMatch){var bindings=element.getElementsByClassName("ng-binding"),matches=[];return forEach(bindings,function(binding){var dataBinding=angular.element(binding).data("$binding");dataBinding&&forEach(dataBinding,function(bindingName){if(opt_exactMatch){var matcher=new RegExp("(^|\\s)"+escapeForRegexp(expression)+"(\\s|\\||$)");matcher.test(bindingName)&&matches.push(binding)}else-1!=bindingName.indexOf(expression)&&matches.push(binding)})}),matches},testability.findModels=function(element,expression,opt_exactMatch){for(var prefixes=["ng-","data-ng-","ng\\:"],p=0;p<prefixes.length;++p){var attributeEquals=opt_exactMatch?"=":"*=",selector="["+prefixes[p]+"model"+attributeEquals+'"'+expression+'"]',elements=element.querySelectorAll(selector);if(elements.length)return elements}},testability.getLocation=function(){return $location.url()},testability.setLocation=function(url){url!==$location.url()&&($location.url(url),$rootScope.$digest())},testability.whenStable=function(callback){$browser.notifyWhenNoOutstandingRequests(callback)},testability}]}function $TimeoutProvider(){this.$get=["$rootScope","$browser","$q","$$q","$exceptionHandler",function($rootScope,$browser,$q,$$q,$exceptionHandler){function timeout(fn,delay,invokeApply){var timeoutId,skipApply=isDefined(invokeApply)&&!invokeApply,deferred=(skipApply?$$q:$q).defer(),promise=deferred.promise;return timeoutId=$browser.defer(function(){try{deferred.resolve(fn())}catch(e){deferred.reject(e),$exceptionHandler(e)}finally{delete deferreds[promise.$$timeoutId]}skipApply||$rootScope.$apply()},delay),promise.$$timeoutId=timeoutId,deferreds[timeoutId]=deferred,promise}var deferreds={};return timeout.cancel=function(promise){return promise&&promise.$$timeoutId in deferreds?(deferreds[promise.$$timeoutId].reject("canceled"),delete deferreds[promise.$$timeoutId],$browser.defer.cancel(promise.$$timeoutId)):!1},timeout}]}function urlResolve(url){var href=url;return msie&&(urlParsingNode.setAttribute("href",href),href=urlParsingNode.href),urlParsingNode.setAttribute("href",href),{href:urlParsingNode.href,protocol:urlParsingNode.protocol?urlParsingNode.protocol.replace(/:$/,""):"",host:urlParsingNode.host,search:urlParsingNode.search?urlParsingNode.search.replace(/^\?/,""):"",hash:urlParsingNode.hash?urlParsingNode.hash.replace(/^#/,""):"",hostname:urlParsingNode.hostname,port:urlParsingNode.port,pathname:"/"===urlParsingNode.pathname.charAt(0)?urlParsingNode.pathname:"/"+urlParsingNode.pathname}}function urlIsSameOrigin(requestUrl){var parsed=isString(requestUrl)?urlResolve(requestUrl):requestUrl;return parsed.protocol===originUrl.protocol&&parsed.host===originUrl.host}function $WindowProvider(){this.$get=valueFn(window)}function $FilterProvider($provide){function register(name,factory){if(isObject(name)){var filters={};return forEach(name,function(filter,key){filters[key]=register(key,filter)}),filters}return $provide.factory(name+suffix,factory)}var suffix="Filter";this.register=register,this.$get=["$injector",function($injector){return function(name){return $injector.get(name+suffix)}}],register("currency",currencyFilter),register("date",dateFilter),register("filter",filterFilter),register("json",jsonFilter),register("limitTo",limitToFilter),register("lowercase",lowercaseFilter),register("number",numberFilter),register("orderBy",orderByFilter),register("uppercase",uppercaseFilter)}function filterFilter(){return function(array,expression,comparator){if(!isArray(array))return array;var predicateFn,matchAgainstAnyProp;switch(typeof expression){case"function":predicateFn=expression;break;case"boolean":case"number":case"string":matchAgainstAnyProp=!0;case"object":predicateFn=createPredicateFn(expression,comparator,matchAgainstAnyProp);break;default:return array}return array.filter(predicateFn)}}function createPredicateFn(expression,comparator,matchAgainstAnyProp){var predicateFn,shouldMatchPrimitives=isObject(expression)&&"$"in expression;return comparator===!0?comparator=equals:isFunction(comparator)||(comparator=function(actual,expected){return isObject(actual)||isObject(expected)?!1:(actual=lowercase(""+actual),expected=lowercase(""+expected),-1!==actual.indexOf(expected))}),predicateFn=function(item){return shouldMatchPrimitives&&!isObject(item)?deepCompare(item,expression.$,comparator,!1):deepCompare(item,expression,comparator,matchAgainstAnyProp)}}function deepCompare(actual,expected,comparator,matchAgainstAnyProp,dontMatchWholeObject){var actualType=typeof actual,expectedType=typeof expected;if("string"===expectedType&&"!"===expected.charAt(0))return!deepCompare(actual,expected.substring(1),comparator,matchAgainstAnyProp);if(isArray(actual))return actual.some(function(item){return deepCompare(item,expected,comparator,matchAgainstAnyProp)});switch(actualType){case"object":var key;if(matchAgainstAnyProp){for(key in actual)if("$"!==key.charAt(0)&&deepCompare(actual[key],expected,comparator,!0))return!0;return dontMatchWholeObject?!1:deepCompare(actual,expected,comparator,!1)}if("object"===expectedType){for(key in expected){var expectedVal=expected[key];if(!isFunction(expectedVal)){var matchAnyProperty="$"===key,actualVal=matchAnyProperty?actual:actual[key];if(!deepCompare(actualVal,expectedVal,comparator,matchAnyProperty,matchAnyProperty))return!1}}return!0}return comparator(actual,expected);case"function":return!1;default:return comparator(actual,expected)}}function currencyFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(amount,currencySymbol,fractionSize){return isUndefined(currencySymbol)&&(currencySymbol=formats.CURRENCY_SYM),isUndefined(fractionSize)&&(fractionSize=formats.PATTERNS[1].maxFrac),null==amount?amount:formatNumber(amount,formats.PATTERNS[1],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize).replace(/\u00A4/g,currencySymbol)}}function numberFilter($locale){var formats=$locale.NUMBER_FORMATS;return function(number,fractionSize){return null==number?number:formatNumber(number,formats.PATTERNS[0],formats.GROUP_SEP,formats.DECIMAL_SEP,fractionSize)}}function formatNumber(number,pattern,groupSep,decimalSep,fractionSize){if(!isFinite(number)||isObject(number))return"";var isNegative=0>number;number=Math.abs(number);var numStr=number+"",formatedText="",parts=[],hasExponent=!1;if(-1!==numStr.indexOf("e")){var match=numStr.match(/([\d\.]+)e(-?)(\d+)/);match&&"-"==match[2]&&match[3]>fractionSize+1?number=0:(formatedText=numStr,hasExponent=!0)}if(hasExponent)fractionSize>0&&1>number&&(formatedText=number.toFixed(fractionSize),number=parseFloat(formatedText));else{var fractionLen=(numStr.split(DECIMAL_SEP)[1]||"").length;isUndefined(fractionSize)&&(fractionSize=Math.min(Math.max(pattern.minFrac,fractionLen),pattern.maxFrac)),number=+(Math.round(+(number.toString()+"e"+fractionSize)).toString()+"e"+-fractionSize);var fraction=(""+number).split(DECIMAL_SEP),whole=fraction[0];fraction=fraction[1]||"";var i,pos=0,lgroup=pattern.lgSize,group=pattern.gSize;if(whole.length>=lgroup+group)for(pos=whole.length-lgroup,i=0;pos>i;i++)(pos-i)%group===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(i=pos;i<whole.length;i++)(whole.length-i)%lgroup===0&&0!==i&&(formatedText+=groupSep),formatedText+=whole.charAt(i);for(;fraction.length<fractionSize;)fraction+="0";fractionSize&&"0"!==fractionSize&&(formatedText+=decimalSep+fraction.substr(0,fractionSize))}return 0===number&&(isNegative=!1),parts.push(isNegative?pattern.negPre:pattern.posPre,formatedText,isNegative?pattern.negSuf:pattern.posSuf),parts.join("")}function padNumber(num,digits,trim){var neg="";for(0>num&&(neg="-",num=-num),num=""+num;num.length<digits;)num="0"+num;return trim&&(num=num.substr(num.length-digits)),neg+num}function dateGetter(name,size,offset,trim){return offset=offset||0,function(date){var value=date["get"+name]();return(offset>0||value>-offset)&&(value+=offset),0===value&&-12==offset&&(value=12),padNumber(value,size,trim)}}function dateStrGetter(name,shortForm){return function(date,formats){var value=date["get"+name](),get=uppercase(shortForm?"SHORT"+name:name);return formats[get][value]}}function timeZoneGetter(date){var zone=-1*date.getTimezoneOffset(),paddedZone=zone>=0?"+":"";return paddedZone+=padNumber(Math[zone>0?"floor":"ceil"](zone/60),2)+padNumber(Math.abs(zone%60),2)}function getFirstThursdayOfYear(year){var dayOfWeekOnFirst=new Date(year,0,1).getDay();return new Date(year,0,(4>=dayOfWeekOnFirst?5:12)-dayOfWeekOnFirst)}function getThursdayThisWeek(datetime){return new Date(datetime.getFullYear(),datetime.getMonth(),datetime.getDate()+(4-datetime.getDay()))}function weekGetter(size){return function(date){var firstThurs=getFirstThursdayOfYear(date.getFullYear()),thisThurs=getThursdayThisWeek(date),diff=+thisThurs-+firstThurs,result=1+Math.round(diff/6048e5);return padNumber(result,size)}}function ampmGetter(date,formats){return date.getHours()<12?formats.AMPMS[0]:formats.AMPMS[1]}function dateFilter($locale){function jsonStringToDate(string){var match;if(match=string.match(R_ISO8601_STR)){var date=new Date(0),tzHour=0,tzMin=0,dateSetter=match[8]?date.setUTCFullYear:date.setFullYear,timeSetter=match[8]?date.setUTCHours:date.setHours;match[9]&&(tzHour=int(match[9]+match[10]),tzMin=int(match[9]+match[11])),dateSetter.call(date,int(match[1]),int(match[2])-1,int(match[3]));var h=int(match[4]||0)-tzHour,m=int(match[5]||0)-tzMin,s=int(match[6]||0),ms=Math.round(1e3*parseFloat("0."+(match[7]||0)));return timeSetter.call(date,h,m,s,ms),date}return string}var R_ISO8601_STR=/^(\d{4})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/;return function(date,format,timezone){var fn,match,text="",parts=[];if(format=format||"mediumDate",format=$locale.DATETIME_FORMATS[format]||format,isString(date)&&(date=NUMBER_STRING.test(date)?int(date):jsonStringToDate(date)),isNumber(date)&&(date=new Date(date)),!isDate(date))return date;for(;format;)match=DATE_FORMATS_SPLIT.exec(format),match?(parts=concat(parts,match,1),format=parts.pop()):(parts.push(format),format=null);return timezone&&"UTC"===timezone&&(date=new Date(date.getTime()),date.setMinutes(date.getMinutes()+date.getTimezoneOffset())),forEach(parts,function(value){fn=DATE_FORMATS[value],text+=fn?fn(date,$locale.DATETIME_FORMATS):value.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),text}}function jsonFilter(){return function(object,spacing){return isUndefined(spacing)&&(spacing=2),toJson(object,spacing)}}function limitToFilter(){return function(input,limit){return isNumber(input)&&(input=input.toString()),isArray(input)||isString(input)?(limit=1/0===Math.abs(Number(limit))?Number(limit):int(limit),limit?limit>0?input.slice(0,limit):input.slice(limit):isString(input)?"":[]):input}}function orderByFilter($parse){return function(array,sortPredicate,reverseOrder){function comparator(o1,o2){for(var i=0;i<sortPredicate.length;i++){var comp=sortPredicate[i](o1,o2);if(0!==comp)return comp}return 0}function reverseComparator(comp,descending){return descending?function(a,b){return comp(b,a)}:comp}function isPrimitive(value){switch(typeof value){case"number":case"boolean":case"string":return!0;default:return!1}}function objectToString(value){return null===value?"null":"function"==typeof value.valueOf&&(value=value.valueOf(),isPrimitive(value))?value:"function"==typeof value.toString&&(value=value.toString(),isPrimitive(value))?value:""}function compare(v1,v2){var t1=typeof v1,t2=typeof v2;return t1===t2&&"object"===t1&&(v1=objectToString(v1),v2=objectToString(v2)),t1===t2?("string"===t1&&(v1=v1.toLowerCase(),v2=v2.toLowerCase()),v1===v2?0:v2>v1?-1:1):t2>t1?-1:1
}return isArrayLike(array)?(sortPredicate=isArray(sortPredicate)?sortPredicate:[sortPredicate],0===sortPredicate.length&&(sortPredicate=["+"]),sortPredicate=sortPredicate.map(function(predicate){var descending=!1,get=predicate||identity;if(isString(predicate)){if(("+"==predicate.charAt(0)||"-"==predicate.charAt(0))&&(descending="-"==predicate.charAt(0),predicate=predicate.substring(1)),""===predicate)return reverseComparator(compare,descending);if(get=$parse(predicate),get.constant){var key=get();return reverseComparator(function(a,b){return compare(a[key],b[key])},descending)}}return reverseComparator(function(a,b){return compare(get(a),get(b))},descending)}),slice.call(array).sort(reverseComparator(comparator,reverseOrder))):array}}function ngDirective(directive){return isFunction(directive)&&(directive={link:directive}),directive.restrict=directive.restrict||"AC",valueFn(directive)}function nullFormRenameControl(control,name){control.$name=name}function FormController(element,attrs,$scope,$animate,$interpolate){var form=this,controls=[],parentForm=form.$$parentForm=element.parent().controller("form")||nullFormCtrl;form.$error={},form.$$success={},form.$pending=undefined,form.$name=$interpolate(attrs.name||attrs.ngForm||"")($scope),form.$dirty=!1,form.$pristine=!0,form.$valid=!0,form.$invalid=!1,form.$submitted=!1,parentForm.$addControl(form),form.$rollbackViewValue=function(){forEach(controls,function(control){control.$rollbackViewValue()})},form.$commitViewValue=function(){forEach(controls,function(control){control.$commitViewValue()})},form.$addControl=function(control){assertNotHasOwnProperty(control.$name,"input"),controls.push(control),control.$name&&(form[control.$name]=control)},form.$$renameControl=function(control,newName){var oldName=control.$name;form[oldName]===control&&delete form[oldName],form[newName]=control,control.$name=newName},form.$removeControl=function(control){control.$name&&form[control.$name]===control&&delete form[control.$name],forEach(form.$pending,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$error,function(value,name){form.$setValidity(name,null,control)}),forEach(form.$$success,function(value,name){form.$setValidity(name,null,control)}),arrayRemove(controls,control)},addSetValidityMethod({ctrl:this,$element:element,set:function(object,property,controller){var list=object[property];if(list){var index=list.indexOf(controller);-1===index&&list.push(controller)}else object[property]=[controller]},unset:function(object,property,controller){var list=object[property];list&&(arrayRemove(list,controller),0===list.length&&delete object[property])},parentForm:parentForm,$animate:$animate}),form.$setDirty=function(){$animate.removeClass(element,PRISTINE_CLASS),$animate.addClass(element,DIRTY_CLASS),form.$dirty=!0,form.$pristine=!1,parentForm.$setDirty()},form.$setPristine=function(){$animate.setClass(element,PRISTINE_CLASS,DIRTY_CLASS+" "+SUBMITTED_CLASS),form.$dirty=!1,form.$pristine=!0,form.$submitted=!1,forEach(controls,function(control){control.$setPristine()})},form.$setUntouched=function(){forEach(controls,function(control){control.$setUntouched()})},form.$setSubmitted=function(){$animate.addClass(element,SUBMITTED_CLASS),form.$submitted=!0,parentForm.$setSubmitted()}}function stringBasedInputType(ctrl){ctrl.$formatters.push(function(value){return ctrl.$isEmpty(value)?value:value.toString()})}function textInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl)}function baseInputType(scope,element,attr,ctrl,$sniffer,$browser){var type=lowercase(element[0].type);if(!$sniffer.android){var composing=!1;element.on("compositionstart",function(){composing=!0}),element.on("compositionend",function(){composing=!1,listener()})}var listener=function(ev){if(timeout&&($browser.defer.cancel(timeout),timeout=null),!composing){var value=element.val(),event=ev&&ev.type;"password"===type||attr.ngTrim&&"false"===attr.ngTrim||(value=trim(value)),(ctrl.$viewValue!==value||""===value&&ctrl.$$hasNativeValidators)&&ctrl.$setViewValue(value,event)}};if($sniffer.hasEvent("input"))element.on("input",listener);else{var timeout,deferListener=function(ev,input,origValue){timeout||(timeout=$browser.defer(function(){timeout=null,input&&input.value===origValue||listener(ev)}))};element.on("keydown",function(event){var key=event.keyCode;91===key||key>15&&19>key||key>=37&&40>=key||deferListener(event,this,this.value)}),$sniffer.hasEvent("paste")&&element.on("paste cut",deferListener)}element.on("change",listener),ctrl.$render=function(){element.val(ctrl.$isEmpty(ctrl.$viewValue)?"":ctrl.$viewValue)}}function weekParser(isoWeek,existingDate){if(isDate(isoWeek))return isoWeek;if(isString(isoWeek)){WEEK_REGEXP.lastIndex=0;var parts=WEEK_REGEXP.exec(isoWeek);if(parts){var year=+parts[1],week=+parts[2],hours=0,minutes=0,seconds=0,milliseconds=0,firstThurs=getFirstThursdayOfYear(year),addDays=7*(week-1);return existingDate&&(hours=existingDate.getHours(),minutes=existingDate.getMinutes(),seconds=existingDate.getSeconds(),milliseconds=existingDate.getMilliseconds()),new Date(year,0,firstThurs.getDate()+addDays,hours,minutes,seconds,milliseconds)}}return 0/0}function createDateParser(regexp,mapping){return function(iso,date){var parts,map;if(isDate(iso))return iso;if(isString(iso)){if('"'==iso.charAt(0)&&'"'==iso.charAt(iso.length-1)&&(iso=iso.substring(1,iso.length-1)),ISO_DATE_REGEXP.test(iso))return new Date(iso);if(regexp.lastIndex=0,parts=regexp.exec(iso))return parts.shift(),map=date?{yyyy:date.getFullYear(),MM:date.getMonth()+1,dd:date.getDate(),HH:date.getHours(),mm:date.getMinutes(),ss:date.getSeconds(),sss:date.getMilliseconds()/1e3}:{yyyy:1970,MM:1,dd:1,HH:0,mm:0,ss:0,sss:0},forEach(parts,function(part,index){index<mapping.length&&(map[mapping[index]]=+part)}),new Date(map.yyyy,map.MM-1,map.dd,map.HH,map.mm,map.ss||0,1e3*map.sss||0)}return 0/0}}function createDateInputType(type,regexp,parseDate,format){return function(scope,element,attr,ctrl,$sniffer,$browser,$filter){function isValidDate(value){return value&&!(value.getTime&&value.getTime()!==value.getTime())}function parseObservedDateValue(val){return isDefined(val)?isDate(val)?val:parseDate(val):undefined}badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser);var previousDate,timezone=ctrl&&ctrl.$options&&ctrl.$options.timezone;if(ctrl.$$parserName=type,ctrl.$parsers.push(function(value){if(ctrl.$isEmpty(value))return null;if(regexp.test(value)){var parsedDate=parseDate(value,previousDate);return"UTC"===timezone&&parsedDate.setMinutes(parsedDate.getMinutes()-parsedDate.getTimezoneOffset()),parsedDate}return undefined}),ctrl.$formatters.push(function(value){if(value&&!isDate(value))throw $ngModelMinErr("datefmt","Expected `{0}` to be a date",value);if(isValidDate(value)){if(previousDate=value,previousDate&&"UTC"===timezone){var timezoneOffset=6e4*previousDate.getTimezoneOffset();previousDate=new Date(previousDate.getTime()+timezoneOffset)}return $filter("date")(value,format,timezone)}return previousDate=null,""}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return!isValidDate(value)||isUndefined(minVal)||parseDate(value)>=minVal},attr.$observe("min",function(val){minVal=parseObservedDateValue(val),ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return!isValidDate(value)||isUndefined(maxVal)||parseDate(value)<=maxVal},attr.$observe("max",function(val){maxVal=parseObservedDateValue(val),ctrl.$validate()})}}}function badInputChecker(scope,element,attr,ctrl){var node=element[0],nativeValidation=ctrl.$$hasNativeValidators=isObject(node.validity);nativeValidation&&ctrl.$parsers.push(function(value){var validity=element.prop(VALIDITY_STATE_PROPERTY)||{};return validity.badInput&&!validity.typeMismatch?undefined:value})}function numberInputType(scope,element,attr,ctrl,$sniffer,$browser){if(badInputChecker(scope,element,attr,ctrl),baseInputType(scope,element,attr,ctrl,$sniffer,$browser),ctrl.$$parserName="number",ctrl.$parsers.push(function(value){return ctrl.$isEmpty(value)?null:NUMBER_REGEXP.test(value)?parseFloat(value):undefined}),ctrl.$formatters.push(function(value){if(!ctrl.$isEmpty(value)){if(!isNumber(value))throw $ngModelMinErr("numfmt","Expected `{0}` to be a number",value);value=value.toString()}return value}),isDefined(attr.min)||attr.ngMin){var minVal;ctrl.$validators.min=function(value){return ctrl.$isEmpty(value)||isUndefined(minVal)||value>=minVal},attr.$observe("min",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),minVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}if(isDefined(attr.max)||attr.ngMax){var maxVal;ctrl.$validators.max=function(value){return ctrl.$isEmpty(value)||isUndefined(maxVal)||maxVal>=value},attr.$observe("max",function(val){isDefined(val)&&!isNumber(val)&&(val=parseFloat(val,10)),maxVal=isNumber(val)&&!isNaN(val)?val:undefined,ctrl.$validate()})}}function urlInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="url",ctrl.$validators.url=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||URL_REGEXP.test(value)}}function emailInputType(scope,element,attr,ctrl,$sniffer,$browser){baseInputType(scope,element,attr,ctrl,$sniffer,$browser),stringBasedInputType(ctrl),ctrl.$$parserName="email",ctrl.$validators.email=function(modelValue,viewValue){var value=modelValue||viewValue;return ctrl.$isEmpty(value)||EMAIL_REGEXP.test(value)}}function radioInputType(scope,element,attr,ctrl){isUndefined(attr.name)&&element.attr("name",nextUid());var listener=function(ev){element[0].checked&&ctrl.$setViewValue(attr.value,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){var value=attr.value;element[0].checked=value==ctrl.$viewValue},attr.$observe("value",ctrl.$render)}function parseConstantExpr($parse,context,name,expression,fallback){var parseFn;if(isDefined(expression)){if(parseFn=$parse(expression),!parseFn.constant)throw minErr("ngModel")("constexpr","Expected constant expression for `{0}`, but saw `{1}`.",name,expression);return parseFn(context)}return fallback}function checkboxInputType(scope,element,attr,ctrl,$sniffer,$browser,$filter,$parse){var trueValue=parseConstantExpr($parse,scope,"ngTrueValue",attr.ngTrueValue,!0),falseValue=parseConstantExpr($parse,scope,"ngFalseValue",attr.ngFalseValue,!1),listener=function(ev){ctrl.$setViewValue(element[0].checked,ev&&ev.type)};element.on("click",listener),ctrl.$render=function(){element[0].checked=ctrl.$viewValue},ctrl.$isEmpty=function(value){return value===!1},ctrl.$formatters.push(function(value){return equals(value,trueValue)}),ctrl.$parsers.push(function(value){return value?trueValue:falseValue})}function classDirective(name,selector){return name="ngClass"+name,["$animate",function($animate){function arrayDifference(tokens1,tokens2){var values=[];outer:for(var i=0;i<tokens1.length;i++){for(var token=tokens1[i],j=0;j<tokens2.length;j++)if(token==tokens2[j])continue outer;values.push(token)}return values}function arrayClasses(classVal){if(isArray(classVal))return classVal;if(isString(classVal))return classVal.split(" ");if(isObject(classVal)){var classes=[];return forEach(classVal,function(v,k){v&&(classes=classes.concat(k.split(" ")))}),classes}return classVal}return{restrict:"AC",link:function(scope,element,attr){function addClasses(classes){var newClasses=digestClassCounts(classes,1);attr.$addClass(newClasses)}function removeClasses(classes){var newClasses=digestClassCounts(classes,-1);attr.$removeClass(newClasses)}function digestClassCounts(classes,count){var classCounts=element.data("$classCounts")||{},classesToUpdate=[];return forEach(classes,function(className){(count>0||classCounts[className])&&(classCounts[className]=(classCounts[className]||0)+count,classCounts[className]===+(count>0)&&classesToUpdate.push(className))}),element.data("$classCounts",classCounts),classesToUpdate.join(" ")}function updateClasses(oldClasses,newClasses){var toAdd=arrayDifference(newClasses,oldClasses),toRemove=arrayDifference(oldClasses,newClasses);toAdd=digestClassCounts(toAdd,1),toRemove=digestClassCounts(toRemove,-1),toAdd&&toAdd.length&&$animate.addClass(element,toAdd),toRemove&&toRemove.length&&$animate.removeClass(element,toRemove)}function ngClassWatchAction(newVal){if(selector===!0||scope.$index%2===selector){var newClasses=arrayClasses(newVal||[]);if(oldVal){if(!equals(newVal,oldVal)){var oldClasses=arrayClasses(oldVal);updateClasses(oldClasses,newClasses)}}else addClasses(newClasses)}oldVal=shallowCopy(newVal)}var oldVal;scope.$watch(attr[name],ngClassWatchAction,!0),attr.$observe("class",function(){ngClassWatchAction(scope.$eval(attr[name]))}),"ngClass"!==name&&scope.$watch("$index",function($index,old$index){var mod=1&$index;if(mod!==(1&old$index)){var classes=arrayClasses(scope.$eval(attr[name]));mod===selector?addClasses(classes):removeClasses(classes)}})}}}]}function addSetValidityMethod(context){function setValidity(validationErrorKey,state,controller){state===undefined?createAndSet("$pending",validationErrorKey,controller):unsetAndCleanup("$pending",validationErrorKey,controller),isBoolean(state)?state?(unset(ctrl.$error,validationErrorKey,controller),set(ctrl.$$success,validationErrorKey,controller)):(set(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)):(unset(ctrl.$error,validationErrorKey,controller),unset(ctrl.$$success,validationErrorKey,controller)),ctrl.$pending?(cachedToggleClass(PENDING_CLASS,!0),ctrl.$valid=ctrl.$invalid=undefined,toggleValidationCss("",null)):(cachedToggleClass(PENDING_CLASS,!1),ctrl.$valid=isObjectEmpty(ctrl.$error),ctrl.$invalid=!ctrl.$valid,toggleValidationCss("",ctrl.$valid));var combinedState;combinedState=ctrl.$pending&&ctrl.$pending[validationErrorKey]?undefined:ctrl.$error[validationErrorKey]?!1:ctrl.$$success[validationErrorKey]?!0:null,toggleValidationCss(validationErrorKey,combinedState),parentForm.$setValidity(validationErrorKey,combinedState,ctrl)}function createAndSet(name,value,controller){ctrl[name]||(ctrl[name]={}),set(ctrl[name],value,controller)}function unsetAndCleanup(name,value,controller){ctrl[name]&&unset(ctrl[name],value,controller),isObjectEmpty(ctrl[name])&&(ctrl[name]=undefined)}function cachedToggleClass(className,switchValue){switchValue&&!classCache[className]?($animate.addClass($element,className),classCache[className]=!0):!switchValue&&classCache[className]&&($animate.removeClass($element,className),classCache[className]=!1)}function toggleValidationCss(validationErrorKey,isValid){validationErrorKey=validationErrorKey?"-"+snake_case(validationErrorKey,"-"):"",cachedToggleClass(VALID_CLASS+validationErrorKey,isValid===!0),cachedToggleClass(INVALID_CLASS+validationErrorKey,isValid===!1)}var ctrl=context.ctrl,$element=context.$element,classCache={},set=context.set,unset=context.unset,parentForm=context.parentForm,$animate=context.$animate;classCache[INVALID_CLASS]=!(classCache[VALID_CLASS]=$element.hasClass(VALID_CLASS)),ctrl.$setValidity=setValidity}function isObjectEmpty(obj){if(obj)for(var prop in obj)return!1;return!0}var REGEX_STRING_REGEXP=/^\/(.+)\/([a-z]*)$/,VALIDITY_STATE_PROPERTY="validity",lowercase=function(string){return isString(string)?string.toLowerCase():string},hasOwnProperty=Object.prototype.hasOwnProperty,uppercase=function(string){return isString(string)?string.toUpperCase():string},manualLowercase=function(s){return isString(s)?s.replace(/[A-Z]/g,function(ch){return String.fromCharCode(32|ch.charCodeAt(0))}):s},manualUppercase=function(s){return isString(s)?s.replace(/[a-z]/g,function(ch){return String.fromCharCode(-33&ch.charCodeAt(0))}):s};"i"!=="I".toLowerCase()&&(lowercase=manualLowercase,uppercase=manualUppercase);var msie,jqLite,jQuery,angularModule,slice=[].slice,splice=[].splice,push=[].push,toString=Object.prototype.toString,ngMinErr=minErr("ng"),angular=window.angular||(window.angular={}),uid=0;msie=document.documentMode,noop.$inject=[],identity.$inject=[];var skipDestroyOnNextJQueryCleanData,isArray=Array.isArray,trim=function(value){return isString(value)?value.trim():value},escapeForRegexp=function(s){return s.replace(/([-()\[\]{}+?*.$\^|,:#<!\\])/g,"\\$1").replace(/\x08/g,"\\x08")},csp=function(){if(isDefined(csp.isActive_))return csp.isActive_;var active=!(!document.querySelector("[ng-csp]")&&!document.querySelector("[data-ng-csp]"));if(!active)try{new Function("")}catch(e){active=!0}return csp.isActive_=active},ngAttrPrefixes=["ng-","data-ng-","ng:","x-ng-"],SNAKE_CASE_REGEXP=/[A-Z]/g,bindJQueryFired=!1,NODE_TYPE_ELEMENT=1,NODE_TYPE_TEXT=3,NODE_TYPE_COMMENT=8,NODE_TYPE_DOCUMENT=9,NODE_TYPE_DOCUMENT_FRAGMENT=11,version={full:"1.3.14",major:1,minor:3,dot:14,codeName:"instantaneous-browserification"};JQLite.expando="ng339";var jqCache=JQLite.cache={},jqId=1,addEventListenerFn=function(element,type,fn){element.addEventListener(type,fn,!1)},removeEventListenerFn=function(element,type,fn){element.removeEventListener(type,fn,!1)};JQLite._data=function(node){return this.cache[node[this.expando]]||{}};var SPECIAL_CHARS_REGEXP=/([\:\-\_]+(.))/g,MOZ_HACK_REGEXP=/^moz([A-Z])/,MOUSE_EVENT_MAP={mouseleave:"mouseout",mouseenter:"mouseover"},jqLiteMinErr=minErr("jqLite"),SINGLE_TAG_REGEXP=/^<(\w+)\s*\/?>(?:<\/\1>|)$/,HTML_REGEXP=/<|&#?\w+;/,TAG_NAME_REGEXP=/<([\w:]+)/,XHTML_TAG_REGEXP=/<(?!area|br|col|embed|hr|img|input|link|meta|param)(([\w:]+)[^>]*)\/>/gi,wrapMap={option:[1,'<select multiple="multiple">',"</select>"],thead:[1,"<table>","</table>"],col:[2,"<table><colgroup>","</colgroup></table>"],tr:[2,"<table><tbody>","</tbody></table>"],td:[3,"<table><tbody><tr>","</tr></tbody></table>"],_default:[0,"",""]};wrapMap.optgroup=wrapMap.option,wrapMap.tbody=wrapMap.tfoot=wrapMap.colgroup=wrapMap.caption=wrapMap.thead,wrapMap.th=wrapMap.td;var JQLitePrototype=JQLite.prototype={ready:function(fn){function trigger(){fired||(fired=!0,fn())}var fired=!1;"complete"===document.readyState?setTimeout(trigger):(this.on("DOMContentLoaded",trigger),JQLite(window).on("load",trigger))},toString:function(){var value=[];return forEach(this,function(e){value.push(""+e)}),"["+value.join(", ")+"]"},eq:function(index){return jqLite(index>=0?this[index]:this[this.length+index])},length:0,push:push,sort:[].sort,splice:[].splice},BOOLEAN_ATTR={};forEach("multiple,selected,checked,disabled,readOnly,required,open".split(","),function(value){BOOLEAN_ATTR[lowercase(value)]=value});var BOOLEAN_ELEMENTS={};forEach("input,select,option,textarea,button,form,details".split(","),function(value){BOOLEAN_ELEMENTS[value]=!0});var ALIASED_ATTR={ngMinlength:"minlength",ngMaxlength:"maxlength",ngMin:"min",ngMax:"max",ngPattern:"pattern"};forEach({data:jqLiteData,removeData:jqLiteRemoveData},function(fn,name){JQLite[name]=fn}),forEach({data:jqLiteData,inheritedData:jqLiteInheritedData,scope:function(element){return jqLite.data(element,"$scope")||jqLiteInheritedData(element.parentNode||element,["$isolateScope","$scope"])},isolateScope:function(element){return jqLite.data(element,"$isolateScope")||jqLite.data(element,"$isolateScopeNoTemplate")},controller:jqLiteController,injector:function(element){return jqLiteInheritedData(element,"$injector")},removeAttr:function(element,name){element.removeAttribute(name)},hasClass:jqLiteHasClass,css:function(element,name,value){return name=camelCase(name),isDefined(value)?void(element.style[name]=value):element.style[name]},attr:function(element,name,value){var lowercasedName=lowercase(name);if(BOOLEAN_ATTR[lowercasedName]){if(!isDefined(value))return element[name]||(element.attributes.getNamedItem(name)||noop).specified?lowercasedName:undefined;value?(element[name]=!0,element.setAttribute(name,lowercasedName)):(element[name]=!1,element.removeAttribute(lowercasedName))}else if(isDefined(value))element.setAttribute(name,value);else if(element.getAttribute){var ret=element.getAttribute(name,2);return null===ret?undefined:ret}},prop:function(element,name,value){return isDefined(value)?void(element[name]=value):element[name]},text:function(){function getText(element,value){if(isUndefined(value)){var nodeType=element.nodeType;return nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_TEXT?element.textContent:""}element.textContent=value}return getText.$dv="",getText}(),val:function(element,value){if(isUndefined(value)){if(element.multiple&&"select"===nodeName_(element)){var result=[];return forEach(element.options,function(option){option.selected&&result.push(option.value||option.text)}),0===result.length?null:result}return element.value}element.value=value},html:function(element,value){return isUndefined(value)?element.innerHTML:(jqLiteDealoc(element,!0),void(element.innerHTML=value))},empty:jqLiteEmpty},function(fn,name){JQLite.prototype[name]=function(arg1,arg2){var i,key,nodeCount=this.length;if(fn!==jqLiteEmpty&&(2==fn.length&&fn!==jqLiteHasClass&&fn!==jqLiteController?arg1:arg2)===undefined){if(isObject(arg1)){for(i=0;nodeCount>i;i++)if(fn===jqLiteData)fn(this[i],arg1);else for(key in arg1)fn(this[i],key,arg1[key]);return this}for(var value=fn.$dv,jj=value===undefined?Math.min(nodeCount,1):nodeCount,j=0;jj>j;j++){var nodeValue=fn(this[j],arg1,arg2);value=value?value+nodeValue:nodeValue}return value}for(i=0;nodeCount>i;i++)fn(this[i],arg1,arg2);return this}}),forEach({removeData:jqLiteRemoveData,on:function jqLiteOn(element,type,fn,unsupported){if(isDefined(unsupported))throw jqLiteMinErr("onargs","jqLite#on() does not support the `selector` or `eventData` parameters");if(jqLiteAcceptsData(element)){var expandoStore=jqLiteExpandoStore(element,!0),events=expandoStore.events,handle=expandoStore.handle;handle||(handle=expandoStore.handle=createEventHandler(element,events));for(var types=type.indexOf(" ")>=0?type.split(" "):[type],i=types.length;i--;){type=types[i];var eventFns=events[type];eventFns||(events[type]=[],"mouseenter"===type||"mouseleave"===type?jqLiteOn(element,MOUSE_EVENT_MAP[type],function(event){var target=this,related=event.relatedTarget;(!related||related!==target&&!target.contains(related))&&handle(event,type)}):"$destroy"!==type&&addEventListenerFn(element,type,handle),eventFns=events[type]),eventFns.push(fn)}}},off:jqLiteOff,one:function(element,type,fn){element=jqLite(element),element.on(type,function onFn(){element.off(type,fn),element.off(type,onFn)}),element.on(type,fn)},replaceWith:function(element,replaceNode){var index,parent=element.parentNode;jqLiteDealoc(element),forEach(new JQLite(replaceNode),function(node){index?parent.insertBefore(node,index.nextSibling):parent.replaceChild(node,element),index=node})},children:function(element){var children=[];return forEach(element.childNodes,function(element){element.nodeType===NODE_TYPE_ELEMENT&&children.push(element)}),children},contents:function(element){return element.contentDocument||element.childNodes||[]},append:function(element,node){var nodeType=element.nodeType;if(nodeType===NODE_TYPE_ELEMENT||nodeType===NODE_TYPE_DOCUMENT_FRAGMENT){node=new JQLite(node);for(var i=0,ii=node.length;ii>i;i++){var child=node[i];element.appendChild(child)}}},prepend:function(element,node){if(element.nodeType===NODE_TYPE_ELEMENT){var index=element.firstChild;forEach(new JQLite(node),function(child){element.insertBefore(child,index)})}},wrap:function(element,wrapNode){wrapNode=jqLite(wrapNode).eq(0).clone()[0];var parent=element.parentNode;parent&&parent.replaceChild(wrapNode,element),wrapNode.appendChild(element)},remove:jqLiteRemove,detach:function(element){jqLiteRemove(element,!0)},after:function(element,newElement){var index=element,parent=element.parentNode;newElement=new JQLite(newElement);for(var i=0,ii=newElement.length;ii>i;i++){var node=newElement[i];parent.insertBefore(node,index.nextSibling),index=node}},addClass:jqLiteAddClass,removeClass:jqLiteRemoveClass,toggleClass:function(element,selector,condition){selector&&forEach(selector.split(" "),function(className){var classCondition=condition;isUndefined(classCondition)&&(classCondition=!jqLiteHasClass(element,className)),(classCondition?jqLiteAddClass:jqLiteRemoveClass)(element,className)})},parent:function(element){var parent=element.parentNode;return parent&&parent.nodeType!==NODE_TYPE_DOCUMENT_FRAGMENT?parent:null},next:function(element){return element.nextElementSibling},find:function(element,selector){return element.getElementsByTagName?element.getElementsByTagName(selector):[]},clone:jqLiteClone,triggerHandler:function(element,event,extraParameters){var dummyEvent,eventFnsCopy,handlerArgs,eventName=event.type||event,expandoStore=jqLiteExpandoStore(element),events=expandoStore&&expandoStore.events,eventFns=events&&events[eventName];eventFns&&(dummyEvent={preventDefault:function(){this.defaultPrevented=!0},isDefaultPrevented:function(){return this.defaultPrevented===!0},stopImmediatePropagation:function(){this.immediatePropagationStopped=!0},isImmediatePropagationStopped:function(){return this.immediatePropagationStopped===!0},stopPropagation:noop,type:eventName,target:element},event.type&&(dummyEvent=extend(dummyEvent,event)),eventFnsCopy=shallowCopy(eventFns),handlerArgs=extraParameters?[dummyEvent].concat(extraParameters):[dummyEvent],forEach(eventFnsCopy,function(fn){dummyEvent.isImmediatePropagationStopped()||fn.apply(element,handlerArgs)}))}},function(fn,name){JQLite.prototype[name]=function(arg1,arg2,arg3){for(var value,i=0,ii=this.length;ii>i;i++)isUndefined(value)?(value=fn(this[i],arg1,arg2,arg3),isDefined(value)&&(value=jqLite(value))):jqLiteAddNodes(value,fn(this[i],arg1,arg2,arg3));return isDefined(value)?value:this},JQLite.prototype.bind=JQLite.prototype.on,JQLite.prototype.unbind=JQLite.prototype.off}),HashMap.prototype={put:function(key,value){this[hashKey(key,this.nextUid)]=value},get:function(key){return this[hashKey(key,this.nextUid)]},remove:function(key){var value=this[key=hashKey(key,this.nextUid)];return delete this[key],value}};var FN_ARGS=/^function\s*[^\(]*\(\s*([^\)]*)\)/m,FN_ARG_SPLIT=/,/,FN_ARG=/^\s*(_?)(\S+?)\1\s*$/,STRIP_COMMENTS=/((\/\/.*$)|(\/\*[\s\S]*?\*\/))/gm,$injectorMinErr=minErr("$injector");createInjector.$$annotate=annotate;var $animateMinErr=minErr("$animate"),$AnimateProvider=["$provide",function($provide){this.$$selectors={},this.register=function(name,factory){var key=name+"-animation";if(name&&"."!=name.charAt(0))throw $animateMinErr("notcsel","Expecting class selector starting with '.' got '{0}'.",name);this.$$selectors[name.substr(1)]=key,$provide.factory(key,factory)},this.classNameFilter=function(expression){return 1===arguments.length&&(this.$$classNameFilter=expression instanceof RegExp?expression:null),this.$$classNameFilter},this.$get=["$$q","$$asyncCallback","$rootScope",function($$q,$$asyncCallback,$rootScope){function runAnimationPostDigest(fn){var cancelFn,defer=$$q.defer();return defer.promise.$$cancelFn=function(){cancelFn&&cancelFn()},$rootScope.$$postDigest(function(){cancelFn=fn(function(){defer.resolve()})}),defer.promise}function resolveElementClasses(element,classes){var toAdd=[],toRemove=[],hasClasses=createMap();return forEach((element.attr("class")||"").split(/\s+/),function(className){hasClasses[className]=!0}),forEach(classes,function(status,className){var hasClass=hasClasses[className];status===!1&&hasClass?toRemove.push(className):status!==!0||hasClass||toAdd.push(className)}),toAdd.length+toRemove.length>0&&[toAdd.length?toAdd:null,toRemove.length?toRemove:null]}function cachedClassManipulation(cache,classes,op){for(var i=0,ii=classes.length;ii>i;++i){var className=classes[i];cache[className]=op}}function asyncPromise(){return currentDefer||(currentDefer=$$q.defer(),$$asyncCallback(function(){currentDefer.resolve(),currentDefer=null})),currentDefer.promise}function applyStyles(element,options){if(angular.isObject(options)){var styles=extend(options.from||{},options.to||{});element.css(styles)}}var currentDefer;return{animate:function(element,from,to){return applyStyles(element,{from:from,to:to}),asyncPromise()},enter:function(element,parent,after,options){return applyStyles(element,options),after?after.after(element):parent.prepend(element),asyncPromise()},leave:function(element){return element.remove(),asyncPromise()},move:function(element,parent,after,options){return this.enter(element,parent,after,options)},addClass:function(element,className,options){return this.setClass(element,className,[],options)},$$addClassImmediately:function(element,className,options){return element=jqLite(element),className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteAddClass(element,className)}),applyStyles(element,options),asyncPromise()},removeClass:function(element,className,options){return this.setClass(element,[],className,options)},$$removeClassImmediately:function(element,className,options){return element=jqLite(element),className=isString(className)?className:isArray(className)?className.join(" "):"",forEach(element,function(element){jqLiteRemoveClass(element,className)}),applyStyles(element,options),asyncPromise()},setClass:function(element,add,remove,options){var self=this,STORAGE_KEY="$$animateClasses",createdCache=!1;element=jqLite(element);var cache=element.data(STORAGE_KEY);cache?options&&cache.options&&(cache.options=angular.extend(cache.options||{},options)):(cache={classes:{},options:options},createdCache=!0);var classes=cache.classes;return add=isArray(add)?add:add.split(" "),remove=isArray(remove)?remove:remove.split(" "),cachedClassManipulation(classes,add,!0),cachedClassManipulation(classes,remove,!1),createdCache&&(cache.promise=runAnimationPostDigest(function(done){var cache=element.data(STORAGE_KEY);if(element.removeData(STORAGE_KEY),cache){var classes=resolveElementClasses(element,cache.classes);classes&&self.$$setClassImmediately(element,classes[0],classes[1],cache.options)}done()}),element.data(STORAGE_KEY,cache)),cache.promise},$$setClassImmediately:function(element,add,remove,options){return add&&this.$$addClassImmediately(element,add),remove&&this.$$removeClassImmediately(element,remove),applyStyles(element,options),asyncPromise()},enabled:noop,cancel:noop}}]}],$compileMinErr=minErr("$compile");$CompileProvider.$inject=["$provide","$$sanitizeUriProvider"];var PREFIX_REGEXP=/^((?:x|data)[\:\-_])/i,$controllerMinErr=minErr("$controller"),APPLICATION_JSON="application/json",CONTENT_TYPE_APPLICATION_JSON={"Content-Type":APPLICATION_JSON+";charset=utf-8"},JSON_START=/^\[|^\{(?!\{)/,JSON_ENDS={"[":/]$/,"{":/}$/},JSON_PROTECTION_PREFIX=/^\)\]\}',?\n/,$interpolateMinErr=minErr("$interpolate"),PATH_MATCH=/^([^\?#]*)(\?([^#]*))?(#(.*))?$/,DEFAULT_PORTS={http:80,https:443,ftp:21},$locationMinErr=minErr("$location"),locationPrototype={$$html5:!1,$$replace:!1,absUrl:locationGetter("$$absUrl"),url:function(url){if(isUndefined(url))return this.$$url;var match=PATH_MATCH.exec(url);return(match[1]||""===url)&&this.path(decodeURIComponent(match[1])),(match[2]||match[1]||""===url)&&this.search(match[3]||""),this.hash(match[5]||""),this},protocol:locationGetter("$$protocol"),host:locationGetter("$$host"),port:locationGetter("$$port"),path:locationGetterSetter("$$path",function(path){return path=null!==path?path.toString():"","/"==path.charAt(0)?path:"/"+path}),search:function(search,paramValue){switch(arguments.length){case 0:return this.$$search;case 1:if(isString(search)||isNumber(search))search=search.toString(),this.$$search=parseKeyValue(search);else{if(!isObject(search))throw $locationMinErr("isrcharg","The first argument of the `$location#search()` call must be a string or an object.");search=copy(search,{}),forEach(search,function(value,key){null==value&&delete search[key]}),this.$$search=search}break;default:isUndefined(paramValue)||null===paramValue?delete this.$$search[search]:this.$$search[search]=paramValue
}return this.$$compose(),this},hash:locationGetterSetter("$$hash",function(hash){return null!==hash?hash.toString():""}),replace:function(){return this.$$replace=!0,this}};forEach([LocationHashbangInHtml5Url,LocationHashbangUrl,LocationHtml5Url],function(Location){Location.prototype=Object.create(locationPrototype),Location.prototype.state=function(state){if(!arguments.length)return this.$$state;if(Location!==LocationHtml5Url||!this.$$html5)throw $locationMinErr("nostate","History API state support is available only in HTML5 mode and only in browsers supporting HTML5 History API");return this.$$state=isUndefined(state)?null:state,this}});var $parseMinErr=minErr("$parse"),CALL=Function.prototype.call,APPLY=Function.prototype.apply,BIND=Function.prototype.bind,CONSTANTS=createMap();forEach({"null":function(){return null},"true":function(){return!0},"false":function(){return!1},undefined:function(){}},function(constantGetter,name){constantGetter.constant=constantGetter.literal=constantGetter.sharedGetter=!0,CONSTANTS[name]=constantGetter}),CONSTANTS["this"]=function(self){return self},CONSTANTS["this"].sharedGetter=!0;var OPERATORS=extend(createMap(),{"+":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),isDefined(a)?isDefined(b)?a+b:a:isDefined(b)?b:undefined},"-":function(self,locals,a,b){return a=a(self,locals),b=b(self,locals),(isDefined(a)?a:0)-(isDefined(b)?b:0)},"*":function(self,locals,a,b){return a(self,locals)*b(self,locals)},"/":function(self,locals,a,b){return a(self,locals)/b(self,locals)},"%":function(self,locals,a,b){return a(self,locals)%b(self,locals)},"===":function(self,locals,a,b){return a(self,locals)===b(self,locals)},"!==":function(self,locals,a,b){return a(self,locals)!==b(self,locals)},"==":function(self,locals,a,b){return a(self,locals)==b(self,locals)},"!=":function(self,locals,a,b){return a(self,locals)!=b(self,locals)},"<":function(self,locals,a,b){return a(self,locals)<b(self,locals)},">":function(self,locals,a,b){return a(self,locals)>b(self,locals)},"<=":function(self,locals,a,b){return a(self,locals)<=b(self,locals)},">=":function(self,locals,a,b){return a(self,locals)>=b(self,locals)},"&&":function(self,locals,a,b){return a(self,locals)&&b(self,locals)},"||":function(self,locals,a,b){return a(self,locals)||b(self,locals)},"!":function(self,locals,a){return!a(self,locals)},"=":!0,"|":!0}),ESCAPE={n:"\n",f:"\f",r:"\r",t:"	",v:"","'":"'",'"':'"'},Lexer=function(options){this.options=options};Lexer.prototype={constructor:Lexer,lex:function(text){for(this.text=text,this.index=0,this.tokens=[];this.index<this.text.length;){var ch=this.text.charAt(this.index);if('"'===ch||"'"===ch)this.readString(ch);else if(this.isNumber(ch)||"."===ch&&this.isNumber(this.peek()))this.readNumber();else if(this.isIdent(ch))this.readIdent();else if(this.is(ch,"(){}[].,;:?"))this.tokens.push({index:this.index,text:ch}),this.index++;else if(this.isWhitespace(ch))this.index++;else{var ch2=ch+this.peek(),ch3=ch2+this.peek(2),op1=OPERATORS[ch],op2=OPERATORS[ch2],op3=OPERATORS[ch3];if(op1||op2||op3){var token=op3?ch3:op2?ch2:ch;this.tokens.push({index:this.index,text:token,operator:!0}),this.index+=token.length}else this.throwError("Unexpected next character ",this.index,this.index+1)}}return this.tokens},is:function(ch,chars){return-1!==chars.indexOf(ch)},peek:function(i){var num=i||1;return this.index+num<this.text.length?this.text.charAt(this.index+num):!1},isNumber:function(ch){return ch>="0"&&"9">=ch&&"string"==typeof ch},isWhitespace:function(ch){return" "===ch||"\r"===ch||"	"===ch||"\n"===ch||""===ch||" "===ch},isIdent:function(ch){return ch>="a"&&"z">=ch||ch>="A"&&"Z">=ch||"_"===ch||"$"===ch},isExpOperator:function(ch){return"-"===ch||"+"===ch||this.isNumber(ch)},throwError:function(error,start,end){end=end||this.index;var colStr=isDefined(start)?"s "+start+"-"+this.index+" ["+this.text.substring(start,end)+"]":" "+end;throw $parseMinErr("lexerr","Lexer Error: {0} at column{1} in expression [{2}].",error,colStr,this.text)},readNumber:function(){for(var number="",start=this.index;this.index<this.text.length;){var ch=lowercase(this.text.charAt(this.index));if("."==ch||this.isNumber(ch))number+=ch;else{var peekCh=this.peek();if("e"==ch&&this.isExpOperator(peekCh))number+=ch;else if(this.isExpOperator(ch)&&peekCh&&this.isNumber(peekCh)&&"e"==number.charAt(number.length-1))number+=ch;else{if(!this.isExpOperator(ch)||peekCh&&this.isNumber(peekCh)||"e"!=number.charAt(number.length-1))break;this.throwError("Invalid exponent")}}this.index++}this.tokens.push({index:start,text:number,constant:!0,value:Number(number)})},readIdent:function(){for(var start=this.index;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(!this.isIdent(ch)&&!this.isNumber(ch))break;this.index++}this.tokens.push({index:start,text:this.text.slice(start,this.index),identifier:!0})},readString:function(quote){var start=this.index;this.index++;for(var string="",rawString=quote,escape=!1;this.index<this.text.length;){var ch=this.text.charAt(this.index);if(rawString+=ch,escape){if("u"===ch){var hex=this.text.substring(this.index+1,this.index+5);hex.match(/[\da-f]{4}/i)||this.throwError("Invalid unicode escape [\\u"+hex+"]"),this.index+=4,string+=String.fromCharCode(parseInt(hex,16))}else{var rep=ESCAPE[ch];string+=rep||ch}escape=!1}else if("\\"===ch)escape=!0;else{if(ch===quote)return this.index++,void this.tokens.push({index:start,text:rawString,constant:!0,value:string});string+=ch}this.index++}this.throwError("Unterminated quote",start)}};var Parser=function(lexer,$filter,options){this.lexer=lexer,this.$filter=$filter,this.options=options};Parser.ZERO=extend(function(){return 0},{sharedGetter:!0,constant:!0}),Parser.prototype={constructor:Parser,parse:function(text){this.text=text,this.tokens=this.lexer.lex(text);var value=this.statements();return 0!==this.tokens.length&&this.throwError("is an unexpected token",this.tokens[0]),value.literal=!!value.literal,value.constant=!!value.constant,value},primary:function(){var primary;this.expect("(")?(primary=this.filterChain(),this.consume(")")):this.expect("[")?primary=this.arrayDeclaration():this.expect("{")?primary=this.object():this.peek().identifier&&this.peek().text in CONSTANTS?primary=CONSTANTS[this.consume().text]:this.peek().identifier?primary=this.identifier():this.peek().constant?primary=this.constant():this.throwError("not a primary expression",this.peek());for(var next,context;next=this.expect("(","[",".");)"("===next.text?(primary=this.functionCall(primary,context),context=null):"["===next.text?(context=primary,primary=this.objectIndex(primary)):"."===next.text?(context=primary,primary=this.fieldAccess(primary)):this.throwError("IMPOSSIBLE");return primary},throwError:function(msg,token){throw $parseMinErr("syntax","Syntax Error: Token '{0}' {1} at column {2} of the expression [{3}] starting at [{4}].",token.text,msg,token.index+1,this.text,this.text.substring(token.index))},peekToken:function(){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);return this.tokens[0]},peek:function(e1,e2,e3,e4){return this.peekAhead(0,e1,e2,e3,e4)},peekAhead:function(i,e1,e2,e3,e4){if(this.tokens.length>i){var token=this.tokens[i],t=token.text;if(t===e1||t===e2||t===e3||t===e4||!e1&&!e2&&!e3&&!e4)return token}return!1},expect:function(e1,e2,e3,e4){var token=this.peek(e1,e2,e3,e4);return token?(this.tokens.shift(),token):!1},consume:function(e1){if(0===this.tokens.length)throw $parseMinErr("ueoe","Unexpected end of expression: {0}",this.text);var token=this.expect(e1);return token||this.throwError("is unexpected, expecting ["+e1+"]",this.peek()),token},unaryFn:function(op,right){var fn=OPERATORS[op];return extend(function(self,locals){return fn(self,locals,right)},{constant:right.constant,inputs:[right]})},binaryFn:function(left,op,right,isBranching){var fn=OPERATORS[op];return extend(function(self,locals){return fn(self,locals,left,right)},{constant:left.constant&&right.constant,inputs:!isBranching&&[left,right]})},identifier:function(){for(var id=this.consume().text;this.peek(".")&&this.peekAhead(1).identifier&&!this.peekAhead(2,"(");)id+=this.consume().text+this.consume().text;return getterFn(id,this.options,this.text)},constant:function(){var value=this.consume().value;return extend(function(){return value},{constant:!0,literal:!0})},statements:function(){for(var statements=[];;)if(this.tokens.length>0&&!this.peek("}",")",";","]")&&statements.push(this.filterChain()),!this.expect(";"))return 1===statements.length?statements[0]:function(self,locals){for(var value,i=0,ii=statements.length;ii>i;i++)value=statements[i](self,locals);return value}},filterChain:function(){for(var token,left=this.expression();token=this.expect("|");)left=this.filter(left);return left},filter:function(inputFn){var argsFn,args,fn=this.$filter(this.consume().text);if(this.peek(":"))for(argsFn=[],args=[];this.expect(":");)argsFn.push(this.expression());var inputs=[inputFn].concat(argsFn||[]);return extend(function(self,locals){var input=inputFn(self,locals);if(args){args[0]=input;for(var i=argsFn.length;i--;)args[i+1]=argsFn[i](self,locals);return fn.apply(undefined,args)}return fn(input)},{constant:!fn.$stateful&&inputs.every(isConstant),inputs:!fn.$stateful&&inputs})},expression:function(){return this.assignment()},assignment:function(){var right,token,left=this.ternary();return(token=this.expect("="))?(left.assign||this.throwError("implies assignment but ["+this.text.substring(0,token.index)+"] can not be assigned to",token),right=this.ternary(),extend(function(scope,locals){return left.assign(scope,right(scope,locals),locals)},{inputs:[left,right]})):left},ternary:function(){var middle,token,left=this.logicalOR();if((token=this.expect("?"))&&(middle=this.assignment(),this.consume(":"))){var right=this.assignment();return extend(function(self,locals){return left(self,locals)?middle(self,locals):right(self,locals)},{constant:left.constant&&middle.constant&&right.constant})}return left},logicalOR:function(){for(var token,left=this.logicalAND();token=this.expect("||");)left=this.binaryFn(left,token.text,this.logicalAND(),!0);return left},logicalAND:function(){for(var token,left=this.equality();token=this.expect("&&");)left=this.binaryFn(left,token.text,this.equality(),!0);return left},equality:function(){for(var token,left=this.relational();token=this.expect("==","!=","===","!==");)left=this.binaryFn(left,token.text,this.relational());return left},relational:function(){for(var token,left=this.additive();token=this.expect("<",">","<=",">=");)left=this.binaryFn(left,token.text,this.additive());return left},additive:function(){for(var token,left=this.multiplicative();token=this.expect("+","-");)left=this.binaryFn(left,token.text,this.multiplicative());return left},multiplicative:function(){for(var token,left=this.unary();token=this.expect("*","/","%");)left=this.binaryFn(left,token.text,this.unary());return left},unary:function(){var token;return this.expect("+")?this.primary():(token=this.expect("-"))?this.binaryFn(Parser.ZERO,token.text,this.unary()):(token=this.expect("!"))?this.unaryFn(token.text,this.unary()):this.primary()},fieldAccess:function(object){var getter=this.identifier();return extend(function(scope,locals,self){var o=self||object(scope,locals);return null==o?undefined:getter(o)},{assign:function(scope,value,locals){var o=object(scope,locals);return o||object.assign(scope,o={},locals),getter.assign(o,value)}})},objectIndex:function(obj){var expression=this.text,indexFn=this.expression();return this.consume("]"),extend(function(self,locals){var v,o=obj(self,locals),i=indexFn(self,locals);return ensureSafeMemberName(i,expression),o?v=ensureSafeObject(o[i],expression):undefined},{assign:function(self,value,locals){var key=ensureSafeMemberName(indexFn(self,locals),expression),o=ensureSafeObject(obj(self,locals),expression);return o||obj.assign(self,o={},locals),o[key]=value}})},functionCall:function(fnGetter,contextGetter){var argsFn=[];if(")"!==this.peekToken().text)do argsFn.push(this.expression());while(this.expect(","));this.consume(")");var expressionText=this.text,args=argsFn.length?[]:null;return function(scope,locals){var context=contextGetter?contextGetter(scope,locals):isDefined(contextGetter)?undefined:scope,fn=fnGetter(scope,locals,context)||noop;if(args)for(var i=argsFn.length;i--;)args[i]=ensureSafeObject(argsFn[i](scope,locals),expressionText);ensureSafeObject(context,expressionText),ensureSafeFunction(fn,expressionText);var v=fn.apply?fn.apply(context,args):fn(args[0],args[1],args[2],args[3],args[4]);return args&&(args.length=0),ensureSafeObject(v,expressionText)}},arrayDeclaration:function(){var elementFns=[];if("]"!==this.peekToken().text)do{if(this.peek("]"))break;elementFns.push(this.expression())}while(this.expect(","));return this.consume("]"),extend(function(self,locals){for(var array=[],i=0,ii=elementFns.length;ii>i;i++)array.push(elementFns[i](self,locals));return array},{literal:!0,constant:elementFns.every(isConstant),inputs:elementFns})},object:function(){var keys=[],valueFns=[];if("}"!==this.peekToken().text)do{if(this.peek("}"))break;var token=this.consume();token.constant?keys.push(token.value):token.identifier?keys.push(token.text):this.throwError("invalid key",token),this.consume(":"),valueFns.push(this.expression())}while(this.expect(","));return this.consume("}"),extend(function(self,locals){for(var object={},i=0,ii=valueFns.length;ii>i;i++)object[keys[i]]=valueFns[i](self,locals);return object},{literal:!0,constant:valueFns.every(isConstant),inputs:valueFns})}};var getterFnCacheDefault=createMap(),getterFnCacheExpensive=createMap(),objectValueOf=Object.prototype.valueOf,$sceMinErr=minErr("$sce"),SCE_CONTEXTS={HTML:"html",CSS:"css",URL:"url",RESOURCE_URL:"resourceUrl",JS:"js"},$compileMinErr=minErr("$compile"),urlParsingNode=document.createElement("a"),originUrl=urlResolve(window.location.href);$FilterProvider.$inject=["$provide"],currencyFilter.$inject=["$locale"],numberFilter.$inject=["$locale"];var DECIMAL_SEP=".",DATE_FORMATS={yyyy:dateGetter("FullYear",4),yy:dateGetter("FullYear",2,0,!0),y:dateGetter("FullYear",1),MMMM:dateStrGetter("Month"),MMM:dateStrGetter("Month",!0),MM:dateGetter("Month",2,1),M:dateGetter("Month",1,1),dd:dateGetter("Date",2),d:dateGetter("Date",1),HH:dateGetter("Hours",2),H:dateGetter("Hours",1),hh:dateGetter("Hours",2,-12),h:dateGetter("Hours",1,-12),mm:dateGetter("Minutes",2),m:dateGetter("Minutes",1),ss:dateGetter("Seconds",2),s:dateGetter("Seconds",1),sss:dateGetter("Milliseconds",3),EEEE:dateStrGetter("Day"),EEE:dateStrGetter("Day",!0),a:ampmGetter,Z:timeZoneGetter,ww:weekGetter(2),w:weekGetter(1)},DATE_FORMATS_SPLIT=/((?:[^yMdHhmsaZEw']+)|(?:'(?:[^']|'')*')|(?:E+|y+|M+|d+|H+|h+|m+|s+|a|Z|w+))(.*)/,NUMBER_STRING=/^\-?\d+$/;dateFilter.$inject=["$locale"];var lowercaseFilter=valueFn(lowercase),uppercaseFilter=valueFn(uppercase);orderByFilter.$inject=["$parse"];var htmlAnchorDirective=valueFn({restrict:"E",compile:function(element,attr){return attr.href||attr.xlinkHref||attr.name?void 0:function(scope,element){if("a"===element[0].nodeName.toLowerCase()){var href="[object SVGAnimatedString]"===toString.call(element.prop("href"))?"xlink:href":"href";element.on("click",function(event){element.attr(href)||event.preventDefault()})}}}}),ngAttributeAliasDirectives={};forEach(BOOLEAN_ATTR,function(propName,attrName){if("multiple"!=propName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{restrict:"A",priority:100,link:function(scope,element,attr){scope.$watch(attr[normalized],function(value){attr.$set(attrName,!!value)})}}}}}),forEach(ALIASED_ATTR,function(htmlAttr,ngAttr){ngAttributeAliasDirectives[ngAttr]=function(){return{priority:100,link:function(scope,element,attr){if("ngPattern"===ngAttr&&"/"==attr.ngPattern.charAt(0)){var match=attr.ngPattern.match(REGEX_STRING_REGEXP);if(match)return void attr.$set("ngPattern",new RegExp(match[1],match[2]))}scope.$watch(attr[ngAttr],function(value){attr.$set(ngAttr,value)})}}}}),forEach(["src","srcset","href"],function(attrName){var normalized=directiveNormalize("ng-"+attrName);ngAttributeAliasDirectives[normalized]=function(){return{priority:99,link:function(scope,element,attr){var propName=attrName,name=attrName;"href"===attrName&&"[object SVGAnimatedString]"===toString.call(element.prop("href"))&&(name="xlinkHref",attr.$attr[name]="xlink:href",propName=null),attr.$observe(normalized,function(value){return value?(attr.$set(name,value),void(msie&&propName&&element.prop(propName,attr[name]))):void("href"===attrName&&attr.$set(name,null))})}}}});var nullFormCtrl={$addControl:noop,$$renameControl:nullFormRenameControl,$removeControl:noop,$setValidity:noop,$setDirty:noop,$setPristine:noop,$setSubmitted:noop},SUBMITTED_CLASS="ng-submitted";FormController.$inject=["$element","$attrs","$scope","$animate","$interpolate"];var formDirectiveFactory=function(isNgForm){return["$timeout",function($timeout){var formDirective={name:"form",restrict:isNgForm?"EAC":"E",controller:FormController,compile:function(formElement){return formElement.addClass(PRISTINE_CLASS).addClass(VALID_CLASS),{pre:function(scope,formElement,attr,controller){if(!("action"in attr)){var handleFormSubmission=function(event){scope.$apply(function(){controller.$commitViewValue(),controller.$setSubmitted()}),event.preventDefault()};addEventListenerFn(formElement[0],"submit",handleFormSubmission),formElement.on("$destroy",function(){$timeout(function(){removeEventListenerFn(formElement[0],"submit",handleFormSubmission)},0,!1)})}var parentFormCtrl=controller.$$parentForm,alias=controller.$name;alias&&(setter(scope,null,alias,controller,alias),attr.$observe(attr.name?"name":"ngForm",function(newValue){alias!==newValue&&(setter(scope,null,alias,undefined,alias),alias=newValue,setter(scope,null,alias,controller,alias),parentFormCtrl.$$renameControl(controller,alias))})),formElement.on("$destroy",function(){parentFormCtrl.$removeControl(controller),alias&&setter(scope,null,alias,undefined,alias),extend(controller,nullFormCtrl)})}}}};return formDirective}]},formDirective=formDirectiveFactory(),ngFormDirective=formDirectiveFactory(!0),ISO_DATE_REGEXP=/\d{4}-[01]\d-[0-3]\dT[0-2]\d:[0-5]\d:[0-5]\d\.\d+([+-][0-2]\d:[0-5]\d|Z)/,URL_REGEXP=/^(ftp|http|https):\/\/(\w+:{0,1}\w*@)?(\S+)(:[0-9]+)?(\/|\/([\w#!:.?+=&%@!\-\/]))?$/,EMAIL_REGEXP=/^[a-z0-9!#$%&'*+\/=?^_`{|}~.-]+@[a-z0-9]([a-z0-9-]*[a-z0-9])?(\.[a-z0-9]([a-z0-9-]*[a-z0-9])?)*$/i,NUMBER_REGEXP=/^\s*(\-|\+)?(\d+|(\d*(\.\d*)))\s*$/,DATE_REGEXP=/^(\d{4})-(\d{2})-(\d{2})$/,DATETIMELOCAL_REGEXP=/^(\d{4})-(\d\d)-(\d\d)T(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,WEEK_REGEXP=/^(\d{4})-W(\d\d)$/,MONTH_REGEXP=/^(\d{4})-(\d\d)$/,TIME_REGEXP=/^(\d\d):(\d\d)(?::(\d\d)(\.\d{1,3})?)?$/,inputType={text:textInputType,date:createDateInputType("date",DATE_REGEXP,createDateParser(DATE_REGEXP,["yyyy","MM","dd"]),"yyyy-MM-dd"),"datetime-local":createDateInputType("datetimelocal",DATETIMELOCAL_REGEXP,createDateParser(DATETIMELOCAL_REGEXP,["yyyy","MM","dd","HH","mm","ss","sss"]),"yyyy-MM-ddTHH:mm:ss.sss"),time:createDateInputType("time",TIME_REGEXP,createDateParser(TIME_REGEXP,["HH","mm","ss","sss"]),"HH:mm:ss.sss"),week:createDateInputType("week",WEEK_REGEXP,weekParser,"yyyy-Www"),month:createDateInputType("month",MONTH_REGEXP,createDateParser(MONTH_REGEXP,["yyyy","MM"]),"yyyy-MM"),number:numberInputType,url:urlInputType,email:emailInputType,radio:radioInputType,checkbox:checkboxInputType,hidden:noop,button:noop,submit:noop,reset:noop,file:noop},inputDirective=["$browser","$sniffer","$filter","$parse",function($browser,$sniffer,$filter,$parse){return{restrict:"E",require:["?ngModel"],link:{pre:function(scope,element,attr,ctrls){ctrls[0]&&(inputType[lowercase(attr.type)]||inputType.text)(scope,element,attr,ctrls[0],$sniffer,$browser,$filter,$parse)}}}}],CONSTANT_VALUE_REGEXP=/^(true|false|\d+)$/,ngValueDirective=function(){return{restrict:"A",priority:100,compile:function(tpl,tplAttr){return CONSTANT_VALUE_REGEXP.test(tplAttr.ngValue)?function(scope,elm,attr){attr.$set("value",scope.$eval(attr.ngValue))}:function(scope,elm,attr){scope.$watch(attr.ngValue,function(value){attr.$set("value",value)})}}}},ngBindDirective=["$compile",function($compile){return{restrict:"AC",compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBind),element=element[0],scope.$watch(attr.ngBind,function(value){element.textContent=value===undefined?"":value})}}}}],ngBindTemplateDirective=["$interpolate","$compile",function($interpolate,$compile){return{compile:function(templateElement){return $compile.$$addBindingClass(templateElement),function(scope,element,attr){var interpolateFn=$interpolate(element.attr(attr.$attr.ngBindTemplate));$compile.$$addBindingInfo(element,interpolateFn.expressions),element=element[0],attr.$observe("ngBindTemplate",function(value){element.textContent=value===undefined?"":value})}}}}],ngBindHtmlDirective=["$sce","$parse","$compile",function($sce,$parse,$compile){return{restrict:"A",compile:function(tElement,tAttrs){var ngBindHtmlGetter=$parse(tAttrs.ngBindHtml),ngBindHtmlWatch=$parse(tAttrs.ngBindHtml,function(value){return(value||"").toString()});return $compile.$$addBindingClass(tElement),function(scope,element,attr){$compile.$$addBindingInfo(element,attr.ngBindHtml),scope.$watch(ngBindHtmlWatch,function(){element.html($sce.getTrustedHtml(ngBindHtmlGetter(scope))||"")})}}}}],ngChangeDirective=valueFn({restrict:"A",require:"ngModel",link:function(scope,element,attr,ctrl){ctrl.$viewChangeListeners.push(function(){scope.$eval(attr.ngChange)})}}),ngClassDirective=classDirective("",!0),ngClassOddDirective=classDirective("Odd",0),ngClassEvenDirective=classDirective("Even",1),ngCloakDirective=ngDirective({compile:function(element,attr){attr.$set("ngCloak",undefined),element.removeClass("ng-cloak")}}),ngControllerDirective=[function(){return{restrict:"A",scope:!0,controller:"@",priority:500}}],ngEventDirectives={},forceAsyncEvents={blur:!0,focus:!0};forEach("click dblclick mousedown mouseup mouseover mouseout mousemove mouseenter mouseleave keydown keyup keypress submit focus blur copy cut paste".split(" "),function(eventName){var directiveName=directiveNormalize("ng-"+eventName);ngEventDirectives[directiveName]=["$parse","$rootScope",function($parse,$rootScope){return{restrict:"A",compile:function($element,attr){var fn=$parse(attr[directiveName],null,!0);return function(scope,element){element.on(eventName,function(event){var callback=function(){fn(scope,{$event:event})};forceAsyncEvents[eventName]&&$rootScope.$$phase?scope.$evalAsync(callback):scope.$apply(callback)})}}}}]});var ngIfDirective=["$animate",function($animate){return{multiElement:!0,transclude:"element",priority:600,terminal:!0,restrict:"A",$$tlb:!0,link:function($scope,$element,$attr,ctrl,$transclude){var block,childScope,previousElements;$scope.$watch($attr.ngIf,function(value){value?childScope||$transclude(function(clone,newScope){childScope=newScope,clone[clone.length++]=document.createComment(" end ngIf: "+$attr.ngIf+" "),block={clone:clone},$animate.enter(clone,$element.parent(),$element)}):(previousElements&&(previousElements.remove(),previousElements=null),childScope&&(childScope.$destroy(),childScope=null),block&&(previousElements=getBlockNodes(block.clone),$animate.leave(previousElements).then(function(){previousElements=null}),block=null))})}}}],ngIncludeDirective=["$templateRequest","$anchorScroll","$animate","$sce",function($templateRequest,$anchorScroll,$animate,$sce){return{restrict:"ECA",priority:400,terminal:!0,transclude:"element",controller:angular.noop,compile:function(element,attr){var srcExp=attr.ngInclude||attr.src,onloadExp=attr.onload||"",autoScrollExp=attr.autoscroll;return function(scope,$element,$attr,ctrl,$transclude){var currentScope,previousElement,currentElement,changeCounter=0,cleanupLastIncludeContent=function(){previousElement&&(previousElement.remove(),previousElement=null),currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement).then(function(){previousElement=null}),previousElement=currentElement,currentElement=null)};scope.$watch($sce.parseAsResourceUrl(srcExp),function(src){var afterAnimation=function(){!isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()},thisChangeId=++changeCounter;src?($templateRequest(src,!0).then(function(response){if(thisChangeId===changeCounter){var newScope=scope.$new();ctrl.template=response;var clone=$transclude(newScope,function(clone){cleanupLastIncludeContent(),$animate.enter(clone,null,$element).then(afterAnimation)});currentScope=newScope,currentElement=clone,currentScope.$emit("$includeContentLoaded",src),scope.$eval(onloadExp)}},function(){thisChangeId===changeCounter&&(cleanupLastIncludeContent(),scope.$emit("$includeContentError",src))}),scope.$emit("$includeContentRequested",src)):(cleanupLastIncludeContent(),ctrl.template=null)})}}}}],ngIncludeFillContentDirective=["$compile",function($compile){return{restrict:"ECA",priority:-400,require:"ngInclude",link:function(scope,$element,$attr,ctrl){return/SVG/.test($element[0].toString())?($element.empty(),void $compile(jqLiteBuildFragment(ctrl.template,document).childNodes)(scope,function(clone){$element.append(clone)},{futureParentElement:$element})):($element.html(ctrl.template),void $compile($element.contents())(scope))}}}],ngInitDirective=ngDirective({priority:450,compile:function(){return{pre:function(scope,element,attrs){scope.$eval(attrs.ngInit)}}}}),ngListDirective=function(){return{restrict:"A",priority:100,require:"ngModel",link:function(scope,element,attr,ctrl){var ngList=element.attr(attr.$attr.ngList)||", ",trimValues="false"!==attr.ngTrim,separator=trimValues?trim(ngList):ngList,parse=function(viewValue){if(!isUndefined(viewValue)){var list=[];return viewValue&&forEach(viewValue.split(separator),function(value){value&&list.push(trimValues?trim(value):value)}),list}};ctrl.$parsers.push(parse),ctrl.$formatters.push(function(value){return isArray(value)?value.join(ngList):undefined}),ctrl.$isEmpty=function(value){return!value||!value.length}}}},VALID_CLASS="ng-valid",INVALID_CLASS="ng-invalid",PRISTINE_CLASS="ng-pristine",DIRTY_CLASS="ng-dirty",UNTOUCHED_CLASS="ng-untouched",TOUCHED_CLASS="ng-touched",PENDING_CLASS="ng-pending",$ngModelMinErr=new minErr("ngModel"),NgModelController=["$scope","$exceptionHandler","$attrs","$element","$parse","$animate","$timeout","$rootScope","$q","$interpolate",function($scope,$exceptionHandler,$attr,$element,$parse,$animate,$timeout,$rootScope,$q,$interpolate){this.$viewValue=Number.NaN,this.$modelValue=Number.NaN,this.$$rawModelValue=undefined,this.$validators={},this.$asyncValidators={},this.$parsers=[],this.$formatters=[],this.$viewChangeListeners=[],this.$untouched=!0,this.$touched=!1,this.$pristine=!0,this.$dirty=!1,this.$valid=!0,this.$invalid=!1,this.$error={},this.$$success={},this.$pending=undefined,this.$name=$interpolate($attr.name||"",!1)($scope);var parserValid,parsedNgModel=$parse($attr.ngModel),parsedNgModelAssign=parsedNgModel.assign,ngModelGet=parsedNgModel,ngModelSet=parsedNgModelAssign,pendingDebounce=null,ctrl=this;this.$$setOptions=function(options){if(ctrl.$options=options,options&&options.getterSetter){var invokeModelGetter=$parse($attr.ngModel+"()"),invokeModelSetter=$parse($attr.ngModel+"($$$p)");ngModelGet=function($scope){var modelValue=parsedNgModel($scope);return isFunction(modelValue)&&(modelValue=invokeModelGetter($scope)),modelValue},ngModelSet=function($scope){isFunction(parsedNgModel($scope))?invokeModelSetter($scope,{$$$p:ctrl.$modelValue}):parsedNgModelAssign($scope,ctrl.$modelValue)}}else if(!parsedNgModel.assign)throw $ngModelMinErr("nonassign","Expression '{0}' is non-assignable. Element: {1}",$attr.ngModel,startingTag($element))},this.$render=noop,this.$isEmpty=function(value){return isUndefined(value)||""===value||null===value||value!==value};var parentForm=$element.inheritedData("$formController")||nullFormCtrl,currentValidationRunId=0;addSetValidityMethod({ctrl:this,$element:$element,set:function(object,property){object[property]=!0},unset:function(object,property){delete object[property]},parentForm:parentForm,$animate:$animate}),this.$setPristine=function(){ctrl.$dirty=!1,ctrl.$pristine=!0,$animate.removeClass($element,DIRTY_CLASS),$animate.addClass($element,PRISTINE_CLASS)},this.$setDirty=function(){ctrl.$dirty=!0,ctrl.$pristine=!1,$animate.removeClass($element,PRISTINE_CLASS),$animate.addClass($element,DIRTY_CLASS),parentForm.$setDirty()},this.$setUntouched=function(){ctrl.$touched=!1,ctrl.$untouched=!0,$animate.setClass($element,UNTOUCHED_CLASS,TOUCHED_CLASS)},this.$setTouched=function(){ctrl.$touched=!0,ctrl.$untouched=!1,$animate.setClass($element,TOUCHED_CLASS,UNTOUCHED_CLASS)},this.$rollbackViewValue=function(){$timeout.cancel(pendingDebounce),ctrl.$viewValue=ctrl.$$lastCommittedViewValue,ctrl.$render()},this.$validate=function(){if(!isNumber(ctrl.$modelValue)||!isNaN(ctrl.$modelValue)){var viewValue=ctrl.$$lastCommittedViewValue,modelValue=ctrl.$$rawModelValue,prevValid=ctrl.$valid,prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$runValidators(modelValue,viewValue,function(allValid){allowInvalid||prevValid===allValid||(ctrl.$modelValue=allValid?modelValue:undefined,ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope())})}},this.$$runValidators=function(modelValue,viewValue,doneCallback){function processParseErrors(){var errorKey=ctrl.$$parserName||"parse";return parserValid!==undefined?(parserValid||(forEach(ctrl.$validators,function(v,name){setValidity(name,null)}),forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)})),setValidity(errorKey,parserValid),parserValid):(setValidity(errorKey,null),!0)}function processSyncValidators(){var syncValidatorsValid=!0;return forEach(ctrl.$validators,function(validator,name){var result=validator(modelValue,viewValue);syncValidatorsValid=syncValidatorsValid&&result,setValidity(name,result)}),syncValidatorsValid?!0:(forEach(ctrl.$asyncValidators,function(v,name){setValidity(name,null)}),!1)}function processAsyncValidators(){var validatorPromises=[],allValid=!0;forEach(ctrl.$asyncValidators,function(validator,name){var promise=validator(modelValue,viewValue);if(!isPromiseLike(promise))throw $ngModelMinErr("$asyncValidators","Expected asynchronous validator to return a promise but got '{0}' instead.",promise);setValidity(name,undefined),validatorPromises.push(promise.then(function(){setValidity(name,!0)},function(){allValid=!1,setValidity(name,!1)}))}),validatorPromises.length?$q.all(validatorPromises).then(function(){validationDone(allValid)},noop):validationDone(!0)}function setValidity(name,isValid){localValidationRunId===currentValidationRunId&&ctrl.$setValidity(name,isValid)}function validationDone(allValid){localValidationRunId===currentValidationRunId&&doneCallback(allValid)}currentValidationRunId++;var localValidationRunId=currentValidationRunId;return processParseErrors()&&processSyncValidators()?void processAsyncValidators():void validationDone(!1)},this.$commitViewValue=function(){var viewValue=ctrl.$viewValue;$timeout.cancel(pendingDebounce),(ctrl.$$lastCommittedViewValue!==viewValue||""===viewValue&&ctrl.$$hasNativeValidators)&&(ctrl.$$lastCommittedViewValue=viewValue,ctrl.$pristine&&this.$setDirty(),this.$$parseAndValidate())},this.$$parseAndValidate=function(){function writeToModelIfNeeded(){ctrl.$modelValue!==prevModelValue&&ctrl.$$writeModelToScope()}var viewValue=ctrl.$$lastCommittedViewValue,modelValue=viewValue;if(parserValid=isUndefined(modelValue)?undefined:!0)for(var i=0;i<ctrl.$parsers.length;i++)if(modelValue=ctrl.$parsers[i](modelValue),isUndefined(modelValue)){parserValid=!1;break}isNumber(ctrl.$modelValue)&&isNaN(ctrl.$modelValue)&&(ctrl.$modelValue=ngModelGet($scope));
var prevModelValue=ctrl.$modelValue,allowInvalid=ctrl.$options&&ctrl.$options.allowInvalid;ctrl.$$rawModelValue=modelValue,allowInvalid&&(ctrl.$modelValue=modelValue,writeToModelIfNeeded()),ctrl.$$runValidators(modelValue,ctrl.$$lastCommittedViewValue,function(allValid){allowInvalid||(ctrl.$modelValue=allValid?modelValue:undefined,writeToModelIfNeeded())})},this.$$writeModelToScope=function(){ngModelSet($scope,ctrl.$modelValue),forEach(ctrl.$viewChangeListeners,function(listener){try{listener()}catch(e){$exceptionHandler(e)}})},this.$setViewValue=function(value,trigger){ctrl.$viewValue=value,(!ctrl.$options||ctrl.$options.updateOnDefault)&&ctrl.$$debounceViewValueCommit(trigger)},this.$$debounceViewValueCommit=function(trigger){var debounce,debounceDelay=0,options=ctrl.$options;options&&isDefined(options.debounce)&&(debounce=options.debounce,isNumber(debounce)?debounceDelay=debounce:isNumber(debounce[trigger])?debounceDelay=debounce[trigger]:isNumber(debounce["default"])&&(debounceDelay=debounce["default"])),$timeout.cancel(pendingDebounce),debounceDelay?pendingDebounce=$timeout(function(){ctrl.$commitViewValue()},debounceDelay):$rootScope.$$phase?ctrl.$commitViewValue():$scope.$apply(function(){ctrl.$commitViewValue()})},$scope.$watch(function(){var modelValue=ngModelGet($scope);if(modelValue!==ctrl.$modelValue){ctrl.$modelValue=ctrl.$$rawModelValue=modelValue,parserValid=undefined;for(var formatters=ctrl.$formatters,idx=formatters.length,viewValue=modelValue;idx--;)viewValue=formatters[idx](viewValue);ctrl.$viewValue!==viewValue&&(ctrl.$viewValue=ctrl.$$lastCommittedViewValue=viewValue,ctrl.$render(),ctrl.$$runValidators(modelValue,viewValue,noop))}return modelValue})}],ngModelDirective=["$rootScope",function($rootScope){return{restrict:"A",require:["ngModel","^?form","^?ngModelOptions"],controller:NgModelController,priority:1,compile:function(element){return element.addClass(PRISTINE_CLASS).addClass(UNTOUCHED_CLASS).addClass(VALID_CLASS),{pre:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0],formCtrl=ctrls[1]||nullFormCtrl;modelCtrl.$$setOptions(ctrls[2]&&ctrls[2].$options),formCtrl.$addControl(modelCtrl),attr.$observe("name",function(newValue){modelCtrl.$name!==newValue&&formCtrl.$$renameControl(modelCtrl,newValue)}),scope.$on("$destroy",function(){formCtrl.$removeControl(modelCtrl)})},post:function(scope,element,attr,ctrls){var modelCtrl=ctrls[0];modelCtrl.$options&&modelCtrl.$options.updateOn&&element.on(modelCtrl.$options.updateOn,function(ev){modelCtrl.$$debounceViewValueCommit(ev&&ev.type)}),element.on("blur",function(){modelCtrl.$touched||($rootScope.$$phase?scope.$evalAsync(modelCtrl.$setTouched):scope.$apply(modelCtrl.$setTouched))})}}}}}],DEFAULT_REGEXP=/(\s+|^)default(\s+|$)/,ngModelOptionsDirective=function(){return{restrict:"A",controller:["$scope","$attrs",function($scope,$attrs){var that=this;this.$options=$scope.$eval($attrs.ngModelOptions),this.$options.updateOn!==undefined?(this.$options.updateOnDefault=!1,this.$options.updateOn=trim(this.$options.updateOn.replace(DEFAULT_REGEXP,function(){return that.$options.updateOnDefault=!0," "}))):this.$options.updateOnDefault=!0}]}},ngNonBindableDirective=ngDirective({terminal:!0,priority:1e3}),ngPluralizeDirective=["$locale","$interpolate",function($locale,$interpolate){var BRACE=/{}/g,IS_WHEN=/^when(Minus)?(.+)$/;return{restrict:"EA",link:function(scope,element,attr){function updateElementText(newText){element.text(newText||"")}var lastCount,numberExp=attr.count,whenExp=attr.$attr.when&&element.attr(attr.$attr.when),offset=attr.offset||0,whens=scope.$eval(whenExp)||{},whensExpFns={},startSymbol=$interpolate.startSymbol(),endSymbol=$interpolate.endSymbol(),braceReplacement=startSymbol+numberExp+"-"+offset+endSymbol,watchRemover=angular.noop;forEach(attr,function(expression,attributeName){var tmpMatch=IS_WHEN.exec(attributeName);if(tmpMatch){var whenKey=(tmpMatch[1]?"-":"")+lowercase(tmpMatch[2]);whens[whenKey]=element.attr(attr.$attr[attributeName])}}),forEach(whens,function(expression,key){whensExpFns[key]=$interpolate(expression.replace(BRACE,braceReplacement))}),scope.$watch(numberExp,function(newVal){var count=parseFloat(newVal),countIsNaN=isNaN(count);countIsNaN||count in whens||(count=$locale.pluralCat(count-offset)),count===lastCount||countIsNaN&&isNaN(lastCount)||(watchRemover(),watchRemover=scope.$watch(whensExpFns[count],updateElementText),lastCount=count)})}}}],ngRepeatDirective=["$parse","$animate",function($parse,$animate){var NG_REMOVED="$$NG_REMOVED",ngRepeatMinErr=minErr("ngRepeat"),updateScope=function(scope,index,valueIdentifier,value,keyIdentifier,key,arrayLength){scope[valueIdentifier]=value,keyIdentifier&&(scope[keyIdentifier]=key),scope.$index=index,scope.$first=0===index,scope.$last=index===arrayLength-1,scope.$middle=!(scope.$first||scope.$last),scope.$odd=!(scope.$even=0===(1&index))},getBlockStart=function(block){return block.clone[0]},getBlockEnd=function(block){return block.clone[block.clone.length-1]};return{restrict:"A",multiElement:!0,transclude:"element",priority:1e3,terminal:!0,$$tlb:!0,compile:function($element,$attr){var expression=$attr.ngRepeat,ngRepeatEndComment=document.createComment(" end ngRepeat: "+expression+" "),match=expression.match(/^\s*([\s\S]+?)\s+in\s+([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+track\s+by\s+([\s\S]+?))?\s*$/);if(!match)throw ngRepeatMinErr("iexp","Expected expression in form of '_item_ in _collection_[ track by _id_]' but got '{0}'.",expression);var lhs=match[1],rhs=match[2],aliasAs=match[3],trackByExp=match[4];if(match=lhs.match(/^(?:(\s*[\$\w]+)|\(\s*([\$\w]+)\s*,\s*([\$\w]+)\s*\))$/),!match)throw ngRepeatMinErr("iidexp","'_item_' in '_item_ in _collection_' should be an identifier or '(_key_, _value_)' expression, but got '{0}'.",lhs);var valueIdentifier=match[3]||match[1],keyIdentifier=match[2];if(aliasAs&&(!/^[$a-zA-Z_][$a-zA-Z0-9_]*$/.test(aliasAs)||/^(null|undefined|this|\$index|\$first|\$middle|\$last|\$even|\$odd|\$parent|\$root|\$id)$/.test(aliasAs)))throw ngRepeatMinErr("badident","alias '{0}' is invalid --- must be a valid JS identifier which is not a reserved name.",aliasAs);var trackByExpGetter,trackByIdExpFn,trackByIdArrayFn,trackByIdObjFn,hashFnLocals={$id:hashKey};return trackByExp?trackByExpGetter=$parse(trackByExp):(trackByIdArrayFn=function(key,value){return hashKey(value)},trackByIdObjFn=function(key){return key}),function($scope,$element,$attr,ctrl,$transclude){trackByExpGetter&&(trackByIdExpFn=function(key,value,index){return keyIdentifier&&(hashFnLocals[keyIdentifier]=key),hashFnLocals[valueIdentifier]=value,hashFnLocals.$index=index,trackByExpGetter($scope,hashFnLocals)});var lastBlockMap=createMap();$scope.$watchCollection(rhs,function(collection){var index,length,nextNode,collectionLength,key,value,trackById,trackByIdFn,collectionKeys,block,nextBlockOrder,elementsToRemove,previousNode=$element[0],nextBlockMap=createMap();if(aliasAs&&($scope[aliasAs]=collection),isArrayLike(collection))collectionKeys=collection,trackByIdFn=trackByIdExpFn||trackByIdArrayFn;else{trackByIdFn=trackByIdExpFn||trackByIdObjFn,collectionKeys=[];for(var itemKey in collection)collection.hasOwnProperty(itemKey)&&"$"!=itemKey.charAt(0)&&collectionKeys.push(itemKey);collectionKeys.sort()}for(collectionLength=collectionKeys.length,nextBlockOrder=new Array(collectionLength),index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],trackById=trackByIdFn(key,value,index),lastBlockMap[trackById])block=lastBlockMap[trackById],delete lastBlockMap[trackById],nextBlockMap[trackById]=block,nextBlockOrder[index]=block;else{if(nextBlockMap[trackById])throw forEach(nextBlockOrder,function(block){block&&block.scope&&(lastBlockMap[block.id]=block)}),ngRepeatMinErr("dupes","Duplicates in a repeater are not allowed. Use 'track by' expression to specify unique keys. Repeater: {0}, Duplicate key: {1}, Duplicate value: {2}",expression,trackById,value);nextBlockOrder[index]={id:trackById,scope:undefined,clone:undefined},nextBlockMap[trackById]=!0}for(var blockKey in lastBlockMap){if(block=lastBlockMap[blockKey],elementsToRemove=getBlockNodes(block.clone),$animate.leave(elementsToRemove),elementsToRemove[0].parentNode)for(index=0,length=elementsToRemove.length;length>index;index++)elementsToRemove[index][NG_REMOVED]=!0;block.scope.$destroy()}for(index=0;collectionLength>index;index++)if(key=collection===collectionKeys?index:collectionKeys[index],value=collection[key],block=nextBlockOrder[index],block.scope){nextNode=previousNode;do nextNode=nextNode.nextSibling;while(nextNode&&nextNode[NG_REMOVED]);getBlockStart(block)!=nextNode&&$animate.move(getBlockNodes(block.clone),null,jqLite(previousNode)),previousNode=getBlockEnd(block),updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)}else $transclude(function(clone,scope){block.scope=scope;var endNode=ngRepeatEndComment.cloneNode(!1);clone[clone.length++]=endNode,$animate.enter(clone,null,jqLite(previousNode)),previousNode=endNode,block.clone=clone,nextBlockMap[block.id]=block,updateScope(block.scope,index,valueIdentifier,value,keyIdentifier,key,collectionLength)});lastBlockMap=nextBlockMap})}}}}],NG_HIDE_CLASS="ng-hide",NG_HIDE_IN_PROGRESS_CLASS="ng-hide-animate",ngShowDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngShow,function(value){$animate[value?"removeClass":"addClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngHideDirective=["$animate",function($animate){return{restrict:"A",multiElement:!0,link:function(scope,element,attr){scope.$watch(attr.ngHide,function(value){$animate[value?"addClass":"removeClass"](element,NG_HIDE_CLASS,{tempClasses:NG_HIDE_IN_PROGRESS_CLASS})})}}}],ngStyleDirective=ngDirective(function(scope,element,attr){scope.$watchCollection(attr.ngStyle,function(newStyles,oldStyles){oldStyles&&newStyles!==oldStyles&&forEach(oldStyles,function(val,style){element.css(style,"")}),newStyles&&element.css(newStyles)})}),ngSwitchDirective=["$animate",function($animate){return{restrict:"EA",require:"ngSwitch",controller:["$scope",function(){this.cases={}}],link:function(scope,element,attr,ngSwitchController){var watchExpr=attr.ngSwitch||attr.on,selectedTranscludes=[],selectedElements=[],previousLeaveAnimations=[],selectedScopes=[],spliceFactory=function(array,index){return function(){array.splice(index,1)}};scope.$watch(watchExpr,function(value){var i,ii;for(i=0,ii=previousLeaveAnimations.length;ii>i;++i)$animate.cancel(previousLeaveAnimations[i]);for(previousLeaveAnimations.length=0,i=0,ii=selectedScopes.length;ii>i;++i){var selected=getBlockNodes(selectedElements[i].clone);selectedScopes[i].$destroy();var promise=previousLeaveAnimations[i]=$animate.leave(selected);promise.then(spliceFactory(previousLeaveAnimations,i))}selectedElements.length=0,selectedScopes.length=0,(selectedTranscludes=ngSwitchController.cases["!"+value]||ngSwitchController.cases["?"])&&forEach(selectedTranscludes,function(selectedTransclude){selectedTransclude.transclude(function(caseElement,selectedScope){selectedScopes.push(selectedScope);var anchor=selectedTransclude.element;caseElement[caseElement.length++]=document.createComment(" end ngSwitchWhen: ");var block={clone:caseElement};selectedElements.push(block),$animate.enter(caseElement,anchor.parent(),anchor)})})})}}}],ngSwitchWhenDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attrs,ctrl,$transclude){ctrl.cases["!"+attrs.ngSwitchWhen]=ctrl.cases["!"+attrs.ngSwitchWhen]||[],ctrl.cases["!"+attrs.ngSwitchWhen].push({transclude:$transclude,element:element})}}),ngSwitchDefaultDirective=ngDirective({transclude:"element",priority:1200,require:"^ngSwitch",multiElement:!0,link:function(scope,element,attr,ctrl,$transclude){ctrl.cases["?"]=ctrl.cases["?"]||[],ctrl.cases["?"].push({transclude:$transclude,element:element})}}),ngTranscludeDirective=ngDirective({restrict:"EAC",link:function($scope,$element,$attrs,controller,$transclude){if(!$transclude)throw minErr("ngTransclude")("orphan","Illegal use of ngTransclude directive in the template! No parent directive that requires a transclusion found. Element: {0}",startingTag($element));$transclude(function(clone){$element.empty(),$element.append(clone)})}}),scriptDirective=["$templateCache",function($templateCache){return{restrict:"E",terminal:!0,compile:function(element,attr){if("text/ng-template"==attr.type){var templateUrl=attr.id,text=element[0].text;$templateCache.put(templateUrl,text)}}}}],ngOptionsMinErr=minErr("ngOptions"),ngOptionsDirective=valueFn({restrict:"A",terminal:!0}),selectDirective=["$compile","$parse",function($compile,$parse){var NG_OPTIONS_REGEXP=/^\s*([\s\S]+?)(?:\s+as\s+([\s\S]+?))?(?:\s+group\s+by\s+([\s\S]+?))?\s+for\s+(?:([\$\w][\$\w]*)|(?:\(\s*([\$\w][\$\w]*)\s*,\s*([\$\w][\$\w]*)\s*\)))\s+in\s+([\s\S]+?)(?:\s+track\s+by\s+([\s\S]+?))?$/,nullModelCtrl={$setViewValue:noop};return{restrict:"E",require:["select","?ngModel"],controller:["$element","$scope","$attrs",function($element,$scope,$attrs){var nullOption,unknownOption,self=this,optionsMap={},ngModelCtrl=nullModelCtrl;self.databound=$attrs.ngModel,self.init=function(ngModelCtrl_,nullOption_,unknownOption_){ngModelCtrl=ngModelCtrl_,nullOption=nullOption_,unknownOption=unknownOption_},self.addOption=function(value,element){assertNotHasOwnProperty(value,'"option value"'),optionsMap[value]=!0,ngModelCtrl.$viewValue==value&&($element.val(value),unknownOption.parent()&&unknownOption.remove()),element&&element[0].hasAttribute("selected")&&(element[0].selected=!0)},self.removeOption=function(value){this.hasOption(value)&&(delete optionsMap[value],ngModelCtrl.$viewValue===value&&this.renderUnknownOption(value))},self.renderUnknownOption=function(val){var unknownVal="? "+hashKey(val)+" ?";unknownOption.val(unknownVal),$element.prepend(unknownOption),$element.val(unknownVal),unknownOption.prop("selected",!0)},self.hasOption=function(value){return optionsMap.hasOwnProperty(value)},$scope.$on("$destroy",function(){self.renderUnknownOption=noop})}],link:function(scope,element,attr,ctrls){function setupAsSingle(scope,selectElement,ngModelCtrl,selectCtrl){ngModelCtrl.$render=function(){var viewValue=ngModelCtrl.$viewValue;selectCtrl.hasOption(viewValue)?(unknownOption.parent()&&unknownOption.remove(),selectElement.val(viewValue),""===viewValue&&emptyOption.prop("selected",!0)):isUndefined(viewValue)&&emptyOption?selectElement.val(""):selectCtrl.renderUnknownOption(viewValue)},selectElement.on("change",function(){scope.$apply(function(){unknownOption.parent()&&unknownOption.remove(),ngModelCtrl.$setViewValue(selectElement.val())})})}function setupAsMultiple(scope,selectElement,ctrl){var lastView;ctrl.$render=function(){var items=new HashMap(ctrl.$viewValue);forEach(selectElement.find("option"),function(option){option.selected=isDefined(items.get(option.value))})},scope.$watch(function(){equals(lastView,ctrl.$viewValue)||(lastView=shallowCopy(ctrl.$viewValue),ctrl.$render())}),selectElement.on("change",function(){scope.$apply(function(){var array=[];forEach(selectElement.find("option"),function(option){option.selected&&array.push(option.value)}),ctrl.$setViewValue(array)})})}function setupAsOptions(scope,selectElement,ctrl){function callExpression(exprFn,key,value){return locals[valueName]=value,keyName&&(locals[keyName]=key),exprFn(scope,locals)}function selectionChanged(){scope.$apply(function(){var viewValue,collection=valuesFn(scope)||[];if(multiple)viewValue=[],forEach(selectElement.val(),function(selectedKey){selectedKey=trackFn?trackKeysCache[selectedKey]:selectedKey,viewValue.push(getViewValue(selectedKey,collection[selectedKey]))});else{var selectedKey=trackFn?trackKeysCache[selectElement.val()]:selectElement.val();viewValue=getViewValue(selectedKey,collection[selectedKey])}ctrl.$setViewValue(viewValue),render()})}function getViewValue(key,value){if("?"===key)return undefined;if(""===key)return null;var viewValueFn=selectAsFn?selectAsFn:valueFn;return callExpression(viewValueFn,key,value)}function getLabels(){var toDisplay,values=valuesFn(scope);if(values&&isArray(values)){toDisplay=new Array(values.length);for(var i=0,ii=values.length;ii>i;i++)toDisplay[i]=callExpression(displayFn,i,values[i]);return toDisplay}if(values){toDisplay={};for(var prop in values)values.hasOwnProperty(prop)&&(toDisplay[prop]=callExpression(displayFn,prop,values[prop]))}return toDisplay}function createIsSelectedFn(viewValue){var selectedSet;if(multiple)if(trackFn&&isArray(viewValue)){selectedSet=new HashMap([]);for(var trackIndex=0;trackIndex<viewValue.length;trackIndex++)selectedSet.put(callExpression(trackFn,null,viewValue[trackIndex]),!0)}else selectedSet=new HashMap(viewValue);else trackFn&&(viewValue=callExpression(trackFn,null,viewValue));return function(key,value){var compareValueFn;return compareValueFn=trackFn?trackFn:selectAsFn?selectAsFn:valueFn,multiple?isDefined(selectedSet.remove(callExpression(compareValueFn,key,value))):viewValue===callExpression(compareValueFn,key,value)}}function scheduleRendering(){renderScheduled||(scope.$$postDigest(render),renderScheduled=!0)}function updateLabelMap(labelMap,label,added){labelMap[label]=labelMap[label]||0,labelMap[label]+=added?1:-1}function render(){renderScheduled=!1;var optionGroupName,optionGroup,option,existingParent,existingOptions,existingOption,key,value,groupLength,length,groupIndex,index,selected,lastElement,element,label,optionId,optionGroups={"":[]},optionGroupNames=[""],viewValue=ctrl.$viewValue,values=valuesFn(scope)||[],keys=keyName?sortedKeys(values):values,labelMap={},isSelected=createIsSelectedFn(viewValue),anySelected=!1;for(trackKeysCache={},index=0;length=keys.length,length>index;index++)key=index,keyName&&(key=keys[index],"$"===key.charAt(0))||(value=values[key],optionGroupName=callExpression(groupByFn,key,value)||"",(optionGroup=optionGroups[optionGroupName])||(optionGroup=optionGroups[optionGroupName]=[],optionGroupNames.push(optionGroupName)),selected=isSelected(key,value),anySelected=anySelected||selected,label=callExpression(displayFn,key,value),label=isDefined(label)?label:"",optionId=trackFn?trackFn(scope,locals):keyName?keys[index]:index,trackFn&&(trackKeysCache[optionId]=key),optionGroup.push({id:optionId,label:label,selected:selected}));for(multiple||(nullOption||null===viewValue?optionGroups[""].unshift({id:"",label:"",selected:!anySelected}):anySelected||optionGroups[""].unshift({id:"?",label:"",selected:!0})),groupIndex=0,groupLength=optionGroupNames.length;groupLength>groupIndex;groupIndex++){for(optionGroupName=optionGroupNames[groupIndex],optionGroup=optionGroups[optionGroupName],optionGroupsCache.length<=groupIndex?(existingParent={element:optGroupTemplate.clone().attr("label",optionGroupName),label:optionGroup.label},existingOptions=[existingParent],optionGroupsCache.push(existingOptions),selectElement.append(existingParent.element)):(existingOptions=optionGroupsCache[groupIndex],existingParent=existingOptions[0],existingParent.label!=optionGroupName&&existingParent.element.attr("label",existingParent.label=optionGroupName)),lastElement=null,index=0,length=optionGroup.length;length>index;index++)option=optionGroup[index],(existingOption=existingOptions[index+1])?(lastElement=existingOption.element,existingOption.label!==option.label&&(updateLabelMap(labelMap,existingOption.label,!1),updateLabelMap(labelMap,option.label,!0),lastElement.text(existingOption.label=option.label),lastElement.prop("label",existingOption.label)),existingOption.id!==option.id&&lastElement.val(existingOption.id=option.id),lastElement[0].selected!==option.selected&&(lastElement.prop("selected",existingOption.selected=option.selected),msie&&lastElement.prop("selected",existingOption.selected))):(""===option.id&&nullOption?element=nullOption:(element=optionTemplate.clone()).val(option.id).prop("selected",option.selected).attr("selected",option.selected).prop("label",option.label).text(option.label),existingOptions.push(existingOption={element:element,label:option.label,id:option.id,selected:option.selected}),updateLabelMap(labelMap,option.label,!0),lastElement?lastElement.after(element):existingParent.element.append(element),lastElement=element);for(index++;existingOptions.length>index;)option=existingOptions.pop(),updateLabelMap(labelMap,option.label,!1),option.element.remove()}for(;optionGroupsCache.length>groupIndex;){for(optionGroup=optionGroupsCache.pop(),index=1;index<optionGroup.length;++index)updateLabelMap(labelMap,optionGroup[index].label,!1);optionGroup[0].element.remove()}forEach(labelMap,function(count,label){count>0?selectCtrl.addOption(label):0>count&&selectCtrl.removeOption(label)})}var match;if(!(match=optionsExp.match(NG_OPTIONS_REGEXP)))throw ngOptionsMinErr("iexp","Expected expression in form of '_select_ (as _label_)? for (_key_,)?_value_ in _collection_' but got '{0}'. Element: {1}",optionsExp,startingTag(selectElement));var displayFn=$parse(match[2]||match[1]),valueName=match[4]||match[6],selectAs=/ as /.test(match[0])&&match[1],selectAsFn=selectAs?$parse(selectAs):null,keyName=match[5],groupByFn=$parse(match[3]||""),valueFn=$parse(match[2]?match[1]:valueName),valuesFn=$parse(match[7]),track=match[8],trackFn=track?$parse(match[8]):null,trackKeysCache={},optionGroupsCache=[[{element:selectElement,label:""}]],locals={};nullOption&&($compile(nullOption)(scope),nullOption.removeClass("ng-scope"),nullOption.remove()),selectElement.empty(),selectElement.on("change",selectionChanged),ctrl.$render=render,scope.$watchCollection(valuesFn,scheduleRendering),scope.$watchCollection(getLabels,scheduleRendering),multiple&&scope.$watchCollection(function(){return ctrl.$modelValue},scheduleRendering)}if(ctrls[1]){for(var emptyOption,selectCtrl=ctrls[0],ngModelCtrl=ctrls[1],multiple=attr.multiple,optionsExp=attr.ngOptions,nullOption=!1,renderScheduled=!1,optionTemplate=jqLite(document.createElement("option")),optGroupTemplate=jqLite(document.createElement("optgroup")),unknownOption=optionTemplate.clone(),i=0,children=element.children(),ii=children.length;ii>i;i++)if(""===children[i].value){emptyOption=nullOption=children.eq(i);break}selectCtrl.init(ngModelCtrl,nullOption,unknownOption),multiple&&(ngModelCtrl.$isEmpty=function(value){return!value||0===value.length}),optionsExp?setupAsOptions(scope,element,ngModelCtrl):multiple?setupAsMultiple(scope,element,ngModelCtrl):setupAsSingle(scope,element,ngModelCtrl,selectCtrl)}}}}],optionDirective=["$interpolate",function($interpolate){var nullSelectCtrl={addOption:noop,removeOption:noop};return{restrict:"E",priority:100,compile:function(element,attr){if(isUndefined(attr.value)){var interpolateFn=$interpolate(element.text(),!0);interpolateFn||attr.$set("value",element.text())}return function(scope,element,attr){var selectCtrlName="$selectController",parent=element.parent(),selectCtrl=parent.data(selectCtrlName)||parent.parent().data(selectCtrlName);selectCtrl&&selectCtrl.databound||(selectCtrl=nullSelectCtrl),interpolateFn?scope.$watch(interpolateFn,function(newVal,oldVal){attr.$set("value",newVal),oldVal!==newVal&&selectCtrl.removeOption(oldVal),selectCtrl.addOption(newVal,element)}):selectCtrl.addOption(attr.value,element),element.on("$destroy",function(){selectCtrl.removeOption(attr.value)})}}}}],styleDirective=valueFn({restrict:"E",terminal:!1}),requiredDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){ctrl&&(attr.required=!0,ctrl.$validators.required=function(modelValue,viewValue){return!attr.required||!ctrl.$isEmpty(viewValue)},attr.$observe("required",function(){ctrl.$validate()}))}}},patternDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var regexp,patternExp=attr.ngPattern||attr.pattern;attr.$observe("pattern",function(regex){if(isString(regex)&&regex.length>0&&(regex=new RegExp("^"+regex+"$")),regex&&!regex.test)throw minErr("ngPattern")("noregexp","Expected {0} to be a RegExp but was {1}. Element: {2}",patternExp,regex,startingTag(elm));regexp=regex||undefined,ctrl.$validate()}),ctrl.$validators.pattern=function(value){return ctrl.$isEmpty(value)||isUndefined(regexp)||regexp.test(value)}}}}},maxlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var maxlength=-1;attr.$observe("maxlength",function(value){var intVal=int(value);maxlength=isNaN(intVal)?-1:intVal,ctrl.$validate()}),ctrl.$validators.maxlength=function(modelValue,viewValue){return 0>maxlength||ctrl.$isEmpty(viewValue)||viewValue.length<=maxlength}}}}},minlengthDirective=function(){return{restrict:"A",require:"?ngModel",link:function(scope,elm,attr,ctrl){if(ctrl){var minlength=0;attr.$observe("minlength",function(value){minlength=int(value)||0,ctrl.$validate()}),ctrl.$validators.minlength=function(modelValue,viewValue){return ctrl.$isEmpty(viewValue)||viewValue.length>=minlength}}}}};return window.angular.bootstrap?void console.log("WARNING: Tried to load angular more than once."):(bindJQuery(),publishExternalAPI(angular),void jqLite(document).ready(function(){angularInit(document,bootstrap)}))}(window,document),!window.angular.$$csp()&&window.angular.element(document).find("head").prepend('<style type="text/css">@charset "UTF-8";[ng\\:cloak],[ng-cloak],[data-ng-cloak],[x-ng-cloak],.ng-cloak,.x-ng-cloak,.ng-hide:not(.ng-hide-animate){display:none !important;}ng\\:form{display:block;}</style>'),define("angular",["jquery"],function(global){return function(){var ret;return ret||global.angular}}(this)),angular.module("reCAPTCHA",[]).provider("reCAPTCHA",function(){var _publicKey=null,_options={},self=this;this.setPublicKey=function(publicKey){_publicKey=publicKey},this.setOptions=function(options){_options=options},this._createScript=function($document,callback){var scriptTag=$document.createElement("script");scriptTag.type="text/javascript",scriptTag.async=!0,scriptTag.src="//www.google.com/recaptcha/api/js/recaptcha_ajax.js",scriptTag.onreadystatechange=function(){"complete"==this.readyState&&callback()},scriptTag.onload=callback;var s=$document.getElementsByTagName("body")[0];s.appendChild(scriptTag)},this.$get=["$q","$rootScope","$window","$document",function($q,$rootScope,$window,$document){var deferred=$q.defer();return $window.Recaptcha?deferred.resolve():self._createScript($document[0],deferred.resolve),{create:function(element,callback){if(!_publicKey)throw new Error("Please provide your PublicKey via setPublicKey");_options.callback=callback,deferred.promise.then(function(){$window.Recaptcha.create(_publicKey,element,_options)})},response:function(){return $window.Recaptcha.get_response()},challenge:function(){return $window.Recaptcha.get_challenge()},reload:function(){return $window.Recaptcha.reload()},destroy:function(){$window.Recaptcha&&$window.Recaptcha.destroy()}}}]}).directive("reCaptcha",["reCAPTCHA","$compile",function(reCAPTCHA,$compile){return{restrict:"A",require:"ngModel",scope:{ngModel:"="},link:function(scope,element,attrs){attrs.name||"reCaptcha";scope.clear=function(){scope.ngModel={response:"",challenge:!1}},reCAPTCHA.create(element[0],function(){scope.clear(),scope.$watch(function(){return reCAPTCHA.challenge()},function(newValue){scope.ngModel.challenge=newValue}),$compile(angular.element(document.querySelector("input#recaptcha_response_field")).attr("ng-required","true"))(scope),$compile(angular.element(document.querySelector("input#recaptcha_response_field")).attr("ng-model","ngModel.response"))(scope),$compile(angular.element(document.querySelector("a#recaptcha_reload_btn")).attr("ng-click","clear()"))(scope)}),scope.$on("$destroy",reCAPTCHA.destroy)}}}]),define("angularReCaptcha",["angular"],function(){}),function(window,angular){"use strict";function $RouteProvider(){function inherit(parent,extra){return angular.extend(new(angular.extend(function(){},{prototype:parent})),extra)}function pathRegExp(path,opts){var insensitive=opts.caseInsensitiveMatch,ret={originalPath:path,regexp:path},keys=ret.keys=[];return path=path.replace(/([().])/g,"\\$1").replace(/(\/)?:(\w+)([\?|\*])?/g,function(_,slash,key,option){var optional="?"===option?option:null,star="*"===option?option:null;return keys.push({name:key,optional:!!optional}),slash=slash||"",""+(optional?"":slash)+"(?:"+(optional?slash:"")+(star&&"(.+?)"||"([^/]+)")+(optional||"")+")"+(optional||"")}).replace(/([\/$\*])/g,"\\$1"),ret.regexp=new RegExp("^"+path+"$",insensitive?"i":""),ret}var routes={};this.when=function(path,route){if(routes[path]=angular.extend({reloadOnSearch:!0},route,path&&pathRegExp(path,route)),path){var redirectPath="/"==path[path.length-1]?path.substr(0,path.length-1):path+"/";routes[redirectPath]=angular.extend({redirectTo:path},pathRegExp(redirectPath,route))}return this},this.otherwise=function(params){return this.when(null,params),this},this.$get=["$rootScope","$location","$routeParams","$q","$injector","$http","$templateCache","$sce",function($rootScope,$location,$routeParams,$q,$injector,$http,$templateCache,$sce){function switchRouteMatcher(on,route){var keys=route.keys,params={};if(!route.regexp)return null;var m=route.regexp.exec(on);if(!m)return null;for(var i=1,len=m.length;len>i;++i){var key=keys[i-1],val="string"==typeof m[i]?decodeURIComponent(m[i]):m[i];key&&val&&(params[key.name]=val)}return params}function updateRoute(){var next=parseRoute(),last=$route.current;next&&last&&next.$$route===last.$$route&&angular.equals(next.pathParams,last.pathParams)&&!next.reloadOnSearch&&!forceReload?(last.params=next.params,angular.copy(last.params,$routeParams),$rootScope.$broadcast("$routeUpdate",last)):(next||last)&&(forceReload=!1,$rootScope.$broadcast("$routeChangeStart",next,last),$route.current=next,next&&next.redirectTo&&(angular.isString(next.redirectTo)?$location.path(interpolate(next.redirectTo,next.params)).search(next.params).replace():$location.url(next.redirectTo(next.pathParams,$location.path(),$location.search())).replace()),$q.when(next).then(function(){if(next){var template,templateUrl,locals=angular.extend({},next.resolve);return angular.forEach(locals,function(value,key){locals[key]=angular.isString(value)?$injector.get(value):$injector.invoke(value)}),angular.isDefined(template=next.template)?angular.isFunction(template)&&(template=template(next.params)):angular.isDefined(templateUrl=next.templateUrl)&&(angular.isFunction(templateUrl)&&(templateUrl=templateUrl(next.params)),templateUrl=$sce.getTrustedResourceUrl(templateUrl),angular.isDefined(templateUrl)&&(next.loadedTemplateUrl=templateUrl,template=$http.get(templateUrl,{cache:$templateCache}).then(function(response){return response.data}))),angular.isDefined(template)&&(locals.$template=template),$q.all(locals)}}).then(function(locals){next==$route.current&&(next&&(next.locals=locals,angular.copy(next.params,$routeParams)),$rootScope.$broadcast("$routeChangeSuccess",next,last))},function(error){next==$route.current&&$rootScope.$broadcast("$routeChangeError",next,last,error)}))}function parseRoute(){var params,match;return angular.forEach(routes,function(route){!match&&(params=switchRouteMatcher($location.path(),route))&&(match=inherit(route,{params:angular.extend({},$location.search(),params),pathParams:params}),match.$$route=route)}),match||routes[null]&&inherit(routes[null],{params:{},pathParams:{}})}function interpolate(string,params){var result=[];return angular.forEach((string||"").split(":"),function(segment,i){if(0===i)result.push(segment);else{var segmentMatch=segment.match(/(\w+)(.*)/),key=segmentMatch[1];result.push(params[key]),result.push(segmentMatch[2]||""),delete params[key]}}),result.join("")}var forceReload=!1,$route={routes:routes,reload:function(){forceReload=!0,$rootScope.$evalAsync(updateRoute)}};return $rootScope.$on("$locationChangeSuccess",updateRoute),$route}]}function $RouteParamsProvider(){this.$get=function(){return{}
}}function ngViewFactory($route,$anchorScroll,$animate){return{restrict:"ECA",terminal:!0,priority:400,transclude:"element",link:function(scope,$element,attr,ctrl,$transclude){function cleanupLastView(){currentScope&&(currentScope.$destroy(),currentScope=null),currentElement&&($animate.leave(currentElement),currentElement=null)}function update(){var locals=$route.current&&$route.current.locals,template=locals&&locals.$template;if(angular.isDefined(template)){var newScope=scope.$new(),current=$route.current,clone=$transclude(newScope,function(clone){$animate.enter(clone,null,currentElement||$element,function(){!angular.isDefined(autoScrollExp)||autoScrollExp&&!scope.$eval(autoScrollExp)||$anchorScroll()}),cleanupLastView()});currentElement=clone,currentScope=current.scope=newScope,currentScope.$emit("$viewContentLoaded"),currentScope.$eval(onloadExp)}else cleanupLastView()}var currentScope,currentElement,autoScrollExp=attr.autoscroll,onloadExp=attr.onload||"";scope.$on("$routeChangeSuccess",update),update()}}}function ngViewFillContentFactory($compile,$controller,$route){return{restrict:"ECA",priority:-400,link:function(scope,$element){var current=$route.current,locals=current.locals;$element.html(locals.$template);var link=$compile($element.contents());if(current.controller){locals.$scope=scope;var controller=$controller(current.controller,locals);current.controllerAs&&(scope[current.controllerAs]=controller),$element.data("$ngControllerController",controller),$element.children().data("$ngControllerController",controller)}link(scope)}}}var ngRouteModule=angular.module("ngRoute",["ng"]).provider("$route",$RouteProvider);ngRouteModule.provider("$routeParams",$RouteParamsProvider),ngRouteModule.directive("ngView",ngViewFactory),ngRouteModule.directive("ngView",ngViewFillContentFactory),ngViewFactory.$inject=["$route","$anchorScroll","$animate"],ngViewFillContentFactory.$inject=["$compile","$controller","$route"]}(window,window.angular),define("angularRoute",["angular"],function(){}),define("text",["module"],function(module){"use strict";var text,fs,Cc,Ci,xpcIsWindows,progIds=["Msxml2.XMLHTTP","Microsoft.XMLHTTP","Msxml2.XMLHTTP.4.0"],xmlRegExp=/^\s*<\?xml(\s)+version=[\'\"](\d)*.(\d)*[\'\"](\s)*\?>/im,bodyRegExp=/<body[^>]*>\s*([\s\S]+)\s*<\/body>/im,hasLocation="undefined"!=typeof location&&location.href,defaultProtocol=hasLocation&&location.protocol&&location.protocol.replace(/\:/,""),defaultHostName=hasLocation&&location.hostname,defaultPort=hasLocation&&(location.port||void 0),buildMap={},masterConfig=module.config&&module.config()||{};return text={version:"2.0.12",strip:function(content){if(content){content=content.replace(xmlRegExp,"");var matches=content.match(bodyRegExp);matches&&(content=matches[1])}else content="";return content},jsEscape:function(content){return content.replace(/(['\\])/g,"\\$1").replace(/[\f]/g,"\\f").replace(/[\b]/g,"\\b").replace(/[\n]/g,"\\n").replace(/[\t]/g,"\\t").replace(/[\r]/g,"\\r").replace(/[\u2028]/g,"\\u2028").replace(/[\u2029]/g,"\\u2029")},createXhr:masterConfig.createXhr||function(){var xhr,i,progId;if("undefined"!=typeof XMLHttpRequest)return new XMLHttpRequest;if("undefined"!=typeof ActiveXObject)for(i=0;3>i;i+=1){progId=progIds[i];try{xhr=new ActiveXObject(progId)}catch(e){}if(xhr){progIds=[progId];break}}return xhr},parseName:function(name){var modName,ext,temp,strip=!1,index=name.indexOf("."),isRelative=0===name.indexOf("./")||0===name.indexOf("../");return-1!==index&&(!isRelative||index>1)?(modName=name.substring(0,index),ext=name.substring(index+1,name.length)):modName=name,temp=ext||modName,index=temp.indexOf("!"),-1!==index&&(strip="strip"===temp.substring(index+1),temp=temp.substring(0,index),ext?ext=temp:modName=temp),{moduleName:modName,ext:ext,strip:strip}},xdRegExp:/^((\w+)\:)?\/\/([^\/\\]+)/,useXhr:function(url,protocol,hostname,port){var uProtocol,uHostName,uPort,match=text.xdRegExp.exec(url);return match?(uProtocol=match[2],uHostName=match[3],uHostName=uHostName.split(":"),uPort=uHostName[1],uHostName=uHostName[0],!(uProtocol&&uProtocol!==protocol||uHostName&&uHostName.toLowerCase()!==hostname.toLowerCase()||(uPort||uHostName)&&uPort!==port)):!0},finishLoad:function(name,strip,content,onLoad){content=strip?text.strip(content):content,masterConfig.isBuild&&(buildMap[name]=content),onLoad(content)},load:function(name,req,onLoad,config){if(config&&config.isBuild&&!config.inlineText)return void onLoad();masterConfig.isBuild=config&&config.isBuild;var parsed=text.parseName(name),nonStripName=parsed.moduleName+(parsed.ext?"."+parsed.ext:""),url=req.toUrl(nonStripName),useXhr=masterConfig.useXhr||text.useXhr;return 0===url.indexOf("empty:")?void onLoad():void(!hasLocation||useXhr(url,defaultProtocol,defaultHostName,defaultPort)?text.get(url,function(content){text.finishLoad(name,parsed.strip,content,onLoad)},function(err){onLoad.error&&onLoad.error(err)}):req([nonStripName],function(content){text.finishLoad(parsed.moduleName+"."+parsed.ext,parsed.strip,content,onLoad)}))},write:function(pluginName,moduleName,write){if(buildMap.hasOwnProperty(moduleName)){var content=text.jsEscape(buildMap[moduleName]);write.asModule(pluginName+"!"+moduleName,"define(function () { return '"+content+"';});\n")}},writeFile:function(pluginName,moduleName,req,write,config){var parsed=text.parseName(moduleName),extPart=parsed.ext?"."+parsed.ext:"",nonStripName=parsed.moduleName+extPart,fileName=req.toUrl(parsed.moduleName+extPart)+".js";text.load(nonStripName,req,function(){var textWrite=function(contents){return write(fileName,contents)};textWrite.asModule=function(moduleName,contents){return write.asModule(moduleName,fileName,contents)},text.write(pluginName,nonStripName,textWrite,config)},config)}},"node"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof process&&process.versions&&process.versions.node&&!process.versions["node-webkit"]?(fs=require.nodeRequire("fs"),text.get=function(url,callback,errback){try{var file=fs.readFileSync(url,"utf8");0===file.indexOf("﻿")&&(file=file.substring(1)),callback(file)}catch(e){errback&&errback(e)}}):"xhr"===masterConfig.env||!masterConfig.env&&text.createXhr()?text.get=function(url,callback,errback,headers){var header,xhr=text.createXhr();if(xhr.open("GET",url,!0),headers)for(header in headers)headers.hasOwnProperty(header)&&xhr.setRequestHeader(header.toLowerCase(),headers[header]);masterConfig.onXhr&&masterConfig.onXhr(xhr,url),xhr.onreadystatechange=function(){var status,err;4===xhr.readyState&&(status=xhr.status||0,status>399&&600>status?(err=new Error(url+" HTTP status: "+status),err.xhr=xhr,errback&&errback(err)):callback(xhr.responseText),masterConfig.onXhrComplete&&masterConfig.onXhrComplete(xhr,url))},xhr.send(null)}:"rhino"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Packages&&"undefined"!=typeof java?text.get=function(url,callback){var stringBuffer,line,encoding="utf-8",file=new java.io.File(url),lineSeparator=java.lang.System.getProperty("line.separator"),input=new java.io.BufferedReader(new java.io.InputStreamReader(new java.io.FileInputStream(file),encoding)),content="";try{for(stringBuffer=new java.lang.StringBuffer,line=input.readLine(),line&&line.length()&&65279===line.charAt(0)&&(line=line.substring(1)),null!==line&&stringBuffer.append(line);null!==(line=input.readLine());)stringBuffer.append(lineSeparator),stringBuffer.append(line);content=String(stringBuffer.toString())}finally{input.close()}callback(content)}:("xpconnect"===masterConfig.env||!masterConfig.env&&"undefined"!=typeof Components&&Components.classes&&Components.interfaces)&&(Cc=Components.classes,Ci=Components.interfaces,Components.utils["import"]("resource://gre/modules/FileUtils.jsm"),xpcIsWindows="@mozilla.org/windows-registry-key;1"in Cc,text.get=function(url,callback){var inStream,convertStream,fileObj,readData={};xpcIsWindows&&(url=url.replace(/\//g,"\\")),fileObj=new FileUtils.File(url);try{inStream=Cc["@mozilla.org/network/file-input-stream;1"].createInstance(Ci.nsIFileInputStream),inStream.init(fileObj,1,0,!1),convertStream=Cc["@mozilla.org/intl/converter-input-stream;1"].createInstance(Ci.nsIConverterInputStream),convertStream.init(inStream,"utf-8",inStream.available(),Ci.nsIConverterInputStream.DEFAULT_REPLACEMENT_CHARACTER),convertStream.readString(inStream.available(),readData),convertStream.close(),inStream.close(),callback(readData.value)}catch(e){throw new Error((fileObj&&fileObj.path||"")+": "+e)}}),text}),define("text!app/modules/navbar/templates/navbar.html",[],function(){return'<div ng-controller="navbarController" class="container">\n  <div class="row site-header">\n    <div class="col-md-2 col-sm-2">\n      <a class="navbar-brand" href="/">\n        <span class="header-title">RABADABA</span>\n      </a>\n    </div>\n    <div class="col-md-5 col-sm-5 sign-up">\n      <a href sign-in-up="signup" class="sign-up-modal pull-right uppercase" ng-if="!currentUser.isLoggedIn">\n        <i class="fa fa-pencil fa-lg"></i> Sign Up\n      </a>\n\n      <a href class="pull-right dropdown-toggle user-card-min" ng-if="currentUser.isLoggedIn">\n        <div class="pull-right">\n          <img\n            ng-if="currentUser.getInfo().avatar"\n            height="34"\n            ng-src="{{currentUser.getInfo().avatar}}"\n            class="img-circle"\n            alt="" />\n        </div>\n\n        <div class="pull-right user-card-nav">\n          <b class="capitalize user-name">{{currentUser.getInfo().username}}</b>\n          <span class=\'user-balance\'>\n            <i class="fa fa-database"></i> ${{currentUser.getInfo().balance}}\n          </span>\n        </div>\n      </a>\n      <a href class="pull-right carrot separator" ng-if="currentUser.isLoggedIn">\n        <img src="/img/carrot.png">\n        <span class="notification-count">3</span>\n      </a>\n      <a href="/" class="pull-right home separator">\n        <img src="/img/home.png">\n      </a>\n      <ul class="dropdown-menu dropdown-me" role="menu" ng-if="currentUser.isLoggedIn">\n        <li>\n          <a href="/profile">Profile Settings <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard">Feeds <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard/payments/settings">Payment Settings <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard/payments/history">Payment History <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard/history/post">Account History <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard/favorites">Favorites <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard/followers">Followers <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard/following">Following <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href="/dashboard">Tags You Follow <i class="fa fa-long-arrow-right fa-lg"></i></a>\n        </li>\n        <li>\n          <a href ng-click="signout($event)">Logout <i class="fa fa-lock fa-lg"></i></a>\n        </li>\n      </ul>\n    </div>\n    <div class="col-md-1 col-sm-1">\n      <a href sign-in-up="signin" class="sign-in-modal uppercase" ng-if="!currentUser.isLoggedIn">\n        <i class="fa fa-lock fa-lg"></i> Login\n      </a>\n\n      <a href class="dropdown-toggle" ng-if="currentUser.isLoggedIn">\n        <img src="/img/join-ico.png">\n        <span class="sr-only">(current)</span>\n      </a>\n      <upload-menu ng-if="currentUser.isLoggedIn"></upload-menu>\n    </div>\n    <div class="col-md-3 col-sm-3">\n      <div class="custom-input navbar-input-search">\n        <i class="fa fa-search"></i>\n        <input search-field class="form-control " />\n      </div>\n    </div>\n    <div class="col-md-1 col-sm-1">\n      <div class="pull-right hamburger-icon">\n        <a href class="dropdown-toggle">\n          <i class="fa fa-bars fa-lg"></i>\n        </a>\n        <ul class="dropdown-menu dropdown-hamburger">\n          <li>\n            <a href="/">Tags Diretory <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/about ">About <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/contact">Contact <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/terms">Terms <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/support">Support <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n        </ul>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("text!app/modules/navbar/templates/navbar_new.html",[],function(){return'<div ng-controller="navbarController" class="container">\n  <div class="row site-header">\n    <a class="navbar-brand" href="/">\n      <span class="header-title">RABADABA</span>\n    </a>\n\n    <!-- IF USER NOT LOGGED -->\n    <div ng-if="!currentUser.isLoggedIn" class="right-header-part">\n      <div class="pull-right hamburger-icon">\n        <a href class="dropdown-toggle">\n          <i class="fa fa-bars fa-lg"></i>\n        </a>\n        <ul class="dropdown-menu dropdown-hamburger">\n          <li>\n            <a href="/">Tags Diretory <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/about ">About <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/contact">Contact <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/terms">Terms <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/support">Support <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n        </ul>\n      </div>\n\n      <div class="custom-input navbar-input-search pull-right hidden-xs">\n        <i class="fa fa-search"></i>\n        <input search-field class="form-control " />\n      </div>\n\n      <a href sign-in-up="signin" class="sign-in-modal uppercase pull-right"  ng-if="!currentUser.isLoggedIn">\n        <i class="fa fa-lock fa-lg"></i> Login\n      </a>\n\n      <a href sign-in-up="signup" class="sign-up-modal uppercase pull-right separator" ng-if="!currentUser.isLoggedIn">\n        <i class="fa fa-pencil fa-lg"></i> Sign Up\n      </a>\n      <a href="/" class="pull-right home hidden-xs">\n        <img src="/img/home.png">\n      </a>\n    </div>\n\n\n\n\n    <!-- IF USER LOGGED -->\n    <div ng-if="currentUser.isLoggedIn" class="right-header-part">\n      <div class="pull-right hamburger-icon">\n        <a href class="dropdown-toggle">\n          <i class="fa fa-bars fa-lg"></i>\n        </a>\n        <ul class="dropdown-menu dropdown-hamburger">\n          <li>\n            <a href="/profile">Profile Settings <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard">Feeds <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard/payments/settings">Payment Settings <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard/payments/history">Payment History <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard/history/posts">Account History <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard/favorites">Favorites <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard/followers">Followers <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard/following">Following <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href="/dashboard/tags">Tags You Follow <i class="fa fa-long-arrow-right fa-lg"></i></a>\n          </li>\n          <li>\n            <a href ng-click="signout($event)">Logout <i class="fa fa-lock fa-lg"></i></a>\n          </li>\n        </ul>\n      </div>\n\n      <div class="custom-input navbar-input-search pull-right hidden-xs">\n        <i class="fa fa-search"></i>\n        <input search-field class="form-control " />\n      </div>\n\n      <div class="pull-right header-join">\n        <a href class="dropdown-toggle" ng-if="currentUser.isLoggedIn">\n          <img src="/img/join-ico.png">\n          <span class="sr-only">(current)</span>\n        </a>\n        <upload-menu ng-if="currentUser.isLoggedIn"></upload-menu>\n      </div>\n\n\n\n      <div class="pull-right user-card-min separator" ng-if="currentUser.isLoggedIn">\n        <a href="/dashboard">\n        <div class="pull-right">\n          <img\n            ng-if="currentUser.getInfo().avatar"\n            height="34"\n            ng-src="{{currentUser.getInfo().avatar}}"\n            class="img-circle"\n            alt="" />\n        </div>\n\n        <div class="pull-right user-card-navbar">\n          <b class="capitalize user-name">{{currentUser.getInfo().username}}</b>\n          <span class=\'user-balance\'>\n            <i class="fa fa-database"></i> ${{currentUser.getInfo().balance}}\n          </span>\n        </div>\n        </a>\n      </div>\n\n      <a href class="pull-right carrot separator" ng-if="currentUser.isLoggedIn">\n        <img src="/img/carrot.png">\n        <span class="notification-count">3</span>\n      </a>\n\n      <a href="/" class="pull-right home separator">\n        <img src="/img/home.png">\n      </a>\n\n    </div>\n\n  </div>\n\n\n\n<!--   <div class="row site-header-input hidden-sm hidden-md hidden-lg">\n    <div class="col-sm-12 full-custom-search">\n      <div class="custom-input full-custom-input">\n        <i class="fa fa-search"></i>\n        <input search-field class="form-control " />\n      </div>\n    </div>\n  </div> -->\n</div>\n'}),define("text!app/modules/navbar/templates/signup.html",[],function(){return'<div class="container">\n  <h2 class="form-create-heading">Create new account</h2>\n  <div ng-switch="state">\n    <div ng-switch-when="form">\n      <form class="sign-up-form"  name="signUpForm" novalidate>\n        <input type="text" ng-model="data.username"\n          class="form-control" placeholder="username"\n          name="username" ng-minlength="3" required/>\n        <div ng-messages="signUpForm.username.$error">\n          <div ng-message="minlength">Username is too short</div>\n        </div>\n        <br/>\n\n        <input\n          type="email"\n          ng-model="data.email"\n          class="form-control"\n          placeholder="email"\n          name="email"\n          required/>\n        <div ng-messages="signUpForm.email.$error">\n          <div ng-message="email">Email is invalid</div>\n        </div>\n        <br/>\n\n        <input\n          type="password"\n          ng-model="data.password"\n          class="form-control"\n          placeholder="password"\n          name="password"\n          ng-minlength="6"\n          required/>\n        <div ng-messages="signUpForm.password.$error">\n          <div ng-message="minlength">Password is too short</div>\n        </div>\n        <br/>\n        <div re-captcha ng-model="data.captcha"></div>\n        <br/>\n        <button\n          ng-hide="isPending"\n          ng-disabled="signUpForm.$invalid"\n          class="btn btn-theme btn-block"\n          ng-click="submitDialog()">Sign Up</button>\n        <button ng-show="isPending" class="btn btn-theme btn-block">Loading...</button>\n        <button class="btn btn-theme btn-block" ng-click="closeDialog()">Close</button>\n      </form>\n    </div>\n    <div ng-switch-when="success">\n      <h3>Please confirm your account. We sent link to email.</h3>\n      <button class="btn btn-theme btn-block" ng-click="closeDialog()">Close</button>\n    </div>\n    <div ng-switch-when="error">\n      <h3>{{message}}</h3>\n      <button class="btn btn-theme btn-block" ng-click="showForm()">Try again</button>\n    </div>\n  </div>\n</div>\n\n'}),define("app/modules/navbar/controllers/signUpModalController",["require"],function(){"use strict";return["$scope","$modalInstance","userCreationFactory",function($scope,$modalInstance,userCreationFactory){$scope.isPending=!1,$scope.message="",$scope.data={},$scope.state="form",$scope.showForm=function(){$scope.state="form"},$scope.closeDialog=function(){$modalInstance.close()},$scope.submitDialog=function(){$scope.isPending=!0,userCreationFactory.create($scope.data).success(function(){$scope.state="success"}).error(function(data){$scope.message=data.error,$scope.state="error"})},$scope.$watch("state",function(newValue,oldValue){var validValues=["form","error","success"],isValid=validValues.indexOf(newValue)>=0;isValid?($scope.state=newValue,$scope.isPending=!1):$scope.state=oldValue})}]}),define("text!app/modules/navbar/templates/signin.html",[],function(){return'<div class="container">\n  <div ng-switch="state">\n    <div ng-switch-when="signin">\n      <form class="form-login" ng-submit="submitDialog($event)" name="loginForm">\n        <h2 class="form-login-heading">sign in now</h2>\n        <div class="login-wrap">\n          <input ng-model="data.login" type="text" class="form-control" placeholder="username" autofocus>\n          <br>\n          <input ng-model="data.password" type="password" class="form-control" placeholder="password">\n          <label class="checkbox">\n          <input type="checkbox" value="remember-me"> Remember me\n          <span class="pull-right">\n            <a href="#" ng-click="showForgotForm($event)"> Forgot Password?</a>\n          </span>\n          </label>\n          <button ng-hide="isPending" ng-disabled="!isValid" class="btn btn-theme btn-block" type="submit">\n            <i class="fa fa-lock"></i> SIGN IN\n          </button>\n          <button ng-show="isPending" class="btn btn-theme btn-block">\n            <i class="fa fa-lock"></i> Loading...\n          </button>\n          <button class="btn btn-theme btn-block" type="button" ng-click="closeDialog()">CLOSE</button>\n        </div>\n      </form>\n    </div>\n    <div ng-switch-when="forgot">\n      <form class="form-login" name="forgotForm">\n        <h2 class="form-login-heading">Forgot Password</h2>\n        <div class="login-wrap">\n          <input type="text" class="form-control" placeholder="username" autofocus>\n          <br>\n          <button class="btn btn-theme btn-block">\n            <i class="fa fa-lock"></i> send\n          </button>\n          <button class="btn btn-theme btn-block" type="button" ng-click="closeDialog()">CLOSE</button>\n        </div>\n      </form>\n    </div>\n    <div ng-switch-when="error">\n      <h3>{{message}}</h3>\n      <button class="btn btn-theme btn-block" ng-click="showSignInForm($event)">Try again</button>\n    </div>\n  </div>\n</div>\n'}),define("app/modules/navbar/controllers/signInModalController",[],function(){"use strict";return["$scope","$modalInstance","loginFactory","userFactory","profileFactory",function($scope,$modalInstance,loginFactory){$scope.isValid=!1,$scope.isPending=!1,$scope.message="",$scope.data={},$scope.state="signin",$scope.closeDialog=function(){$modalInstance.close()},$scope.showForgotForm=function(e){e.preventDefault(),$scope.state="forgot"},$scope.showSignInForm=function(e){e.preventDefault(),$scope.state="signin"},$scope.submitDialog=function(e){return e.preventDefault(),$scope.isValid?($scope.isPending=!0,void loginFactory.login($scope.data.login,$scope.data.password).then(function(){$modalInstance.close()})["catch"](function(data){$scope.message=data.error,$scope.state="error"})):!1},$scope.$watch("data",function(newValue){var isLogin=newValue.login&&newValue.login.length>=3,isPassword=newValue.password&&newValue.password.length>0;$scope.isValid=isLogin&&isPassword},!0),$scope.$watch("state",function(newValue,oldValue){var validValues=["signin","forgot","error","success"],isValid=validValues.indexOf(newValue)>=0;isValid?($scope.state=newValue,$scope.isPending=!1):$scope.state=oldValue})}]}),define("app/modules/navbar/controllers/navbarController",["text!../templates/signup.html","./signUpModalController","text!../templates/signin.html","./signInModalController"],function(signUpTemplate,signUpController,signInTemplate,signInController){"use strict";return["$scope","$modal","$route","userFactory","loginFactory",function($scope,$modal,$route,currentUser,loginFactory){$scope.currentUser=currentUser,$scope.isSearchPage=function(){return"/search"===$route.current.originalPath},$scope.signout=function(e){e.preventDefault(),loginFactory.logout()},$scope.openSignUpModal=function(e){e.preventDefault();$modal.open({template:signUpTemplate,controller:signUpController,backdrop:"static",keyboard:!1})},$scope.openSignInModal=function(e){e.preventDefault();$modal.open({template:signInTemplate,controller:signInController,backdrop:"static",keyboard:!1})}}]}),function(window,angular,undefined){"use strict";angular.module("ngCookies",["ng"]).factory("$cookies",["$rootScope","$browser",function($rootScope,$browser){function push(){var name,value,browserCookies,updated;for(name in lastCookies)isUndefined(cookies[name])&&$browser.cookies(name,undefined);for(name in cookies)value=cookies[name],angular.isString(value)?value!==lastCookies[name]&&($browser.cookies(name,value),updated=!0):angular.isDefined(lastCookies[name])?cookies[name]=lastCookies[name]:delete cookies[name];if(updated){updated=!1,browserCookies=$browser.cookies();for(name in cookies)cookies[name]!==browserCookies[name]&&(isUndefined(browserCookies[name])?delete cookies[name]:cookies[name]=browserCookies[name],updated=!0)}}var lastBrowserCookies,cookies={},lastCookies={},runEval=!1,copy=angular.copy,isUndefined=angular.isUndefined;return $browser.addPollFn(function(){var currentCookies=$browser.cookies();lastBrowserCookies!=currentCookies&&(lastBrowserCookies=currentCookies,copy(currentCookies,lastCookies),copy(currentCookies,cookies),runEval&&$rootScope.$apply())})(),runEval=!0,$rootScope.$watch(push),cookies}]).factory("$cookieStore",["$cookies",function($cookies){return{get:function(key){var value=$cookies[key];return value?angular.fromJson(value):value},put:function(key,value){$cookies[key]=angular.toJson(value)},remove:function(key){delete $cookies[key]}}}])}(window,window.angular),define("angularCookies",["angular"],function(){}),angular.module("angularLocalStorage",["ngCookies"]).factory("storage",["$parse","$cookieStore","$window","$log",function($parse,$cookieStore,$window,$log){var storage="undefined"==typeof $window.localStorage?void 0:$window.localStorage,supported=!("undefined"==typeof storage||"undefined"==typeof $window.JSON),privateMethods={parseValue:function(res){var val;try{val=$window.JSON.parse(res),"undefined"==typeof val&&(val=res),"true"===val&&(val=!0),"false"===val&&(val=!1),$window.parseFloat(val)!==val||angular.isObject(val)||(val=$window.parseFloat(val))}catch(e){val=res}return val}},publicMethods={set:function(key,value){if(!supported)try{return $cookieStore.put(key,value),value}catch(e){$log.log("Local Storage not supported, make sure you have angular-cookies enabled.")}var saver=$window.JSON.stringify(value);return storage.setItem(key,saver),privateMethods.parseValue(saver)},get:function(key){if(!supported)try{return privateMethods.parseValue($.cookie(key))}catch(e){return null}var item=storage.getItem(key);return privateMethods.parseValue(item)},remove:function(key){if(!supported)try{return $cookieStore.remove(key),!0}catch(e){return!1}return storage.removeItem(key),!0},bind:function($scope,key,opts){var defaultOpts={defaultValue:"",storeName:""};opts=angular.isString(opts)?angular.extend({},defaultOpts,{defaultValue:opts}):angular.isUndefined(opts)?defaultOpts:angular.extend(defaultOpts,opts);var storeName=opts.storeName||key;return publicMethods.get(storeName)||publicMethods.set(storeName,opts.defaultValue),$parse(key).assign($scope,publicMethods.get(storeName)),$scope.$watch(key,function(val){angular.isDefined(val)&&publicMethods.set(storeName,val)},!0),publicMethods.get(storeName)},unbind:function($scope,key,storeName){storeName=storeName||key,$parse(key).assign($scope,null),$scope.$watch(key,function(){}),publicMethods.remove(storeName)},clearAll:function(){storage.clear()}};return publicMethods}]),define("angularLocalStorage",["angular","angularCookies"],function(){}),define("app/common/context/user",["angular","angularLocalStorage"],function(angular){"use strict";return angular.module("ernr.userService",["angularLocalStorage"]).factory("userFactory",["$http","storage",function($http,storage){var token,service={},info={},authentication={isAuth:!1,token:"",userData:{}};return service.isLoggedIn=!1,service.getToken=function(){return token},service.setToken=function(value){value?(this.isLoggedIn=!0,token=value):(this.isLoggedIn=!1,token=void 0,this.clearInfo()),$http.defaults.headers.common["x-access-token"]=token},service.fillInfo=function(obj){info=angular.extend(info,obj),authentication.token=token,authentication.isAuth=service.isLoggedIn,authentication.userData=info,service.saveLocal(authentication)},service.clearInfo=function(){info={},service.saveLocal({})},service.getInfo=function(){return info},service.saveLocal=function(obj){obj=obj||{},storage.set("authenticationData",obj)},service.loadFromLocal=function(){var data=storage.get("authenticationData");data=data||{},token=data.token,service.isLoggedIn=data.isAuth,info=data.userData||{},service.setToken(token)},service.reshare=function(){console.log("reshare")},service.upvote=function(){console.log("upvote")},service.downvote=function(){console.log("downvote")},service.singleShare=function(){console.log("singleShare")},service.flag=function(){console.log("flag")},service.commentUpvote=function(){console.log("commentUpvote")},service.commentDownvote=function(){console.log("commentDownvote")},service.commentFlag=function(){console.log("commentFlag")},service.prev=function(){console.log("prev")},service.next=function(){console.log("next")},service.imageFilter=function(){console.log("imageFilter")},service.videoFilter=function(){console.log("videoFilter")},service.audioFilter=function(){console.log("audioFilter")},service.textFilter=function(){console.log("textFilter")},service.pathUp=function(){console.log("pathUp")},service.pathDown=function(){console.log("pathDown")},service.rabbitHoleUp=function(){console.log("rabbitHoleUp")},service.rabbitHoleDown=function(){console.log("rabbitHoleDown")},service}])}),define("app/common/resources/constants/constants",["angular"],function(angular){"use strict";var constansModule=angular.module("common.resources.constant",[]).constant("apiDomain",{domain:"http://api.dev.rabadaba.com",search:"http://rabadaba-search.herokuapp.com",rabbitHole:"http://r-dev.rabadaba.com/query?"});return constansModule}),define("app/common/services/profileService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";return angular.module("ernr.ProfileService",["common.resources.constant"]).factory("profileFactory",["$http","$q","apiDomain",function($http,$q,constant){return{getProfile:function(id){var deferred=$q.defer(),promises=[];return id?promises.push($http.get(constant.domain+"/user/"+id+"/profile")):(promises.push($http.get(constant.domain+"/account/profile")),promises.push(this.stats())),$q.all(promises).then(function(responses){var user;user=responses.length>1?angular.extend(responses[0].data.result,responses[1].data.result):responses[0].data.result,deferred.resolve(user)
})["catch"](function(err){deferred.reject(err)}),deferred.promise},setProfile:function(data){return $http.post(constant.domain+"/account/profile",data)},stats:function(){return $http.get(constant.domain+"/account/stats")}}}])}),define("app/common/services/notificationsService",["angular"],function(angular){"use strict";return angular.module("ernr.notifications",[]).factory("notifications",["$rootScope",function($rootScope){var _START_REQUEST_="_START_REQUEST_",_END_REQUEST_="_END_REQUEST_",_ENTITY_CLICKED_="_ENTITY_CLICKED_",_LOGIN_SUCCESS_="_LOGIN_SUCCESS_",_NEW_FEED_ADDED_="_NEW_FEED_ADDED_",requestStarted=function(){$rootScope.$broadcast(_START_REQUEST_)},requestEnded=function(){$rootScope.$broadcast(_END_REQUEST_)},entityClicked=function(args){$rootScope.$broadcast(_ENTITY_CLICKED_,args)},loginSuccess=function(args){$rootScope.$broadcast(_LOGIN_SUCCESS_,args)},onRequestStarted=function($scope,handler){$scope.$on(_START_REQUEST_,function(){handler()})},onEntityClicked=function($scope,handler){$scope.$on(_ENTITY_CLICKED_,function(event,args){handler(args)})},onLoginSuccess=function($scope,handler){$scope.$on(_LOGIN_SUCCESS_,function(event,args){handler(args)})},onRequestEnded=function($scope,handler){$scope.$on(_END_REQUEST_,function(){handler()})},newFeedAdded=function(args){$rootScope.$broadcast(_NEW_FEED_ADDED_,args)},onNewFeedAdded=function($scope,handler){$scope.$on(_NEW_FEED_ADDED_,function(event,args){handler(args)})};return{requestStarted:requestStarted,requestEnded:requestEnded,entityClicked:entityClicked,loginSuccess:loginSuccess,onRequestStarted:onRequestStarted,onRequestEnded:onRequestEnded,onEntityClicked:onEntityClicked,onLoginSuccess:onLoginSuccess,newFeedAdded:newFeedAdded,onNewFeedAdded:onNewFeedAdded}}])}),define("app/common/resources/api",["angular","app/common/context/user","app/common/resources/constants/constants","app/common/context/user","app/common/services/notificationsService","app/common/services/profileService"],function(angular){"use strict";var apiService=angular.module("common.resources.apiService",["common.resources.constant","ernr.notifications","ernr.userService","ernr.ProfileService"]).factory("apiUserService",["$http","apiDomain","notifications","userFactory","$q","profileFactory",function($http,apiDomain,notifications,userFactory,$q,profileFactory){var service={};return service.login=function(data){var profile,deferred=$q.defer();return $http.post(apiDomain.domain+"/account/login",data).success(function(data){$http.defaults.headers.common["x-access-token"]="logged",userFactory.setToken(data.result.token),profileFactory.getProfile().then(function(data){userFactory.fillInfo(data),notifications.loginSuccess(profile),deferred.resolve()})["catch"](function(err){console.log(err),deferred.reject(err)})}).error(function(data){deferred.reject(data),$http.defaults.headers.common["x-access-token"]="error",userFactory.setToken(null)}),deferred.promise},service.createUser=function(data){return $http.post(apiDomain.domain+"/account/create",data)},service.validation=function(data){return $http.get(apiDomain.domain+"/account/validate",{params:data})},service.password=function(data){return $http.post(apiDomain.domain+"/account/forgot",data)},service}]);return apiService}),define("app/common/services/loginService",["angular","app/common/resources/constants/constants","app/common/context/user","app/common/resources/api"],function(angular){"use strict";return angular.module("ernr.loginService",["common.resources.constant","common.resources.apiService","ernr.userService"]).factory("loginFactory",["$http","apiDomain","userFactory","apiUserService",function($http,constant,currentUser,apiUserService){return{login:function(login,password){var params={login:login,password:password};return apiUserService.login(params)},logout:function(){currentUser.setToken()}}}])}),function(){function patchXHR(fnName,newFn){window.XMLHttpRequest.prototype[fnName]=newFn(window.XMLHttpRequest.prototype[fnName])}function handleFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile){function isInputTypeFile(){return"input"===elem[0].tagName.toLowerCase()&&elem.attr("type")&&"file"===elem.attr("type").toLowerCase()}function watch(attrVal){$timeout(function(){elem.parent().length&&watchers.push(scope.$watch(attrVal,function(val,oldVal){val!=oldVal&&recompileElem()}))})}function recompileElem(){var clone=elem.clone();if(elem.attr("__afu_gen__")&&angular.element(document.getElementById(elem.attr("id").substring(1))).remove(),elem.parent().length){for(var i=0;i<watchers.length;i++)watchers[i]();elem.replaceWith(clone),$compile(clone)(scope)}return clone}function bindAttr(bindAttr,attrName){if(bindAttr){watch(bindAttr);var val=$parse(bindAttr)(scope);val?(elem.attr(attrName,val),attr[attrName]=val):(elem.attr(attrName,null),delete attr[attrName])}}function onChangeFn(evt){var fileList;fileList=evt.__files_||evt.target&&evt.target.files,updateModel(fileList,attr,ngModel,scope,evt)}function resetAndClick(evt){if(null!=fileElem[0].value&&""!=fileElem[0].value&&(fileElem[0].value=null,-1===navigator.userAgent.indexOf("Trident/7")&&onChangeFn({target:{files:[]}})),elem.attr("__afu_clone__"))elem.attr("__afu_clone__",null);else if(-1!==navigator.appVersion.indexOf("MSIE 10")||-1!==navigator.userAgent.indexOf("Trident/7")){var clone=recompileElem();return clone.attr("__afu_clone__",!0),clone[0].click(),evt.preventDefault(),evt.stopPropagation(),!0}}function updateModel(fileList,attr,ngModel,scope,evt){for(var files=[],rejFiles=[],regexp=attr.accept?new RegExp(globStringToRegex(attr.accept),"gi"):null,i=0;i<fileList.length;i++){var file=fileList.item(i);!regexp||file.type.match(regexp)||null!=file.name&&file.name.match(regexp)?files.push(file):rejFiles.push(file)}$timeout(function(){ngModel&&($parse(attr.ngModel).assign(scope,files),ngModel&&ngModel.$setViewValue(null!=files&&0==files.length?"":files),attr.ngModelRejected&&$parse(attr.ngModelRejected).assign(scope,rejFiles)),attr.ngFileChange&&""!=attr.ngFileChange&&$parse(attr.ngFileChange)(scope,{$files:files,$rejectedFiles:rejFiles,$event:evt})})}var watchers=[];bindAttr(attr.ngMultiple,"multiple"),bindAttr(attr.ngAccept,"accept"),bindAttr(attr.ngCapture,"capture"),""!=attr.ngFileSelect&&(attr.ngFileChange=attr.ngFileSelect);var fileElem=elem;if(isInputTypeFile())elem.bind("click",resetAndClick);else{fileElem=angular.element('<input type="file">'),attr.multiple&&fileElem.attr("multiple",attr.multiple),attr.accept&&fileElem.attr("accept",attr.accept),attr.capture&&fileElem.attr("capture",attr.capture);for(var key in attr)if(0==key.indexOf("inputFile")){var name=key.substring("inputFile".length);name=name[0].toLowerCase()+name.substring(1),fileElem.attr(name,attr[key])}fileElem.css("width","0px").css("height","0px").css("position","absolute").css("padding",0).css("margin",0).css("overflow","hidden").attr("tabindex","-1").css("opacity",0).attr("__afu_gen__",!0),elem.attr("__refElem__",!0),fileElem[0].__refElem__=elem[0],elem.parent()[0].insertBefore(fileElem[0],elem[0]),elem.css("overflow","hidden"),elem.bind("click",function(e){resetAndClick(e)||fileElem[0].click()})}fileElem.bind("change",onChangeFn),elem.on("$destroy",function(){for(var i=0;i<watchers.length;i++)watchers[i]();elem[0]!=fileElem[0]&&fileElem.remove()}),watchers.push(scope.$watch(attr.ngModel,function(val,oldVal){val==oldVal||null!=val&&val.length||(-1!==navigator.appVersion.indexOf("MSIE 10")?recompileElem():fileElem[0].value=null)}))}function handleDrop(scope,elem,attr,ngModel,$parse,$timeout,$location){function calculateDragOverClass(scope,attr,evt){var valid=!0;if(regexp){var items=evt.dataTransfer.items;if(null!=items)for(var i=0;i<items.length&&valid;i++)valid=valid&&("file"==items[i].kind||""==items[i].kind)&&(null!=items[i].type.match(regexp)||null!=items[i].name&&null!=items[i].name.match(regexp))}var clazz=$parse(attr.dragOverClass)(scope,{$event:evt});return clazz&&(clazz.delay&&(dragOverDelay=clazz.delay),clazz.accept&&(clazz=valid?clazz.accept:clazz.reject)),clazz||attr.dragOverClass||"dragover"}function extractFiles(evt,callback,allowDir,multiple){function addFile(file){!regexp||file.type.match(regexp)||null!=file.name&&file.name.match(regexp)?files.push(file):rejFiles.push(file)}function traverseFileTree(files,entry,path){if(null!=entry)if(entry.isDirectory){var filePath=(path||"")+entry.name;addFile({name:entry.name,type:"directory",path:filePath});var dirReader=entry.createReader(),entries=[];processing++;var readEntries=function(){dirReader.readEntries(function(results){try{if(results.length)entries=entries.concat(Array.prototype.slice.call(results||[],0)),readEntries();else{for(var i=0;i<entries.length;i++)traverseFileTree(files,entries[i],(path?path:"")+entry.name+"/");processing--}}catch(e){processing--,console.error(e)}},function(){processing--})};readEntries()}else processing++,entry.file(function(file){try{processing--,file.path=(path?path:"")+file.name,addFile(file)}catch(e){processing--,console.error(e)}},function(){processing--})}var files=[],rejFiles=[],items=evt.dataTransfer.items,processing=0;if(items&&items.length>0&&"file"!=$location.protocol())for(var i=0;i<items.length;i++){if(items[i].webkitGetAsEntry&&items[i].webkitGetAsEntry()&&items[i].webkitGetAsEntry().isDirectory){var entry=items[i].webkitGetAsEntry();if(entry.isDirectory&&!allowDir)continue;null!=entry&&traverseFileTree(files,entry)}else{var f=items[i].getAsFile();null!=f&&addFile(f)}if(!multiple&&files.length>0)break}else{var fileList=evt.dataTransfer.files;if(null!=fileList)for(var i=0;i<fileList.length&&(addFile(fileList.item(i)),multiple||!(files.length>0));i++);}var delays=0;!function waitForProcess(delay){$timeout(function(){if(processing)10*delays++<2e4&&waitForProcess(10);else{if(!multiple&&files.length>1){for(var i=0;"directory"==files[i].type;)i++;files=[files[i]]}callback(files,rejFiles)}},delay||0)}()}var available=dropAvailable();if(attr.dropAvailable&&$timeout(function(){scope.dropAvailable?scope.dropAvailable.value=available:scope.dropAvailable=available}),!available)return void(0!=$parse(attr.hideOnDropNotAvailable)(scope)&&elem.css("display","none"));var actualDragOverClass,leaveTimeout=null,stopPropagation=$parse(attr.stopPropagation)(scope),dragOverDelay=1,accept=$parse(attr.ngAccept)(scope)||attr.accept,regexp=accept?new RegExp(globStringToRegex(accept),"gi"):null;elem[0].addEventListener("dragover",function(evt){if(evt.preventDefault(),stopPropagation&&evt.stopPropagation(),navigator.userAgent.indexOf("Chrome")>-1){var b=evt.dataTransfer.effectAllowed;evt.dataTransfer.dropEffect="move"===b||"linkMove"===b?"move":"copy"}$timeout.cancel(leaveTimeout),scope.actualDragOverClass||(actualDragOverClass=calculateDragOverClass(scope,attr,evt)),elem.addClass(actualDragOverClass)},!1),elem[0].addEventListener("dragenter",function(evt){evt.preventDefault(),stopPropagation&&evt.stopPropagation()},!1),elem[0].addEventListener("dragleave",function(){leaveTimeout=$timeout(function(){elem.removeClass(actualDragOverClass),actualDragOverClass=null},dragOverDelay||1)},!1),""!=attr.ngFileDrop&&(attr.ngFileChange=scope.ngFileDrop),elem[0].addEventListener("drop",function(evt){evt.preventDefault(),stopPropagation&&evt.stopPropagation(),elem.removeClass(actualDragOverClass),actualDragOverClass=null,extractFiles(evt,function(files,rejFiles){$timeout(function(){ngModel&&($parse(attr.ngModel).assign(scope,files),ngModel&&ngModel.$setViewValue(null!=files&&0==files.length?"":files)),attr.ngModelRejected&&scope[attr.ngModelRejected]&&$parse(attr.ngModelRejected).assign(scope,rejFiles)}),$timeout(function(){$parse(attr.ngFileChange)(scope,{$files:files,$rejectedFiles:rejFiles,$event:evt})})},0!=$parse(attr.allowDir)(scope),attr.multiple||$parse(attr.ngMultiple)(scope))},!1)}function dropAvailable(){var div=document.createElement("div");return"draggable"in div&&"ondrop"in div}function globStringToRegex(str){if(str.length>2&&"/"===str[0]&&"/"===str[str.length-1])return str.substring(1,str.length-1);var split=str.split(","),result="";if(split.length>1)for(var i=0;i<split.length;i++)result+="("+globStringToRegex(split[i])+")",i<split.length-1&&(result+="|");else 0==str.indexOf(".")&&(str="*"+str),result="^"+str.replace(new RegExp("[.\\\\+*?\\[\\^\\]$(){}=!<>|:\\-]","g"),"\\$&")+"$",result=result.replace(/\\\*/g,".*").replace(/\\\?/g,".");return result}window.XMLHttpRequest&&!window.XMLHttpRequest.__isFileAPIShim&&patchXHR("setRequestHeader",function(orig){return function(header,value){if("__setXHR_"===header){var val=value(this);val instanceof Function&&val(this)}else orig.apply(this,arguments)}});var angularFileUpload=angular.module("angularFileUpload",[]);angularFileUpload.version="3.0.7",angularFileUpload.service("$upload",["$http","$q","$timeout",function($http,$q,$timeout){function sendHttp(config){config.method=config.method||"POST",config.headers=config.headers||{},config.transformRequest=config.transformRequest||function(data,headersGetter){return window.ArrayBuffer&&data instanceof window.ArrayBuffer?data:$http.defaults.transformRequest[0](data,headersGetter)};var deferred=$q.defer(),promise=deferred.promise;return config.headers.__setXHR_=function(){return function(xhr){xhr&&(config.__XHR=xhr,config.xhrFn&&config.xhrFn(xhr),xhr.upload.addEventListener("progress",function(e){e.config=config,deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)})},!1),xhr.upload.addEventListener("load",function(e){e.lengthComputable&&(e.config=config,deferred.notify?deferred.notify(e):promise.progress_fn&&$timeout(function(){promise.progress_fn(e)}))},!1))}},$http(config).then(function(r){deferred.resolve(r)},function(e){deferred.reject(e)},function(n){deferred.notify(n)}),promise.success=function(fn){return promise.then(function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.error=function(fn){return promise.then(null,function(response){fn(response.data,response.status,response.headers,config)}),promise},promise.progress=function(fn){return promise.progress_fn=fn,promise.then(null,null,function(update){fn(update)}),promise},promise.abort=function(){return config.__XHR&&$timeout(function(){config.__XHR.abort()}),promise},promise.xhr=function(fn){return config.xhrFn=function(origXhrFn){return function(){origXhrFn&&origXhrFn.apply(promise,arguments),fn.apply(promise,arguments)}}(config.xhrFn),promise},promise}this.upload=function(config){config.headers=config.headers||{},config.headers["Content-Type"]=void 0;config.transformRequest;return config.transformRequest=config.transformRequest?"[object Array]"===Object.prototype.toString.call(config.transformRequest)?config.transformRequest:[config.transformRequest]:[],config.transformRequest.push(function(data){var formData=new FormData,allFields={};for(var key in config.fields)allFields[key]=config.fields[key];if(data&&(allFields.data=data),config.formDataAppender)for(var key in allFields)config.formDataAppender(formData,key,allFields[key]);else for(var key in allFields){var val=allFields[key];void 0!==val&&("[object String]"===Object.prototype.toString.call(val)?formData.append(key,val):config.sendObjectsAsJsonBlob&&"object"==typeof val?formData.append(key,new Blob([val],{type:"application/json"})):formData.append(key,JSON.stringify(val)))}if(null!=config.file){var fileFormName=config.fileFormDataName||"file";if("[object Array]"===Object.prototype.toString.call(config.file))for(var isFileFormNameString="[object String]"===Object.prototype.toString.call(fileFormName),i=0;i<config.file.length;i++)formData.append(isFileFormNameString?fileFormName:fileFormName[i],config.file[i],config.fileName&&config.fileName[i]||config.file[i].name);else formData.append(fileFormName,config.file,config.fileName||config.file.name)}return formData}),sendHttp(config)},this.http=function(config){return sendHttp(config)}}]),angularFileUpload.directive("ngFileSelect",["$parse","$timeout","$compile",function($parse,$timeout,$compile){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){handleFileSelect(scope,elem,attr,ngModel,$parse,$timeout,$compile)}}}]),angularFileUpload.directive("ngFileDrop",["$parse","$timeout","$location",function($parse,$timeout,$location){return{restrict:"AEC",require:"?ngModel",link:function(scope,elem,attr,ngModel){handleDrop(scope,elem,attr,ngModel,$parse,$timeout,$location)}}}]),angularFileUpload.directive("ngNoFileDrop",function(){return function(scope,elem){dropAvailable()&&elem.css("display","none")}}),angularFileUpload.directive("ngFileDropAvailable",["$parse","$timeout",function($parse,$timeout){return function(scope,elem,attr){if(dropAvailable()){var fn=$parse(attr.ngFileDropAvailable);$timeout(function(){fn(scope)})}}}]);var ngFileUpload=angular.module("ngFileUpload",[]);for(var key in angularFileUpload)ngFileUpload[key]=angularFileUpload[key]}(),define("angularFileUpload",["angular"],function(){}),angular.module("ui.bootstrap",["ui.bootstrap.tpls","ui.bootstrap.transition","ui.bootstrap.collapse","ui.bootstrap.accordion","ui.bootstrap.alert","ui.bootstrap.bindHtml","ui.bootstrap.buttons","ui.bootstrap.carousel","ui.bootstrap.position","ui.bootstrap.datepicker","ui.bootstrap.dropdownToggle","ui.bootstrap.modal","ui.bootstrap.pagination","ui.bootstrap.tooltip","ui.bootstrap.popover","ui.bootstrap.progressbar","ui.bootstrap.rating","ui.bootstrap.tabs","ui.bootstrap.timepicker","ui.bootstrap.typeahead"]),angular.module("ui.bootstrap.tpls",["template/accordion/accordion-group.html","template/accordion/accordion.html","template/alert/alert.html","template/carousel/carousel.html","template/carousel/slide.html","template/datepicker/datepicker.html","template/datepicker/popup.html","template/modal/backdrop.html","template/modal/window.html","template/pagination/pager.html","template/pagination/pagination.html","template/tooltip/tooltip-html-unsafe-popup.html","template/tooltip/tooltip-popup.html","template/popover/popover.html","template/progressbar/bar.html","template/progressbar/progress.html","template/progressbar/progressbar.html","template/rating/rating.html","template/tabs/tab.html","template/tabs/tabset.html","template/timepicker/timepicker.html","template/typeahead/typeahead-match.html","template/typeahead/typeahead-popup.html"]),angular.module("ui.bootstrap.transition",[]).factory("$transition",["$q","$timeout","$rootScope",function($q,$timeout,$rootScope){function findEndEventName(endEventNames){for(var name in endEventNames)if(void 0!==transElement.style[name])return endEventNames[name]}var $transition=function(element,trigger,options){options=options||{};var deferred=$q.defer(),endEventName=$transition[options.animation?"animationEndEventName":"transitionEndEventName"],transitionEndHandler=function(){$rootScope.$apply(function(){element.unbind(endEventName,transitionEndHandler),deferred.resolve(element)})};return endEventName&&element.bind(endEventName,transitionEndHandler),$timeout(function(){angular.isString(trigger)?element.addClass(trigger):angular.isFunction(trigger)?trigger(element):angular.isObject(trigger)&&element.css(trigger),endEventName||deferred.resolve(element)}),deferred.promise.cancel=function(){endEventName&&element.unbind(endEventName,transitionEndHandler),deferred.reject("Transition cancelled")},deferred.promise},transElement=document.createElement("trans"),transitionEndEventNames={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd",transition:"transitionend"},animationEndEventNames={WebkitTransition:"webkitAnimationEnd",MozTransition:"animationend",OTransition:"oAnimationEnd",transition:"animationend"};return $transition.transitionEndEventName=findEndEventName(transitionEndEventNames),$transition.animationEndEventName=findEndEventName(animationEndEventNames),$transition}]),angular.module("ui.bootstrap.collapse",["ui.bootstrap.transition"]).directive("collapse",["$transition",function($transition){return{link:function(scope,element,attrs){function doTransition(change){function newTransitionDone(){currentTransition===newTransition&&(currentTransition=void 0)}var newTransition=$transition(element,change);return currentTransition&&currentTransition.cancel(),currentTransition=newTransition,newTransition.then(newTransitionDone,newTransitionDone),newTransition}function expand(){initialAnimSkip?(initialAnimSkip=!1,expandDone()):(element.removeClass("collapse").addClass("collapsing"),doTransition({height:element[0].scrollHeight+"px"}).then(expandDone))}function expandDone(){element.removeClass("collapsing"),element.addClass("collapse in"),element.css({height:"auto"})}function collapse(){if(initialAnimSkip)initialAnimSkip=!1,collapseDone(),element.css({height:0});else{element.css({height:element[0].scrollHeight+"px"});{element[0].offsetWidth}element.removeClass("collapse in").addClass("collapsing"),doTransition({height:0}).then(collapseDone)}}function collapseDone(){element.removeClass("collapsing"),element.addClass("collapse")}var currentTransition,initialAnimSkip=!0;scope.$watch(attrs.collapse,function(shouldCollapse){shouldCollapse?collapse():expand()})}}}]),angular.module("ui.bootstrap.accordion",["ui.bootstrap.collapse"]).constant("accordionConfig",{closeOthers:!0}).controller("AccordionController",["$scope","$attrs","accordionConfig",function($scope,$attrs,accordionConfig){this.groups=[],this.closeOthers=function(openGroup){var closeOthers=angular.isDefined($attrs.closeOthers)?$scope.$eval($attrs.closeOthers):accordionConfig.closeOthers;closeOthers&&angular.forEach(this.groups,function(group){group!==openGroup&&(group.isOpen=!1)})},this.addGroup=function(groupScope){var that=this;this.groups.push(groupScope),groupScope.$on("$destroy",function(){that.removeGroup(groupScope)})},this.removeGroup=function(group){var index=this.groups.indexOf(group);-1!==index&&this.groups.splice(this.groups.indexOf(group),1)}}]).directive("accordion",function(){return{restrict:"EA",controller:"AccordionController",transclude:!0,replace:!1,templateUrl:"template/accordion/accordion.html"}}).directive("accordionGroup",["$parse",function($parse){return{require:"^accordion",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/accordion/accordion-group.html",scope:{heading:"@"},controller:function(){this.setHeading=function(element){this.heading=element}},link:function(scope,element,attrs,accordionCtrl){var getIsOpen,setIsOpen;accordionCtrl.addGroup(scope),scope.isOpen=!1,attrs.isOpen&&(getIsOpen=$parse(attrs.isOpen),setIsOpen=getIsOpen.assign,scope.$parent.$watch(getIsOpen,function(value){scope.isOpen=!!value})),scope.$watch("isOpen",function(value){value&&accordionCtrl.closeOthers(scope),setIsOpen&&setIsOpen(scope.$parent,value)})}}}]).directive("accordionHeading",function(){return{restrict:"EA",transclude:!0,template:"",replace:!0,require:"^accordionGroup",compile:function(element,attr,transclude){return function(scope,element,attr,accordionGroupCtrl){accordionGroupCtrl.setHeading(transclude(scope,function(){}))}}}}).directive("accordionTransclude",function(){return{require:"^accordionGroup",link:function(scope,element,attr,controller){scope.$watch(function(){return controller[attr.accordionTransclude]},function(heading){heading&&(element.html(""),element.append(heading))})}}}),angular.module("ui.bootstrap.alert",[]).controller("AlertController",["$scope","$attrs",function($scope,$attrs){$scope.closeable="close"in $attrs}]).directive("alert",function(){return{restrict:"EA",controller:"AlertController",templateUrl:"template/alert/alert.html",transclude:!0,replace:!0,scope:{type:"=",close:"&"}}}),angular.module("ui.bootstrap.bindHtml",[]).directive("bindHtmlUnsafe",function(){return function(scope,element,attr){element.addClass("ng-binding").data("$binding",attr.bindHtmlUnsafe),scope.$watch(attr.bindHtmlUnsafe,function(value){element.html(value||"")})}}),angular.module("ui.bootstrap.buttons",[]).constant("buttonConfig",{activeClass:"active",toggleEvent:"click"}).controller("ButtonsController",["buttonConfig",function(buttonConfig){this.activeClass=buttonConfig.activeClass||"active",this.toggleEvent=buttonConfig.toggleEvent||"click"}]).directive("btnRadio",function(){return{require:["btnRadio","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,scope.$eval(attrs.btnRadio)))},element.bind(buttonsCtrl.toggleEvent,function(){element.hasClass(buttonsCtrl.activeClass)||scope.$apply(function(){ngModelCtrl.$setViewValue(scope.$eval(attrs.btnRadio)),ngModelCtrl.$render()})})}}}).directive("btnCheckbox",function(){return{require:["btnCheckbox","ngModel"],controller:"ButtonsController",link:function(scope,element,attrs,ctrls){function getTrueValue(){return getCheckboxValue(attrs.btnCheckboxTrue,!0)}function getFalseValue(){return getCheckboxValue(attrs.btnCheckboxFalse,!1)}function getCheckboxValue(attributeValue,defaultValue){var val=scope.$eval(attributeValue);return angular.isDefined(val)?val:defaultValue}var buttonsCtrl=ctrls[0],ngModelCtrl=ctrls[1];ngModelCtrl.$render=function(){element.toggleClass(buttonsCtrl.activeClass,angular.equals(ngModelCtrl.$modelValue,getTrueValue()))},element.bind(buttonsCtrl.toggleEvent,function(){scope.$apply(function(){ngModelCtrl.$setViewValue(element.hasClass(buttonsCtrl.activeClass)?getFalseValue():getTrueValue()),ngModelCtrl.$render()})})}}}),angular.module("ui.bootstrap.carousel",["ui.bootstrap.transition"]).controller("CarouselController",["$scope","$timeout","$transition","$q",function($scope,$timeout,$transition){function restartTimer(){resetTimer();var interval=+$scope.interval;!isNaN(interval)&&interval>=0&&(currentTimeout=$timeout(timerFn,interval))}function resetTimer(){currentTimeout&&($timeout.cancel(currentTimeout),currentTimeout=null)}function timerFn(){isPlaying?($scope.next(),restartTimer()):$scope.pause()}var currentTimeout,isPlaying,self=this,slides=self.slides=[],currentIndex=-1;self.currentSlide=null;var destroyed=!1;self.select=function(nextSlide,direction){function goNext(){if(!destroyed){if(self.currentSlide&&angular.isString(direction)&&!$scope.noTransition&&nextSlide.$element){nextSlide.$element.addClass(direction);{nextSlide.$element[0].offsetWidth}angular.forEach(slides,function(slide){angular.extend(slide,{direction:"",entering:!1,leaving:!1,active:!1})}),angular.extend(nextSlide,{direction:direction,active:!0,entering:!0}),angular.extend(self.currentSlide||{},{direction:direction,leaving:!0}),$scope.$currentTransition=$transition(nextSlide.$element,{}),function(next,current){$scope.$currentTransition.then(function(){transitionDone(next,current)},function(){transitionDone(next,current)})}(nextSlide,self.currentSlide)}else transitionDone(nextSlide,self.currentSlide);self.currentSlide=nextSlide,currentIndex=nextIndex,restartTimer()}}function transitionDone(next,current){angular.extend(next,{direction:"",active:!0,leaving:!1,entering:!1}),angular.extend(current||{},{direction:"",active:!1,leaving:!1,entering:!1}),$scope.$currentTransition=null}var nextIndex=slides.indexOf(nextSlide);void 0===direction&&(direction=nextIndex>currentIndex?"next":"prev"),nextSlide&&nextSlide!==self.currentSlide&&($scope.$currentTransition?($scope.$currentTransition.cancel(),$timeout(goNext)):goNext())},$scope.$on("$destroy",function(){destroyed=!0}),self.indexOfSlide=function(slide){return slides.indexOf(slide)},$scope.next=function(){var newIndex=(currentIndex+1)%slides.length;return $scope.$currentTransition?void 0:self.select(slides[newIndex],"next")},$scope.prev=function(){var newIndex=0>currentIndex-1?slides.length-1:currentIndex-1;return $scope.$currentTransition?void 0:self.select(slides[newIndex],"prev")},$scope.select=function(slide){self.select(slide)},$scope.isActive=function(slide){return self.currentSlide===slide},$scope.slides=function(){return slides},$scope.$watch("interval",restartTimer),$scope.$on("$destroy",resetTimer),$scope.play=function(){isPlaying||(isPlaying=!0,restartTimer())},$scope.pause=function(){$scope.noPause||(isPlaying=!1,resetTimer())},self.addSlide=function(slide,element){slide.$element=element,slides.push(slide),1===slides.length||slide.active?(self.select(slides[slides.length-1]),1==slides.length&&$scope.play()):slide.active=!1},self.removeSlide=function(slide){var index=slides.indexOf(slide);slides.splice(index,1),slides.length>0&&slide.active?self.select(index>=slides.length?slides[index-1]:slides[index]):currentIndex>index&&currentIndex--}}]).directive("carousel",[function(){return{restrict:"EA",transclude:!0,replace:!0,controller:"CarouselController",require:"carousel",templateUrl:"template/carousel/carousel.html",scope:{interval:"=",noTransition:"=",noPause:"="}}}]).directive("slide",["$parse",function($parse){return{require:"^carousel",restrict:"EA",transclude:!0,replace:!0,templateUrl:"template/carousel/slide.html",scope:{},link:function(scope,element,attrs,carouselCtrl){if(attrs.active){var getActive=$parse(attrs.active),setActive=getActive.assign,lastValue=scope.active=getActive(scope.$parent);scope.$watch(function(){var parentActive=getActive(scope.$parent);return parentActive!==scope.active&&(parentActive!==lastValue?lastValue=scope.active=parentActive:setActive(scope.$parent,parentActive=lastValue=scope.active)),parentActive})}carouselCtrl.addSlide(scope,element),scope.$on("$destroy",function(){carouselCtrl.removeSlide(scope)}),scope.$watch("active",function(active){active&&carouselCtrl.select(scope)})}}}]),angular.module("ui.bootstrap.position",[]).factory("$position",["$document","$window",function($document,$window){function getStyle(el,cssprop){return el.currentStyle?el.currentStyle[cssprop]:$window.getComputedStyle?$window.getComputedStyle(el)[cssprop]:el.style[cssprop]}function isStaticPositioned(element){return"static"===(getStyle(element,"position")||"static")}var parentOffsetEl=function(element){for(var docDomEl=$document[0],offsetParent=element.offsetParent||docDomEl;offsetParent&&offsetParent!==docDomEl&&isStaticPositioned(offsetParent);)offsetParent=offsetParent.offsetParent;return offsetParent||docDomEl};return{position:function(element){var elBCR=this.offset(element),offsetParentBCR={top:0,left:0},offsetParentEl=parentOffsetEl(element[0]);offsetParentEl!=$document[0]&&(offsetParentBCR=this.offset(angular.element(offsetParentEl)),offsetParentBCR.top+=offsetParentEl.clientTop-offsetParentEl.scrollTop,offsetParentBCR.left+=offsetParentEl.clientLeft-offsetParentEl.scrollLeft);var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:elBCR.top-offsetParentBCR.top,left:elBCR.left-offsetParentBCR.left}},offset:function(element){var boundingClientRect=element[0].getBoundingClientRect();return{width:boundingClientRect.width||element.prop("offsetWidth"),height:boundingClientRect.height||element.prop("offsetHeight"),top:boundingClientRect.top+($window.pageYOffset||$document[0].body.scrollTop||$document[0].documentElement.scrollTop),left:boundingClientRect.left+($window.pageXOffset||$document[0].body.scrollLeft||$document[0].documentElement.scrollLeft)}}}}]),angular.module("ui.bootstrap.datepicker",["ui.bootstrap.position"]).constant("datepickerConfig",{dayFormat:"dd",monthFormat:"MMMM",yearFormat:"yyyy",dayHeaderFormat:"EEE",dayTitleFormat:"MMMM yyyy",monthTitleFormat:"yyyy",showWeeks:!0,startingDay:0,yearRange:20,minDate:null,maxDate:null}).controller("DatepickerController",["$scope","$attrs","dateFilter","datepickerConfig",function($scope,$attrs,dateFilter,dtConfig){function getValue(value,defaultValue){return angular.isDefined(value)?$scope.$parent.$eval(value):defaultValue}function getDaysInMonth(year,month){return new Date(year,month,0).getDate()}function getDates(startDate,n){for(var dates=new Array(n),current=startDate,i=0;n>i;)dates[i++]=new Date(current),current.setDate(current.getDate()+1);
return dates}function makeDate(date,format,isSelected,isSecondary){return{date:date,label:dateFilter(date,format),selected:!!isSelected,secondary:!!isSecondary}}var format={day:getValue($attrs.dayFormat,dtConfig.dayFormat),month:getValue($attrs.monthFormat,dtConfig.monthFormat),year:getValue($attrs.yearFormat,dtConfig.yearFormat),dayHeader:getValue($attrs.dayHeaderFormat,dtConfig.dayHeaderFormat),dayTitle:getValue($attrs.dayTitleFormat,dtConfig.dayTitleFormat),monthTitle:getValue($attrs.monthTitleFormat,dtConfig.monthTitleFormat)},startingDay=getValue($attrs.startingDay,dtConfig.startingDay),yearRange=getValue($attrs.yearRange,dtConfig.yearRange);this.minDate=dtConfig.minDate?new Date(dtConfig.minDate):null,this.maxDate=dtConfig.maxDate?new Date(dtConfig.maxDate):null,this.modes=[{name:"day",getVisibleDates:function(date,selected){var year=date.getFullYear(),month=date.getMonth(),firstDayOfMonth=new Date(year,month,1),difference=startingDay-firstDayOfMonth.getDay(),numDisplayedFromPreviousMonth=difference>0?7-difference:-difference,firstDate=new Date(firstDayOfMonth),numDates=0;numDisplayedFromPreviousMonth>0&&(firstDate.setDate(-numDisplayedFromPreviousMonth+1),numDates+=numDisplayedFromPreviousMonth),numDates+=getDaysInMonth(year,month+1),numDates+=(7-numDates%7)%7;for(var days=getDates(firstDate,numDates),labels=new Array(7),i=0;numDates>i;i++){var dt=new Date(days[i]);days[i]=makeDate(dt,format.day,selected&&selected.getDate()===dt.getDate()&&selected.getMonth()===dt.getMonth()&&selected.getFullYear()===dt.getFullYear(),dt.getMonth()!==month)}for(var j=0;7>j;j++)labels[j]=dateFilter(days[j].date,format.dayHeader);return{objects:days,title:dateFilter(date,format.dayTitle),labels:labels}},compare:function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth(),date1.getDate())-new Date(date2.getFullYear(),date2.getMonth(),date2.getDate())},split:7,step:{months:1}},{name:"month",getVisibleDates:function(date,selected){for(var months=new Array(12),year=date.getFullYear(),i=0;12>i;i++){var dt=new Date(year,i,1);months[i]=makeDate(dt,format.month,selected&&selected.getMonth()===i&&selected.getFullYear()===year)}return{objects:months,title:dateFilter(date,format.monthTitle)}},compare:function(date1,date2){return new Date(date1.getFullYear(),date1.getMonth())-new Date(date2.getFullYear(),date2.getMonth())},split:3,step:{years:1}},{name:"year",getVisibleDates:function(date,selected){for(var years=new Array(yearRange),year=date.getFullYear(),startYear=parseInt((year-1)/yearRange,10)*yearRange+1,i=0;yearRange>i;i++){var dt=new Date(startYear+i,0,1);years[i]=makeDate(dt,format.year,selected&&selected.getFullYear()===dt.getFullYear())}return{objects:years,title:[years[0].label,years[yearRange-1].label].join(" - ")}},compare:function(date1,date2){return date1.getFullYear()-date2.getFullYear()},split:5,step:{years:yearRange}}],this.isDisabled=function(date,mode){var currentMode=this.modes[mode||0];return this.minDate&&currentMode.compare(date,this.minDate)<0||this.maxDate&&currentMode.compare(date,this.maxDate)>0||$scope.dateDisabled&&$scope.dateDisabled({date:date,mode:currentMode.name})}}]).directive("datepicker",["dateFilter","$parse","datepickerConfig","$log",function(dateFilter,$parse,datepickerConfig,$log){return{restrict:"EA",replace:!0,templateUrl:"template/datepicker/datepicker.html",scope:{dateDisabled:"&"},require:["datepicker","?^ngModel"],controller:"DatepickerController",link:function(scope,element,attrs,ctrls){function updateShowWeekNumbers(){scope.showWeekNumbers=0===mode&&showWeeks}function split(arr,size){for(var arrays=[];arr.length>0;)arrays.push(arr.splice(0,size));return arrays}function refill(updateSelected){var date=null,valid=!0;ngModel.$modelValue&&(date=new Date(ngModel.$modelValue),isNaN(date)?(valid=!1,$log.error('Datepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):updateSelected&&(selected=date)),ngModel.$setValidity("date",valid);var currentMode=datepickerCtrl.modes[mode],data=currentMode.getVisibleDates(selected,date);angular.forEach(data.objects,function(obj){obj.disabled=datepickerCtrl.isDisabled(obj.date,mode)}),ngModel.$setValidity("date-disabled",!date||!datepickerCtrl.isDisabled(date)),scope.rows=split(data.objects,currentMode.split),scope.labels=data.labels||[],scope.title=data.title}function setMode(value){mode=value,updateShowWeekNumbers(),refill()}function getISO8601WeekNumber(date){var checkDate=new Date(date);checkDate.setDate(checkDate.getDate()+4-(checkDate.getDay()||7));var time=checkDate.getTime();return checkDate.setMonth(0),checkDate.setDate(1),Math.floor(Math.round((time-checkDate)/864e5)/7)+1}var datepickerCtrl=ctrls[0],ngModel=ctrls[1];if(ngModel){var mode=0,selected=new Date,showWeeks=datepickerConfig.showWeeks;attrs.showWeeks?scope.$parent.$watch($parse(attrs.showWeeks),function(value){showWeeks=!!value,updateShowWeekNumbers()}):updateShowWeekNumbers(),attrs.min&&scope.$parent.$watch($parse(attrs.min),function(value){datepickerCtrl.minDate=value?new Date(value):null,refill()}),attrs.max&&scope.$parent.$watch($parse(attrs.max),function(value){datepickerCtrl.maxDate=value?new Date(value):null,refill()}),ngModel.$render=function(){refill(!0)},scope.select=function(date){if(0===mode){var dt=ngModel.$modelValue?new Date(ngModel.$modelValue):new Date(0,0,0,0,0,0,0);dt.setFullYear(date.getFullYear(),date.getMonth(),date.getDate()),ngModel.$setViewValue(dt),refill(!0)}else selected=date,setMode(mode-1)},scope.move=function(direction){var step=datepickerCtrl.modes[mode].step;selected.setMonth(selected.getMonth()+direction*(step.months||0)),selected.setFullYear(selected.getFullYear()+direction*(step.years||0)),refill()},scope.toggleMode=function(){setMode((mode+1)%datepickerCtrl.modes.length)},scope.getWeekNumber=function(row){return 0===mode&&scope.showWeekNumbers&&7===row.length?getISO8601WeekNumber(row[0].date):null}}}}}]).constant("datepickerPopupConfig",{dateFormat:"yyyy-MM-dd",currentText:"Today",toggleWeeksText:"Weeks",clearText:"Clear",closeText:"Done",closeOnDateSelection:!0,appendToBody:!1,showButtonBar:!0}).directive("datepickerPopup",["$compile","$parse","$document","$position","dateFilter","datepickerPopupConfig","datepickerConfig",function($compile,$parse,$document,$position,dateFilter,datepickerPopupConfig,datepickerConfig){return{restrict:"EA",require:"ngModel",link:function(originalScope,element,attrs,ngModel){function setOpen(value){setIsOpen?setIsOpen(originalScope,!!value):scope.isOpen=!!value}function parseDate(viewValue){if(viewValue){if(angular.isDate(viewValue))return ngModel.$setValidity("date",!0),viewValue;if(angular.isString(viewValue)){var date=new Date(viewValue);return isNaN(date)?void ngModel.$setValidity("date",!1):(ngModel.$setValidity("date",!0),date)}return void ngModel.$setValidity("date",!1)}return ngModel.$setValidity("date",!0),null}function addWatchableAttribute(attribute,scopeProperty,datepickerAttribute){attribute&&(originalScope.$watch($parse(attribute),function(value){scope[scopeProperty]=value}),datepickerEl.attr(datepickerAttribute||scopeProperty,scopeProperty))}function updatePosition(){scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight")}var dateFormat,scope=originalScope.$new(),closeOnDateSelection=angular.isDefined(attrs.closeOnDateSelection)?originalScope.$eval(attrs.closeOnDateSelection):datepickerPopupConfig.closeOnDateSelection,appendToBody=angular.isDefined(attrs.datepickerAppendToBody)?originalScope.$eval(attrs.datepickerAppendToBody):datepickerPopupConfig.appendToBody;attrs.$observe("datepickerPopup",function(value){dateFormat=value||datepickerPopupConfig.dateFormat,ngModel.$render()}),scope.showButtonBar=angular.isDefined(attrs.showButtonBar)?originalScope.$eval(attrs.showButtonBar):datepickerPopupConfig.showButtonBar,originalScope.$on("$destroy",function(){$popup.remove(),scope.$destroy()}),attrs.$observe("currentText",function(text){scope.currentText=angular.isDefined(text)?text:datepickerPopupConfig.currentText}),attrs.$observe("toggleWeeksText",function(text){scope.toggleWeeksText=angular.isDefined(text)?text:datepickerPopupConfig.toggleWeeksText}),attrs.$observe("clearText",function(text){scope.clearText=angular.isDefined(text)?text:datepickerPopupConfig.clearText}),attrs.$observe("closeText",function(text){scope.closeText=angular.isDefined(text)?text:datepickerPopupConfig.closeText});var getIsOpen,setIsOpen;attrs.isOpen&&(getIsOpen=$parse(attrs.isOpen),setIsOpen=getIsOpen.assign,originalScope.$watch(getIsOpen,function(value){scope.isOpen=!!value})),scope.isOpen=getIsOpen?getIsOpen(originalScope):!1;var documentClickBind=function(event){scope.isOpen&&event.target!==element[0]&&scope.$apply(function(){setOpen(!1)})},elementFocusBind=function(){scope.$apply(function(){setOpen(!0)})},popupEl=angular.element("<div datepicker-popup-wrap><div datepicker></div></div>");popupEl.attr({"ng-model":"date","ng-change":"dateSelection()"});var datepickerEl=angular.element(popupEl.children()[0]),datepickerOptions={};attrs.datepickerOptions&&(datepickerOptions=originalScope.$eval(attrs.datepickerOptions),datepickerEl.attr(angular.extend({},datepickerOptions))),ngModel.$parsers.unshift(parseDate),scope.dateSelection=function(dt){angular.isDefined(dt)&&(scope.date=dt),ngModel.$setViewValue(scope.date),ngModel.$render(),closeOnDateSelection&&setOpen(!1)},element.bind("input change keyup",function(){scope.$apply(function(){scope.date=ngModel.$modelValue})}),ngModel.$render=function(){var date=ngModel.$viewValue?dateFilter(ngModel.$viewValue,dateFormat):"";element.val(date),scope.date=ngModel.$modelValue},addWatchableAttribute(attrs.min,"min"),addWatchableAttribute(attrs.max,"max"),attrs.showWeeks?addWatchableAttribute(attrs.showWeeks,"showWeeks","show-weeks"):(scope.showWeeks="show-weeks"in datepickerOptions?datepickerOptions["show-weeks"]:datepickerConfig.showWeeks,datepickerEl.attr("show-weeks","showWeeks")),attrs.dateDisabled&&datepickerEl.attr("date-disabled",attrs.dateDisabled);var documentBindingInitialized=!1,elementFocusInitialized=!1;scope.$watch("isOpen",function(value){value?(updatePosition(),$document.bind("click",documentClickBind),elementFocusInitialized&&element.unbind("focus",elementFocusBind),element[0].focus(),documentBindingInitialized=!0):(documentBindingInitialized&&$document.unbind("click",documentClickBind),element.bind("focus",elementFocusBind),elementFocusInitialized=!0),setIsOpen&&setIsOpen(originalScope,value)}),scope.today=function(){scope.dateSelection(new Date)},scope.clear=function(){scope.dateSelection(null)};var $popup=$compile(popupEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("datepickerPopupWrap",function(){return{restrict:"EA",replace:!0,transclude:!0,templateUrl:"template/datepicker/popup.html",link:function(scope,element){element.bind("click",function(event){event.preventDefault(),event.stopPropagation()})}}}),angular.module("ui.bootstrap.dropdownToggle",[]).directive("dropdownToggle",["$document","$location",function($document){var openElement=null,closeMenu=angular.noop;return{restrict:"CA",link:function(scope,element){scope.$watch("$location.path",function(){closeMenu()}),element.parent().bind("click",function(){closeMenu()}),element.bind("click",function(event){var elementWasOpen=element===openElement;event.preventDefault(),event.stopPropagation(),openElement&&closeMenu(),elementWasOpen||element.hasClass("disabled")||element.prop("disabled")||(element.parent().addClass("open"),openElement=element,closeMenu=function(event){event&&(event.preventDefault(),event.stopPropagation()),$document.unbind("click",closeMenu),element.parent().removeClass("open"),closeMenu=angular.noop,openElement=null},$document.bind("click",closeMenu))})}}}]),angular.module("ui.bootstrap.modal",["ui.bootstrap.transition"]).factory("$$stackedMap",function(){return{createNew:function(){var stack=[];return{add:function(key,value){stack.push({key:key,value:value})},get:function(key){for(var i=0;i<stack.length;i++)if(key==stack[i].key)return stack[i]},keys:function(){for(var keys=[],i=0;i<stack.length;i++)keys.push(stack[i].key);return keys},top:function(){return stack[stack.length-1]},remove:function(key){for(var idx=-1,i=0;i<stack.length;i++)if(key==stack[i].key){idx=i;break}return stack.splice(idx,1)[0]},removeTop:function(){return stack.splice(stack.length-1,1)[0]},length:function(){return stack.length}}}}}).directive("modalBackdrop",["$timeout",function($timeout){return{restrict:"EA",replace:!0,templateUrl:"template/modal/backdrop.html",link:function(scope){scope.animate=!1,$timeout(function(){scope.animate=!0})}}}]).directive("modalWindow",["$modalStack","$timeout",function($modalStack,$timeout){return{restrict:"EA",scope:{index:"@",animate:"="},replace:!0,transclude:!0,templateUrl:"template/modal/window.html",link:function(scope,element,attrs){scope.windowClass=attrs.windowClass||"",$timeout(function(){scope.animate=!0,element[0].focus()}),scope.close=function(evt){var modal=$modalStack.getTop();modal&&modal.value.backdrop&&"static"!=modal.value.backdrop&&evt.target===evt.currentTarget&&(evt.preventDefault(),evt.stopPropagation(),$modalStack.dismiss(modal.key,"backdrop click"))}}}}]).factory("$modalStack",["$transition","$timeout","$document","$compile","$rootScope","$$stackedMap",function($transition,$timeout,$document,$compile,$rootScope,$$stackedMap){function backdropIndex(){for(var topBackdropIndex=-1,opened=openedWindows.keys(),i=0;i<opened.length;i++)openedWindows.get(opened[i]).value.backdrop&&(topBackdropIndex=i);return topBackdropIndex}function removeModalWindow(modalInstance){var body=$document.find("body").eq(0),modalWindow=openedWindows.get(modalInstance).value;openedWindows.remove(modalInstance),removeAfterAnimate(modalWindow.modalDomEl,modalWindow.modalScope,300,checkRemoveBackdrop),body.toggleClass(OPENED_MODAL_CLASS,openedWindows.length()>0)}function checkRemoveBackdrop(){if(backdropDomEl&&-1==backdropIndex()){var backdropScopeRef=backdropScope;removeAfterAnimate(backdropDomEl,backdropScope,150,function(){backdropScopeRef.$destroy(),backdropScopeRef=null}),backdropDomEl=void 0,backdropScope=void 0}}function removeAfterAnimate(domEl,scope,emulateTime,done){function afterAnimating(){afterAnimating.done||(afterAnimating.done=!0,domEl.remove(),done&&done())}scope.animate=!1;var transitionEndEventName=$transition.transitionEndEventName;if(transitionEndEventName){var timeout=$timeout(afterAnimating,emulateTime);domEl.bind(transitionEndEventName,function(){$timeout.cancel(timeout),afterAnimating(),scope.$apply()})}else $timeout(afterAnimating,0)}var backdropDomEl,backdropScope,OPENED_MODAL_CLASS="modal-open",openedWindows=$$stackedMap.createNew(),$modalStack={};return $rootScope.$watch(backdropIndex,function(newBackdropIndex){backdropScope&&(backdropScope.index=newBackdropIndex)}),$document.bind("keydown",function(evt){var modal;27===evt.which&&(modal=openedWindows.top(),modal&&modal.value.keyboard&&$rootScope.$apply(function(){$modalStack.dismiss(modal.key)}))}),$modalStack.open=function(modalInstance,modal){openedWindows.add(modalInstance,{deferred:modal.deferred,modalScope:modal.scope,backdrop:modal.backdrop,keyboard:modal.keyboard});var body=$document.find("body").eq(0),currBackdropIndex=backdropIndex();currBackdropIndex>=0&&!backdropDomEl&&(backdropScope=$rootScope.$new(!0),backdropScope.index=currBackdropIndex,backdropDomEl=$compile("<div modal-backdrop></div>")(backdropScope),body.append(backdropDomEl));var angularDomEl=angular.element("<div modal-window></div>");angularDomEl.attr("window-class",modal.windowClass),angularDomEl.attr("index",openedWindows.length()-1),angularDomEl.attr("animate","animate"),angularDomEl.html(modal.content);var modalDomEl=$compile(angularDomEl)(modal.scope);openedWindows.top().value.modalDomEl=modalDomEl,body.append(modalDomEl),body.addClass(OPENED_MODAL_CLASS)},$modalStack.close=function(modalInstance,result){var modalWindow=openedWindows.get(modalInstance).value;modalWindow&&(modalWindow.deferred.resolve(result),removeModalWindow(modalInstance))},$modalStack.dismiss=function(modalInstance,reason){var modalWindow=openedWindows.get(modalInstance).value;modalWindow&&(modalWindow.deferred.reject(reason),removeModalWindow(modalInstance))},$modalStack.dismissAll=function(reason){for(var topModal=this.getTop();topModal;)this.dismiss(topModal.key,reason),topModal=this.getTop()},$modalStack.getTop=function(){return openedWindows.top()},$modalStack}]).provider("$modal",function(){var $modalProvider={options:{backdrop:!0,keyboard:!0},$get:["$injector","$rootScope","$q","$http","$templateCache","$controller","$modalStack",function($injector,$rootScope,$q,$http,$templateCache,$controller,$modalStack){function getTemplatePromise(options){return options.template?$q.when(options.template):$http.get(options.templateUrl,{cache:$templateCache}).then(function(result){return result.data})}function getResolvePromises(resolves){var promisesArr=[];return angular.forEach(resolves,function(value){(angular.isFunction(value)||angular.isArray(value))&&promisesArr.push($q.when($injector.invoke(value)))}),promisesArr}var $modal={};return $modal.open=function(modalOptions){var modalResultDeferred=$q.defer(),modalOpenedDeferred=$q.defer(),modalInstance={result:modalResultDeferred.promise,opened:modalOpenedDeferred.promise,close:function(result){$modalStack.close(modalInstance,result)},dismiss:function(reason){$modalStack.dismiss(modalInstance,reason)}};if(modalOptions=angular.extend({},$modalProvider.options,modalOptions),modalOptions.resolve=modalOptions.resolve||{},!modalOptions.template&&!modalOptions.templateUrl)throw new Error("One of template or templateUrl options is required.");var templateAndResolvePromise=$q.all([getTemplatePromise(modalOptions)].concat(getResolvePromises(modalOptions.resolve)));return templateAndResolvePromise.then(function(tplAndVars){var modalScope=(modalOptions.scope||$rootScope).$new();modalScope.$close=modalInstance.close,modalScope.$dismiss=modalInstance.dismiss;var ctrlInstance,ctrlLocals={},resolveIter=1;modalOptions.controller&&(ctrlLocals.$scope=modalScope,ctrlLocals.$modalInstance=modalInstance,angular.forEach(modalOptions.resolve,function(value,key){ctrlLocals[key]=tplAndVars[resolveIter++]}),ctrlInstance=$controller(modalOptions.controller,ctrlLocals)),$modalStack.open(modalInstance,{scope:modalScope,deferred:modalResultDeferred,content:tplAndVars[0],backdrop:modalOptions.backdrop,keyboard:modalOptions.keyboard,windowClass:modalOptions.windowClass})},function(reason){modalResultDeferred.reject(reason)}),templateAndResolvePromise.then(function(){modalOpenedDeferred.resolve(!0)},function(){modalOpenedDeferred.reject(!1)}),modalInstance},$modal}]};return $modalProvider}),angular.module("ui.bootstrap.pagination",[]).controller("PaginationController",["$scope","$attrs","$parse","$interpolate",function($scope,$attrs,$parse,$interpolate){var self=this,setNumPages=$attrs.numPages?$parse($attrs.numPages).assign:angular.noop;this.init=function(defaultItemsPerPage){$attrs.itemsPerPage?$scope.$parent.$watch($parse($attrs.itemsPerPage),function(value){self.itemsPerPage=parseInt(value,10),$scope.totalPages=self.calculateTotalPages()}):this.itemsPerPage=defaultItemsPerPage},this.noPrevious=function(){return 1===this.page},this.noNext=function(){return this.page===$scope.totalPages},this.isActive=function(page){return this.page===page},this.calculateTotalPages=function(){var totalPages=this.itemsPerPage<1?1:Math.ceil($scope.totalItems/this.itemsPerPage);return Math.max(totalPages||0,1)},this.getAttributeValue=function(attribute,defaultValue,interpolate){return angular.isDefined(attribute)?interpolate?$interpolate(attribute)($scope.$parent):$scope.$parent.$eval(attribute):defaultValue},this.render=function(){this.page=parseInt($scope.page,10)||1,this.page>0&&this.page<=$scope.totalPages&&($scope.pages=this.getPages(this.page,$scope.totalPages))},$scope.selectPage=function(page){!self.isActive(page)&&page>0&&page<=$scope.totalPages&&($scope.page=page,$scope.onSelectPage({page:page}))},$scope.$watch("page",function(){self.render()}),$scope.$watch("totalItems",function(){$scope.totalPages=self.calculateTotalPages()}),$scope.$watch("totalPages",function(value){setNumPages($scope.$parent,value),self.page>value?$scope.selectPage(value):self.render()})}]).constant("paginationConfig",{itemsPerPage:10,boundaryLinks:!1,directionLinks:!0,firstText:"First",previousText:"Previous",nextText:"Next",lastText:"Last",rotate:!0}).directive("pagination",["$parse","paginationConfig",function($parse,config){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pagination.html",replace:!0,link:function(scope,element,attrs,paginationCtrl){function makePage(number,text,isActive,isDisabled){return{number:number,text:text,active:isActive,disabled:isDisabled}}var maxSize,boundaryLinks=paginationCtrl.getAttributeValue(attrs.boundaryLinks,config.boundaryLinks),directionLinks=paginationCtrl.getAttributeValue(attrs.directionLinks,config.directionLinks),firstText=paginationCtrl.getAttributeValue(attrs.firstText,config.firstText,!0),previousText=paginationCtrl.getAttributeValue(attrs.previousText,config.previousText,!0),nextText=paginationCtrl.getAttributeValue(attrs.nextText,config.nextText,!0),lastText=paginationCtrl.getAttributeValue(attrs.lastText,config.lastText,!0),rotate=paginationCtrl.getAttributeValue(attrs.rotate,config.rotate);paginationCtrl.init(config.itemsPerPage),attrs.maxSize&&scope.$parent.$watch($parse(attrs.maxSize),function(value){maxSize=parseInt(value,10),paginationCtrl.render()}),paginationCtrl.getPages=function(currentPage,totalPages){var pages=[],startPage=1,endPage=totalPages,isMaxSized=angular.isDefined(maxSize)&&totalPages>maxSize;isMaxSized&&(rotate?(startPage=Math.max(currentPage-Math.floor(maxSize/2),1),endPage=startPage+maxSize-1,endPage>totalPages&&(endPage=totalPages,startPage=endPage-maxSize+1)):(startPage=(Math.ceil(currentPage/maxSize)-1)*maxSize+1,endPage=Math.min(startPage+maxSize-1,totalPages)));for(var number=startPage;endPage>=number;number++){var page=makePage(number,number,paginationCtrl.isActive(number),!1);pages.push(page)}if(isMaxSized&&!rotate){if(startPage>1){var previousPageSet=makePage(startPage-1,"...",!1,!1);pages.unshift(previousPageSet)}if(totalPages>endPage){var nextPageSet=makePage(endPage+1,"...",!1,!1);pages.push(nextPageSet)}}if(directionLinks){var previousPage=makePage(currentPage-1,previousText,!1,paginationCtrl.noPrevious());pages.unshift(previousPage);var nextPage=makePage(currentPage+1,nextText,!1,paginationCtrl.noNext());pages.push(nextPage)}if(boundaryLinks){var firstPage=makePage(1,firstText,!1,paginationCtrl.noPrevious());pages.unshift(firstPage);var lastPage=makePage(totalPages,lastText,!1,paginationCtrl.noNext());pages.push(lastPage)}return pages}}}}]).constant("pagerConfig",{itemsPerPage:10,previousText:"« Previous",nextText:"Next »",align:!0}).directive("pager",["pagerConfig",function(config){return{restrict:"EA",scope:{page:"=",totalItems:"=",onSelectPage:" &"},controller:"PaginationController",templateUrl:"template/pagination/pager.html",replace:!0,link:function(scope,element,attrs,paginationCtrl){function makePage(number,text,isDisabled,isPrevious,isNext){return{number:number,text:text,disabled:isDisabled,previous:align&&isPrevious,next:align&&isNext}}var previousText=paginationCtrl.getAttributeValue(attrs.previousText,config.previousText,!0),nextText=paginationCtrl.getAttributeValue(attrs.nextText,config.nextText,!0),align=paginationCtrl.getAttributeValue(attrs.align,config.align);paginationCtrl.init(config.itemsPerPage),paginationCtrl.getPages=function(currentPage){return[makePage(currentPage-1,previousText,paginationCtrl.noPrevious(),!0,!1),makePage(currentPage+1,nextText,paginationCtrl.noNext(),!1,!0)]}}}}]),angular.module("ui.bootstrap.tooltip",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).provider("$tooltip",function(){function snake_case(name){var regexp=/[A-Z]/g,separator="-";return name.replace(regexp,function(letter,pos){return(pos?separator:"")+letter.toLowerCase()})}var defaultOptions={placement:"top",animation:!0,popupDelay:0},triggerMap={mouseenter:"mouseleave",click:"click",focus:"blur"},globalOptions={};this.options=function(value){angular.extend(globalOptions,value)},this.setTriggers=function(triggers){angular.extend(triggerMap,triggers)},this.$get=["$window","$compile","$timeout","$parse","$document","$position","$interpolate",function($window,$compile,$timeout,$parse,$document,$position,$interpolate){return function(type,prefix,defaultTriggerShow){function getTriggers(trigger){var show=trigger||options.trigger||defaultTriggerShow,hide=triggerMap[show]||show;return{show:show,hide:hide}}var options=angular.extend({},defaultOptions,globalOptions),directiveName=snake_case(type),startSym=$interpolate.startSymbol(),endSym=$interpolate.endSymbol(),template="<div "+directiveName+'-popup title="'+startSym+"tt_title"+endSym+'" content="'+startSym+"tt_content"+endSym+'" placement="'+startSym+"tt_placement"+endSym+'" animation="tt_animation" is-open="tt_isOpen"></div>';return{restrict:"EA",scope:!0,compile:function(){var tooltipLinker=$compile(template);return function(scope,element,attrs){function toggleTooltipBind(){scope.tt_isOpen?hideTooltipBind():showTooltipBind()}function showTooltipBind(){(!hasEnableExp||scope.$eval(attrs[prefix+"Enable"]))&&(scope.tt_popupDelay?(popupTimeout=$timeout(show,scope.tt_popupDelay,!1),popupTimeout.then(function(reposition){reposition()})):show()())}function hideTooltipBind(){scope.$apply(function(){hide()})}function show(){return scope.tt_content?(createTooltip(),transitionTimeout&&$timeout.cancel(transitionTimeout),tooltip.css({top:0,left:0,display:"block"}),appendToBody?$document.find("body").append(tooltip):element.after(tooltip),positionTooltip(),scope.tt_isOpen=!0,scope.$digest(),positionTooltip):angular.noop}function hide(){scope.tt_isOpen=!1,$timeout.cancel(popupTimeout),scope.tt_animation?transitionTimeout=$timeout(removeTooltip,500):removeTooltip()}function createTooltip(){tooltip&&removeTooltip(),tooltip=tooltipLinker(scope,function(){}),scope.$digest()}function removeTooltip(){tooltip&&(tooltip.remove(),tooltip=null)}var tooltip,transitionTimeout,popupTimeout,appendToBody=angular.isDefined(options.appendToBody)?options.appendToBody:!1,triggers=getTriggers(void 0),hasRegisteredTriggers=!1,hasEnableExp=angular.isDefined(attrs[prefix+"Enable"]),positionTooltip=function(){var position,ttWidth,ttHeight,ttPosition;switch(position=appendToBody?$position.offset(element):$position.position(element),ttWidth=tooltip.prop("offsetWidth"),ttHeight=tooltip.prop("offsetHeight"),scope.tt_placement){case"right":ttPosition={top:position.top+position.height/2-ttHeight/2,left:position.left+position.width};break;case"bottom":ttPosition={top:position.top+position.height,left:position.left+position.width/2-ttWidth/2};break;case"left":ttPosition={top:position.top+position.height/2-ttHeight/2,left:position.left-ttWidth};break;default:ttPosition={top:position.top-ttHeight,left:position.left+position.width/2-ttWidth/2}}ttPosition.top+="px",ttPosition.left+="px",tooltip.css(ttPosition)};scope.tt_isOpen=!1,attrs.$observe(type,function(val){scope.tt_content=val,!val&&scope.tt_isOpen&&hide()}),attrs.$observe(prefix+"Title",function(val){scope.tt_title=val}),attrs.$observe(prefix+"Placement",function(val){scope.tt_placement=angular.isDefined(val)?val:options.placement}),attrs.$observe(prefix+"PopupDelay",function(val){var delay=parseInt(val,10);scope.tt_popupDelay=isNaN(delay)?options.popupDelay:delay});var unregisterTriggers=function(){hasRegisteredTriggers&&(element.unbind(triggers.show,showTooltipBind),element.unbind(triggers.hide,hideTooltipBind))};attrs.$observe(prefix+"Trigger",function(val){unregisterTriggers(),triggers=getTriggers(val),triggers.show===triggers.hide?element.bind(triggers.show,toggleTooltipBind):(element.bind(triggers.show,showTooltipBind),element.bind(triggers.hide,hideTooltipBind)),hasRegisteredTriggers=!0});var animation=scope.$eval(attrs[prefix+"Animation"]);scope.tt_animation=angular.isDefined(animation)?!!animation:options.animation,attrs.$observe(prefix+"AppendToBody",function(val){appendToBody=angular.isDefined(val)?$parse(val)(scope):appendToBody}),appendToBody&&scope.$on("$locationChangeSuccess",function(){scope.tt_isOpen&&hide()}),scope.$on("$destroy",function(){$timeout.cancel(transitionTimeout),$timeout.cancel(popupTimeout),unregisterTriggers(),removeTooltip()})}}}}}]}).directive("tooltipPopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-popup.html"}}).directive("tooltip",["$tooltip",function($tooltip){return $tooltip("tooltip","tooltip","mouseenter")}]).directive("tooltipHtmlUnsafePopup",function(){return{restrict:"EA",replace:!0,scope:{content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/tooltip/tooltip-html-unsafe-popup.html"}}).directive("tooltipHtmlUnsafe",["$tooltip",function($tooltip){return $tooltip("tooltipHtmlUnsafe","tooltip","mouseenter")}]),angular.module("ui.bootstrap.popover",["ui.bootstrap.tooltip"]).directive("popoverPopup",function(){return{restrict:"EA",replace:!0,scope:{title:"@",content:"@",placement:"@",animation:"&",isOpen:"&"},templateUrl:"template/popover/popover.html"}}).directive("popover",["$tooltip",function($tooltip){return $tooltip("popover","popover","click")}]),angular.module("ui.bootstrap.progressbar",["ui.bootstrap.transition"]).constant("progressConfig",{animate:!0,max:100}).controller("ProgressController",["$scope","$attrs","progressConfig","$transition",function($scope,$attrs,progressConfig,$transition){var self=this,bars=[],max=angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):progressConfig.max,animate=angular.isDefined($attrs.animate)?$scope.$parent.$eval($attrs.animate):progressConfig.animate;this.addBar=function(bar,element){var oldValue=0,index=bar.$parent.$index;angular.isDefined(index)&&bars[index]&&(oldValue=bars[index].value),bars.push(bar),this.update(element,bar.value,oldValue),bar.$watch("value",function(value,oldValue){value!==oldValue&&self.update(element,value,oldValue)}),bar.$on("$destroy",function(){self.removeBar(bar)})},this.update=function(element,newValue,oldValue){var percent=this.getPercentage(newValue);animate?(element.css("width",this.getPercentage(oldValue)+"%"),$transition(element,{width:percent+"%"})):element.css({transition:"none",width:percent+"%"})},this.removeBar=function(bar){bars.splice(bars.indexOf(bar),1)},this.getPercentage=function(value){return Math.round(100*value/max)}}]).directive("progress",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",require:"progress",scope:{},template:'<div class="progress" ng-transclude></div>'}}).directive("bar",function(){return{restrict:"EA",replace:!0,transclude:!0,require:"^progress",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/bar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,element)}}}).directive("progressbar",function(){return{restrict:"EA",replace:!0,transclude:!0,controller:"ProgressController",scope:{value:"=",type:"@"},templateUrl:"template/progressbar/progressbar.html",link:function(scope,element,attrs,progressCtrl){progressCtrl.addBar(scope,angular.element(element.children()[0]))}}}),angular.module("ui.bootstrap.rating",[]).constant("ratingConfig",{max:5,stateOn:null,stateOff:null}).controller("RatingController",["$scope","$attrs","$parse","ratingConfig",function($scope,$attrs,$parse,ratingConfig){this.maxRange=angular.isDefined($attrs.max)?$scope.$parent.$eval($attrs.max):ratingConfig.max,this.stateOn=angular.isDefined($attrs.stateOn)?$scope.$parent.$eval($attrs.stateOn):ratingConfig.stateOn,this.stateOff=angular.isDefined($attrs.stateOff)?$scope.$parent.$eval($attrs.stateOff):ratingConfig.stateOff,this.createRateObjects=function(states){for(var defaultOptions={stateOn:this.stateOn,stateOff:this.stateOff},i=0,n=states.length;n>i;i++)states[i]=angular.extend({index:i},defaultOptions,states[i]);
return states},$scope.range=this.createRateObjects(angular.isDefined($attrs.ratingStates)?angular.copy($scope.$parent.$eval($attrs.ratingStates)):new Array(this.maxRange)),$scope.rate=function(value){$scope.value===value||$scope.readonly||($scope.value=value)},$scope.enter=function(value){$scope.readonly||($scope.val=value),$scope.onHover({value:value})},$scope.reset=function(){$scope.val=angular.copy($scope.value),$scope.onLeave()},$scope.$watch("value",function(value){$scope.val=value}),$scope.readonly=!1,$attrs.readonly&&$scope.$parent.$watch($parse($attrs.readonly),function(value){$scope.readonly=!!value})}]).directive("rating",function(){return{restrict:"EA",scope:{value:"=",onHover:"&",onLeave:"&"},controller:"RatingController",templateUrl:"template/rating/rating.html",replace:!0}}),angular.module("ui.bootstrap.tabs",[]).controller("TabsetController",["$scope",function($scope){var ctrl=this,tabs=ctrl.tabs=$scope.tabs=[];ctrl.select=function(tab){angular.forEach(tabs,function(tab){tab.active=!1}),tab.active=!0},ctrl.addTab=function(tab){tabs.push(tab),(1===tabs.length||tab.active)&&ctrl.select(tab)},ctrl.removeTab=function(tab){var index=tabs.indexOf(tab);if(tab.active&&tabs.length>1){var newActiveIndex=index==tabs.length-1?index-1:index+1;ctrl.select(tabs[newActiveIndex])}tabs.splice(index,1)}}]).directive("tabset",function(){return{restrict:"EA",transclude:!0,replace:!0,scope:{},controller:"TabsetController",templateUrl:"template/tabs/tabset.html",link:function(scope,element,attrs){scope.vertical=angular.isDefined(attrs.vertical)?scope.$parent.$eval(attrs.vertical):!1,scope.justified=angular.isDefined(attrs.justified)?scope.$parent.$eval(attrs.justified):!1,scope.type=angular.isDefined(attrs.type)?scope.$parent.$eval(attrs.type):"tabs"}}}).directive("tab",["$parse",function($parse){return{require:"^tabset",restrict:"EA",replace:!0,templateUrl:"template/tabs/tab.html",transclude:!0,scope:{heading:"@",onSelect:"&select",onDeselect:"&deselect"},controller:function(){},compile:function(elm,attrs,transclude){return function(scope,elm,attrs,tabsetCtrl){var getActive,setActive;attrs.active?(getActive=$parse(attrs.active),setActive=getActive.assign,scope.$parent.$watch(getActive,function(value,oldVal){value!==oldVal&&(scope.active=!!value)}),scope.active=getActive(scope.$parent)):setActive=getActive=angular.noop,scope.$watch("active",function(active){setActive(scope.$parent,active),active?(tabsetCtrl.select(scope),scope.onSelect()):scope.onDeselect()}),scope.disabled=!1,attrs.disabled&&scope.$parent.$watch($parse(attrs.disabled),function(value){scope.disabled=!!value}),scope.select=function(){scope.disabled||(scope.active=!0)},tabsetCtrl.addTab(scope),scope.$on("$destroy",function(){tabsetCtrl.removeTab(scope)}),scope.$transcludeFn=transclude}}}}]).directive("tabHeadingTransclude",[function(){return{restrict:"A",require:"^tab",link:function(scope,elm){scope.$watch("headingElement",function(heading){heading&&(elm.html(""),elm.append(heading))})}}}]).directive("tabContentTransclude",function(){function isTabHeading(node){return node.tagName&&(node.hasAttribute("tab-heading")||node.hasAttribute("data-tab-heading")||"tab-heading"===node.tagName.toLowerCase()||"data-tab-heading"===node.tagName.toLowerCase())}return{restrict:"A",require:"^tabset",link:function(scope,elm,attrs){var tab=scope.$eval(attrs.tabContentTransclude);tab.$transcludeFn(tab.$parent,function(contents){angular.forEach(contents,function(node){isTabHeading(node)?tab.headingElement=node:elm.append(node)})})}}}),angular.module("ui.bootstrap.timepicker",[]).constant("timepickerConfig",{hourStep:1,minuteStep:1,showMeridian:!0,meridians:null,readonlyInput:!1,mousewheel:!0}).directive("timepicker",["$parse","$log","timepickerConfig","$locale",function($parse,$log,timepickerConfig,$locale){return{restrict:"EA",require:"?^ngModel",replace:!0,scope:{},templateUrl:"template/timepicker/timepicker.html",link:function(scope,element,attrs,ngModel){function getHoursFromTemplate(){var hours=parseInt(scope.hours,10),valid=scope.showMeridian?hours>0&&13>hours:hours>=0&&24>hours;return valid?(scope.showMeridian&&(12===hours&&(hours=0),scope.meridian===meridians[1]&&(hours+=12)),hours):void 0}function getMinutesFromTemplate(){var minutes=parseInt(scope.minutes,10);return minutes>=0&&60>minutes?minutes:void 0}function pad(value){return angular.isDefined(value)&&value.toString().length<2?"0"+value:value}function refresh(keyboardChange){makeValid(),ngModel.$setViewValue(new Date(selected)),updateTemplate(keyboardChange)}function makeValid(){ngModel.$setValidity("time",!0),scope.invalidHours=!1,scope.invalidMinutes=!1}function updateTemplate(keyboardChange){var hours=selected.getHours(),minutes=selected.getMinutes();scope.showMeridian&&(hours=0===hours||12===hours?12:hours%12),scope.hours="h"===keyboardChange?hours:pad(hours),scope.minutes="m"===keyboardChange?minutes:pad(minutes),scope.meridian=selected.getHours()<12?meridians[0]:meridians[1]}function addMinutes(minutes){var dt=new Date(selected.getTime()+6e4*minutes);selected.setHours(dt.getHours(),dt.getMinutes()),refresh()}if(ngModel){var selected=new Date,meridians=angular.isDefined(attrs.meridians)?scope.$parent.$eval(attrs.meridians):timepickerConfig.meridians||$locale.DATETIME_FORMATS.AMPMS,hourStep=timepickerConfig.hourStep;attrs.hourStep&&scope.$parent.$watch($parse(attrs.hourStep),function(value){hourStep=parseInt(value,10)});var minuteStep=timepickerConfig.minuteStep;attrs.minuteStep&&scope.$parent.$watch($parse(attrs.minuteStep),function(value){minuteStep=parseInt(value,10)}),scope.showMeridian=timepickerConfig.showMeridian,attrs.showMeridian&&scope.$parent.$watch($parse(attrs.showMeridian),function(value){if(scope.showMeridian=!!value,ngModel.$error.time){var hours=getHoursFromTemplate(),minutes=getMinutesFromTemplate();angular.isDefined(hours)&&angular.isDefined(minutes)&&(selected.setHours(hours),refresh())}else updateTemplate()});var inputs=element.find("input"),hoursInputEl=inputs.eq(0),minutesInputEl=inputs.eq(1),mousewheel=angular.isDefined(attrs.mousewheel)?scope.$eval(attrs.mousewheel):timepickerConfig.mousewheel;if(mousewheel){var isScrollingUp=function(e){e.originalEvent&&(e=e.originalEvent);var delta=e.wheelDelta?e.wheelDelta:-e.deltaY;return e.detail||delta>0};hoursInputEl.bind("mousewheel wheel",function(e){scope.$apply(isScrollingUp(e)?scope.incrementHours():scope.decrementHours()),e.preventDefault()}),minutesInputEl.bind("mousewheel wheel",function(e){scope.$apply(isScrollingUp(e)?scope.incrementMinutes():scope.decrementMinutes()),e.preventDefault()})}if(scope.readonlyInput=angular.isDefined(attrs.readonlyInput)?scope.$eval(attrs.readonlyInput):timepickerConfig.readonlyInput,scope.readonlyInput)scope.updateHours=angular.noop,scope.updateMinutes=angular.noop;else{var invalidate=function(invalidHours,invalidMinutes){ngModel.$setViewValue(null),ngModel.$setValidity("time",!1),angular.isDefined(invalidHours)&&(scope.invalidHours=invalidHours),angular.isDefined(invalidMinutes)&&(scope.invalidMinutes=invalidMinutes)};scope.updateHours=function(){var hours=getHoursFromTemplate();angular.isDefined(hours)?(selected.setHours(hours),refresh("h")):invalidate(!0)},hoursInputEl.bind("blur",function(){!scope.validHours&&scope.hours<10&&scope.$apply(function(){scope.hours=pad(scope.hours)})}),scope.updateMinutes=function(){var minutes=getMinutesFromTemplate();angular.isDefined(minutes)?(selected.setMinutes(minutes),refresh("m")):invalidate(void 0,!0)},minutesInputEl.bind("blur",function(){!scope.invalidMinutes&&scope.minutes<10&&scope.$apply(function(){scope.minutes=pad(scope.minutes)})})}ngModel.$render=function(){var date=ngModel.$modelValue?new Date(ngModel.$modelValue):null;isNaN(date)?(ngModel.$setValidity("time",!1),$log.error('Timepicker directive: "ng-model" value must be a Date object, a number of milliseconds since 01.01.1970 or a string representing an RFC2822 or ISO 8601 date.')):(date&&(selected=date),makeValid(),updateTemplate())},scope.incrementHours=function(){addMinutes(60*hourStep)},scope.decrementHours=function(){addMinutes(60*-hourStep)},scope.incrementMinutes=function(){addMinutes(minuteStep)},scope.decrementMinutes=function(){addMinutes(-minuteStep)},scope.toggleMeridian=function(){addMinutes(720*(selected.getHours()<12?1:-1))}}}}}]),angular.module("ui.bootstrap.typeahead",["ui.bootstrap.position","ui.bootstrap.bindHtml"]).factory("typeaheadParser",["$parse",function($parse){var TYPEAHEAD_REGEXP=/^\s*(.*?)(?:\s+as\s+(.*?))?\s+for\s+(?:([\$\w][\$\w\d]*))\s+in\s+(.*)$/;return{parse:function(input){var match=input.match(TYPEAHEAD_REGEXP);if(!match)throw new Error("Expected typeahead specification in form of '_modelValue_ (as _label_)? for _item_ in _collection_' but got '"+input+"'.");return{itemName:match[3],source:$parse(match[4]),viewMapper:$parse(match[2]||match[1]),modelMapper:$parse(match[1])}}}}]).directive("typeahead",["$compile","$parse","$q","$timeout","$document","$position","typeaheadParser",function($compile,$parse,$q,$timeout,$document,$position,typeaheadParser){var HOT_KEYS=[9,13,27,38,40];return{require:"ngModel",link:function(originalScope,element,attrs,modelCtrl){var hasFocus,minSearch=originalScope.$eval(attrs.typeaheadMinLength)||1,waitTime=originalScope.$eval(attrs.typeaheadWaitMs)||0,isEditable=originalScope.$eval(attrs.typeaheadEditable)!==!1,isLoadingSetter=$parse(attrs.typeaheadLoading).assign||angular.noop,onSelectCallback=$parse(attrs.typeaheadOnSelect),inputFormatter=attrs.typeaheadInputFormatter?$parse(attrs.typeaheadInputFormatter):void 0,appendToBody=attrs.typeaheadAppendToBody?$parse(attrs.typeaheadAppendToBody):!1,$setModelValue=$parse(attrs.ngModel).assign,parserResult=typeaheadParser.parse(attrs.typeahead),popUpEl=angular.element("<div typeahead-popup></div>");popUpEl.attr({matches:"matches",active:"activeIdx",select:"select(activeIdx)",query:"query",position:"position"}),angular.isDefined(attrs.typeaheadTemplateUrl)&&popUpEl.attr("template-url",attrs.typeaheadTemplateUrl);var scope=originalScope.$new();originalScope.$on("$destroy",function(){scope.$destroy()});var resetMatches=function(){scope.matches=[],scope.activeIdx=-1},getMatchesAsync=function(inputValue){var locals={$viewValue:inputValue};isLoadingSetter(originalScope,!0),$q.when(parserResult.source(originalScope,locals)).then(function(matches){if(inputValue===modelCtrl.$viewValue&&hasFocus){if(matches.length>0){scope.activeIdx=0,scope.matches.length=0;for(var i=0;i<matches.length;i++)locals[parserResult.itemName]=matches[i],scope.matches.push({label:parserResult.viewMapper(scope,locals),model:matches[i]});scope.query=inputValue,scope.position=appendToBody?$position.offset(element):$position.position(element),scope.position.top=scope.position.top+element.prop("offsetHeight")}else resetMatches();isLoadingSetter(originalScope,!1)}},function(){resetMatches(),isLoadingSetter(originalScope,!1)})};resetMatches(),scope.query=void 0;var timeoutPromise;modelCtrl.$parsers.unshift(function(inputValue){return hasFocus=!0,inputValue&&inputValue.length>=minSearch?waitTime>0?(timeoutPromise&&$timeout.cancel(timeoutPromise),timeoutPromise=$timeout(function(){getMatchesAsync(inputValue)},waitTime)):getMatchesAsync(inputValue):(isLoadingSetter(originalScope,!1),resetMatches()),isEditable?inputValue:inputValue?void modelCtrl.$setValidity("editable",!1):(modelCtrl.$setValidity("editable",!0),inputValue)}),modelCtrl.$formatters.push(function(modelValue){var candidateViewValue,emptyViewValue,locals={};return inputFormatter?(locals.$model=modelValue,inputFormatter(originalScope,locals)):(locals[parserResult.itemName]=modelValue,candidateViewValue=parserResult.viewMapper(originalScope,locals),locals[parserResult.itemName]=void 0,emptyViewValue=parserResult.viewMapper(originalScope,locals),candidateViewValue!==emptyViewValue?candidateViewValue:modelValue)}),scope.select=function(activeIdx){var model,item,locals={};locals[parserResult.itemName]=item=scope.matches[activeIdx].model,model=parserResult.modelMapper(originalScope,locals),$setModelValue(originalScope,model),modelCtrl.$setValidity("editable",!0),onSelectCallback(originalScope,{$item:item,$model:model,$label:parserResult.viewMapper(originalScope,locals)}),resetMatches(),element[0].focus()},element.bind("keydown",function(evt){0!==scope.matches.length&&-1!==HOT_KEYS.indexOf(evt.which)&&(evt.preventDefault(),40===evt.which?(scope.activeIdx=(scope.activeIdx+1)%scope.matches.length,scope.$digest()):38===evt.which?(scope.activeIdx=(scope.activeIdx?scope.activeIdx:scope.matches.length)-1,scope.$digest()):13===evt.which||9===evt.which?scope.$apply(function(){scope.select(scope.activeIdx)}):27===evt.which&&(evt.stopPropagation(),resetMatches(),scope.$digest()))}),element.bind("blur",function(){hasFocus=!1});var dismissClickHandler=function(evt){element[0]!==evt.target&&(resetMatches(),scope.$digest())};$document.bind("click",dismissClickHandler),originalScope.$on("$destroy",function(){$document.unbind("click",dismissClickHandler)});var $popup=$compile(popUpEl)(scope);appendToBody?$document.find("body").append($popup):element.after($popup)}}}]).directive("typeaheadPopup",function(){return{restrict:"EA",scope:{matches:"=",query:"=",active:"=",position:"=",select:"&"},replace:!0,templateUrl:"template/typeahead/typeahead-popup.html",link:function(scope,element,attrs){scope.templateUrl=attrs.templateUrl,scope.isOpen=function(){return scope.matches.length>0},scope.isActive=function(matchIdx){return scope.active==matchIdx},scope.selectActive=function(matchIdx){scope.active=matchIdx},scope.selectMatch=function(activeIdx){scope.select({activeIdx:activeIdx})}}}}).directive("typeaheadMatch",["$http","$templateCache","$compile","$parse",function($http,$templateCache,$compile,$parse){return{restrict:"EA",scope:{index:"=",match:"=",query:"="},link:function(scope,element,attrs){var tplUrl=$parse(attrs.templateUrl)(scope.$parent)||"template/typeahead/typeahead-match.html";$http.get(tplUrl,{cache:$templateCache}).success(function(tplContent){element.replaceWith($compile(tplContent.trim())(scope))})}}}]).filter("typeaheadHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query){return query?matchItem.replace(new RegExp(escapeRegexp(query),"gi"),"<strong>$&</strong>"):matchItem}}),angular.module("template/accordion/accordion-group.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion-group.html",'<div class="panel panel-default">\n  <div class="panel-heading">\n    <h4 class="panel-title">\n      <a class="accordion-toggle" ng-click="isOpen = !isOpen" accordion-transclude="heading">{{heading}}</a>\n    </h4>\n  </div>\n  <div class="panel-collapse" collapse="!isOpen">\n	  <div class="panel-body" ng-transclude></div>\n  </div>\n</div>')}]),angular.module("template/accordion/accordion.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/accordion/accordion.html",'<div class="panel-group" ng-transclude></div>')}]),angular.module("template/alert/alert.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/alert/alert.html","<div class='alert' ng-class='\"alert-\" + (type || \"warning\")'>\n    <button ng-show='closeable' type='button' class='close' ng-click='close()'>&times;</button>\n    <div ng-transclude></div>\n</div>\n")}]),angular.module("template/carousel/carousel.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/carousel.html",'<div ng-mouseenter="pause()" ng-mouseleave="play()" class="carousel">\n    <ol class="carousel-indicators" ng-show="slides().length > 1">\n        <li ng-repeat="slide in slides()" ng-class="{active: isActive(slide)}" ng-click="select(slide)"></li>\n    </ol>\n    <div class="carousel-inner" ng-transclude></div>\n    <a class="left carousel-control" ng-click="prev()" ng-show="slides().length > 1"><span class="icon-prev"></span></a>\n    <a class="right carousel-control" ng-click="next()" ng-show="slides().length > 1"><span class="icon-next"></span></a>\n</div>\n')}]),angular.module("template/carousel/slide.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/carousel/slide.html","<div ng-class=\"{\n    'active': leaving || (active && !entering),\n    'prev': (next || active) && direction=='prev',\n    'next': (next || active) && direction=='next',\n    'right': direction=='prev',\n    'left': direction=='next'\n  }\" class=\"item text-center\" ng-transclude></div>\n")}]),angular.module("template/datepicker/datepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/datepicker.html",'<table>\n  <thead>\n    <tr>\n      <th><button type="button" class="btn btn-default btn-sm pull-left" ng-click="move(-1)"><i class="glyphicon glyphicon-chevron-left"></i></button></th>\n      <th colspan="{{rows[0].length - 2 + showWeekNumbers}}"><button type="button" class="btn btn-default btn-sm btn-block" ng-click="toggleMode()"><strong>{{title}}</strong></button></th>\n      <th><button type="button" class="btn btn-default btn-sm pull-right" ng-click="move(1)"><i class="glyphicon glyphicon-chevron-right"></i></button></th>\n    </tr>\n    <tr ng-show="labels.length > 0" class="h6">\n      <th ng-show="showWeekNumbers" class="text-center">#</th>\n      <th ng-repeat="label in labels" class="text-center">{{label}}</th>\n    </tr>\n  </thead>\n  <tbody>\n    <tr ng-repeat="row in rows">\n      <td ng-show="showWeekNumbers" class="text-center"><em>{{ getWeekNumber(row) }}</em></td>\n      <td ng-repeat="dt in row" class="text-center">\n        <button type="button" style="width:100%;" class="btn btn-default btn-sm" ng-class="{\'btn-info\': dt.selected}" ng-click="select(dt.date)" ng-disabled="dt.disabled"><span ng-class="{\'text-muted\': dt.secondary}">{{dt.label}}</span></button>\n      </td>\n    </tr>\n  </tbody>\n</table>\n')}]),angular.module("template/datepicker/popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/datepicker/popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: (isOpen && 'block') || 'none', top: position.top+'px', left: position.left+'px'}\">\n	<li ng-transclude></li>\n"+'	<li ng-show="showButtonBar" style="padding:10px 9px 2px">\n		<span class="btn-group">\n			<button type="button" class="btn btn-sm btn-info" ng-click="today()">{{currentText}}</button>\n			<button type="button" class="btn btn-sm btn-default" ng-click="showWeeks = ! showWeeks" ng-class="{active: showWeeks}">{{toggleWeeksText}}</button>\n			<button type="button" class="btn btn-sm btn-danger" ng-click="clear()">{{clearText}}</button>\n		</span>\n		<button type="button" class="btn btn-sm btn-success pull-right" ng-click="isOpen = false">{{closeText}}</button>\n	</li>\n</ul>\n')}]),angular.module("template/modal/backdrop.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/backdrop.html",'<div class="modal-backdrop fade" ng-class="{in: animate}" ng-style="{\'z-index\': 1040 + index*10}"></div>')}]),angular.module("template/modal/window.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/modal/window.html",'<div tabindex="-1" class="modal fade {{ windowClass }}" ng-class="{in: animate}" ng-style="{\'z-index\': 1050 + index*10, display: \'block\'}" ng-click="close($event)">\n    <div class="modal-dialog"><div class="modal-content" ng-transclude></div></div>\n</div>')}]),angular.module("template/pagination/pager.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pager.html",'<ul class="pager">\n  <li ng-repeat="page in pages" ng-class="{disabled: page.disabled, previous: page.previous, next: page.next}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/pagination/pagination.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/pagination/pagination.html",'<ul class="pagination">\n  <li ng-repeat="page in pages" ng-class="{active: page.active, disabled: page.disabled}"><a ng-click="selectPage(page.number)">{{page.text}}</a></li>\n</ul>')}]),angular.module("template/tooltip/tooltip-html-unsafe-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-html-unsafe-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" bind-html-unsafe="content"></div>\n</div>\n')}]),angular.module("template/tooltip/tooltip-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tooltip/tooltip-popup.html",'<div class="tooltip {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="tooltip-arrow"></div>\n  <div class="tooltip-inner" ng-bind="content"></div>\n</div>\n')}]),angular.module("template/popover/popover.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/popover/popover.html",'<div class="popover {{placement}}" ng-class="{ in: isOpen(), fade: animation() }">\n  <div class="arrow"></div>\n\n  <div class="popover-inner">\n      <h3 class="popover-title" ng-bind="title" ng-show="title"></h3>\n      <div class="popover-content" ng-bind="content"></div>\n  </div>\n</div>\n')}]),angular.module("template/progressbar/bar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/bar.html",'<div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div>')}]),angular.module("template/progressbar/progress.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progress.html",'<div class="progress" ng-transclude></div>')}]),angular.module("template/progressbar/progressbar.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/progressbar/progressbar.html",'<div class="progress"><div class="progress-bar" ng-class="type && \'progress-bar-\' + type" ng-transclude></div></div>')}]),angular.module("template/rating/rating.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/rating/rating.html",'<span ng-mouseleave="reset()">\n    <i ng-repeat="r in range" ng-mouseenter="enter($index + 1)" ng-click="rate($index + 1)" class="glyphicon" ng-class="$index < val && (r.stateOn || \'glyphicon-star\') || (r.stateOff || \'glyphicon-star-empty\')"></i>\n</span>')}]),angular.module("template/tabs/tab.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tab.html",'<li ng-class="{active: active, disabled: disabled}">\n  <a ng-click="select()" tab-heading-transclude>{{heading}}</a>\n</li>\n')}]),angular.module("template/tabs/tabset-titles.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset-titles.html","<ul class=\"nav {{type && 'nav-' + type}}\" ng-class=\"{'nav-stacked': vertical}\">\n</ul>\n")}]),angular.module("template/tabs/tabset.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/tabs/tabset.html",'\n<div class="tabbable">\n  <ul class="nav {{type && \'nav-\' + type}}" ng-class="{\'nav-stacked\': vertical, \'nav-justified\': justified}" ng-transclude></ul>\n  <div class="tab-content">\n    <div class="tab-pane" \n         ng-repeat="tab in tabs" \n         ng-class="{active: tab.active}"\n         tab-content-transclude="tab">\n    </div>\n  </div>\n</div>\n')}]),angular.module("template/timepicker/timepicker.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/timepicker/timepicker.html",'<table>\n	<tbody>\n		<tr class="text-center">\n			<td><a ng-click="incrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="incrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-up"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n		<tr>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidHours}">\n				<input type="text" ng-model="hours" ng-change="updateHours()" class="form-control text-center" ng-mousewheel="incrementHours()" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td>:</td>\n			<td style="width:50px;" class="form-group" ng-class="{\'has-error\': invalidMinutes}">\n				<input type="text" ng-model="minutes" ng-change="updateMinutes()" class="form-control text-center" ng-readonly="readonlyInput" maxlength="2">\n			</td>\n			<td ng-show="showMeridian"><button type="button" class="btn btn-default text-center" ng-click="toggleMeridian()">{{meridian}}</button></td>\n		</tr>\n		<tr class="text-center">\n			<td><a ng-click="decrementHours()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td>&nbsp;</td>\n			<td><a ng-click="decrementMinutes()" class="btn btn-link"><span class="glyphicon glyphicon-chevron-down"></span></a></td>\n			<td ng-show="showMeridian"></td>\n		</tr>\n	</tbody>\n</table>\n')}]),angular.module("template/typeahead/typeahead-match.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-match.html",'<a tabindex="-1" bind-html-unsafe="match.label | typeaheadHighlight:query"></a>')}]),angular.module("template/typeahead/typeahead-popup.html",[]).run(["$templateCache",function($templateCache){$templateCache.put("template/typeahead/typeahead-popup.html","<ul class=\"dropdown-menu\" ng-style=\"{display: isOpen()&&'block' || 'none', top: position.top+'px', left: position.left+'px'}\">\n"+'    <li ng-repeat="match in matches" ng-class="{active: isActive($index) }" ng-mouseenter="selectActive($index)" ng-click="selectMatch($index)">\n        <div typeahead-match index="$index" match="match" query="query" template-url="templateUrl"></div>\n    </li>\n</ul>')}]),define("angularBootstrap",["angular"],function(){}),define("app/common/services/postService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";var postServiceModule=angular.module("ernr.postService",["common.resources.constant"]).factory("postFactory",["apiDomain","$http","$q",function(constant,$http,$q){return{createpost:function(ipts){return $http.post(constant.domain+"/posts",ipts)},getPostById:function(id){return $http.get(constant.domain+"/posts/"+id)},getPaths:function(page,per_page){var deferred=$q.defer();return page=page||0,per_page=per_page||20,$http.get("../javascripts/app/common/resources/json/mock/pathList.json").success(function(dt){deferred.resolve(dt.splice(page*per_page,per_page))}),deferred.promise},getRabbitHoles:function(page,per_page){var deferred=$q.defer();return page=page||0,per_page=per_page||20,$http.get("../javascripts/app/common/resources/json/mock/rabbitHoles.json").success(function(dt){deferred.resolve(dt.splice(page*per_page,per_page))}),deferred.promise},comments:function(id,params){return $http.get(constant.domain+"/posts/"+id+"/comments",{params:params})},share:function(id){return $http.post(constant.domain+"/share",{postid:id})},shareTo:function(id,receiverid){return $http.post(constant.domain+"/shareto",{postid:id,receiverid:receiverid})},setThumb:function(id,thumb){return $http.post(constant.domain+"/posts/setthumb",{postid:id,thumb:thumb})}}}]);return postServiceModule}),angular.module("mentio",[]).directive("mentio",["mentioUtil","$document","$compile","$log","$timeout",function(mentioUtil,$document,$compile,$log,$timeout){return{restrict:"A",scope:{macros:"=mentioMacros",search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",typedTerm:"=mentioTypedTerm",altId:"=mentioId",iframeElement:"=mentioIframeElement",requireLeadingSpace:"=mentioRequireLeadingSpace",selectNotFound:"=mentioSelectNotFound",trimTerm:"=mentioTrimTerm",ngModel:"="},controller:["$scope","$timeout","$attrs",function($scope,$timeout,$attrs){$scope.query=function(triggerChar,triggerText){var remoteScope=$scope.triggerCharMap[triggerChar];(void 0===$scope.trimTerm||$scope.trimTerm)&&(triggerText=triggerText.trim()),remoteScope.showMenu(),remoteScope.search({term:triggerText}),remoteScope.typedTerm=triggerText},$scope.defaultSearch=function(locals){var results=[];angular.forEach($scope.items,function(item){item.label.toUpperCase().indexOf(locals.term.toUpperCase())>=0&&results.push(item)}),$scope.localItems=results},$scope.bridgeSearch=function(termString){var searchFn=$attrs.mentioSearch?$scope.search:$scope.defaultSearch;searchFn({term:termString})},$scope.defaultSelect=function(locals){return $scope.defaultTriggerChar+locals.item.label},$scope.bridgeSelect=function(itemVar){var selectFn=$attrs.mentioSelect?$scope.select:$scope.defaultSelect;return selectFn({item:itemVar})},$scope.setTriggerText=function(text){$scope.syncTriggerText&&($scope.typedTerm=void 0===$scope.trimTerm||$scope.trimTerm?text.trim():text)},$scope.context=function(){return $scope.iframeElement?{iframe:$scope.iframeElement}:void 0},$scope.replaceText=function(text,hasTrailingSpace){if($scope.hideAll(),mentioUtil.replaceTriggerText($scope.context(),$scope.targetElement,$scope.targetElementPath,$scope.targetElementSelectedOffset,$scope.triggerCharSet,text,$scope.requireLeadingSpace,hasTrailingSpace),!hasTrailingSpace&&($scope.setTriggerText(""),angular.element($scope.targetElement).triggerHandler("change"),$scope.isContentEditable())){$scope.contentEditableMenuPasted=!0;var timer=$timeout(function(){$scope.contentEditableMenuPasted=!1},200);$scope.$on("$destroy",function(){$timeout.cancel(timer)})}},$scope.hideAll=function(){for(var key in $scope.triggerCharMap)$scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].hideMenu()},$scope.getActiveMenuScope=function(){for(var key in $scope.triggerCharMap)if($scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].visible)return $scope.triggerCharMap[key];return null},$scope.selectActive=function(){for(var key in $scope.triggerCharMap)$scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].visible&&$scope.triggerCharMap[key].selectActive()},$scope.isActive=function(){for(var key in $scope.triggerCharMap)if($scope.triggerCharMap.hasOwnProperty(key)&&$scope.triggerCharMap[key].visible)return!0;return!1},$scope.isContentEditable=function(){return"INPUT"!==$scope.targetElement.nodeName&&"TEXTAREA"!==$scope.targetElement.nodeName},$scope.replaceMacro=function(macro,hasTrailingSpace){hasTrailingSpace?mentioUtil.replaceMacroText($scope.context(),$scope.targetElement,$scope.targetElementPath,$scope.targetElementSelectedOffset,$scope.macros,$scope.macros[macro]):($scope.replacingMacro=!0,$scope.timer=$timeout(function(){mentioUtil.replaceMacroText($scope.context(),$scope.targetElement,$scope.targetElementPath,$scope.targetElementSelectedOffset,$scope.macros,$scope.macros[macro]),angular.element($scope.targetElement).triggerHandler("change"),$scope.replacingMacro=!1},300),$scope.$on("$destroy",function(){$timeout.cancel($scope.timer)}))},$scope.addMenu=function(menuScope){menuScope.parentScope&&$scope.triggerCharMap.hasOwnProperty(menuScope.triggerChar)||($scope.triggerCharMap[menuScope.triggerChar]=menuScope,void 0===$scope.triggerCharSet&&($scope.triggerCharSet=[]),$scope.triggerCharSet.push(menuScope.triggerChar),menuScope.setParent($scope))},$scope.$on("menuCreated",function(event,data){(void 0!==$attrs.id||void 0!==$attrs.mentioId)&&($attrs.id===data.targetElement||void 0!==$attrs.mentioId&&$scope.altId===data.targetElement)&&$scope.addMenu(data.scope)}),$document.on("click",function(){$scope.isActive()&&$scope.$apply(function(){$scope.hideAll()})}),$document.on("keydown keypress paste",function(event){var activeMenuScope=$scope.getActiveMenuScope();activeMenuScope&&((9===event.which||13===event.which)&&(event.preventDefault(),activeMenuScope.selectActive()),27===event.which&&(event.preventDefault(),activeMenuScope.$apply(function(){activeMenuScope.hideMenu()
})),40===event.which&&(event.preventDefault(),activeMenuScope.$apply(function(){activeMenuScope.activateNextItem()}),activeMenuScope.adjustScroll(1)),38===event.which&&(event.preventDefault(),activeMenuScope.$apply(function(){activeMenuScope.activatePreviousItem()}),activeMenuScope.adjustScroll(-1)),(37===event.which||39===event.which)&&event.preventDefault())})}],link:function(scope,element,attrs){function keyHandler(event){function stopEvent(event){event.preventDefault(),event.stopPropagation(),event.stopImmediatePropagation()}var activeMenuScope=scope.getActiveMenuScope();if(activeMenuScope){if(9===event.which||13===event.which)return stopEvent(event),activeMenuScope.selectActive(),!1;if(27===event.which)return stopEvent(event),activeMenuScope.$apply(function(){activeMenuScope.hideMenu()}),!1;if(40===event.which)return stopEvent(event),activeMenuScope.$apply(function(){activeMenuScope.activateNextItem()}),activeMenuScope.adjustScroll(1),!1;if(38===event.which)return stopEvent(event),activeMenuScope.$apply(function(){activeMenuScope.activatePreviousItem()}),activeMenuScope.adjustScroll(-1),!1;if(37===event.which||39===event.which)return stopEvent(event),!1}}if(scope.triggerCharMap={},scope.targetElement=element,attrs.$set("autocomplete","off"),attrs.mentioItems){scope.localItems=[],scope.parentScope=scope;var itemsRef=attrs.mentioSearch?' mentio-items="items"':' mentio-items="localItems"';scope.defaultTriggerChar=attrs.mentioTriggerChar?scope.$eval(attrs.mentioTriggerChar):"@";var html='<mentio-menu mentio-search="bridgeSearch(term)" mentio-select="bridgeSelect(item)"'+itemsRef;attrs.mentioTemplateUrl&&(html=html+' mentio-template-url="'+attrs.mentioTemplateUrl+'"'),html=html+" mentio-trigger-char=\"'"+scope.defaultTriggerChar+'\'" mentio-parent-scope="parentScope"/>';var linkFn=$compile(html),el=linkFn(scope);element.parent().append(el),scope.$on("$destroy",function(){el.remove()})}attrs.mentioTypedTerm&&(scope.syncTriggerText=!0),scope.$watch("iframeElement",function(newValue){if(newValue){var iframeDocument=newValue.contentWindow.document;iframeDocument.addEventListener("click",function(){scope.isActive()&&scope.$apply(function(){scope.hideAll()})}),iframeDocument.addEventListener("keydown",keyHandler,!0),scope.$on("$destroy",function(){iframeDocument.removeEventListener("keydown",keyHandler)})}}),scope.$watch("ngModel",function(newValue){if(newValue&&""!==newValue||scope.isActive()){if(void 0===scope.triggerCharSet)return void $log.error("Error, no mentio-items attribute was provided, and no separate mentio-menus were specified.  Nothing to do.");if(scope.contentEditableMenuPasted)return void(scope.contentEditableMenuPasted=!1);scope.replacingMacro&&($timeout.cancel(scope.timer),scope.replacingMacro=!1);var isActive=scope.isActive(),isContentEditable=scope.isContentEditable(),mentionInfo=mentioUtil.getTriggerInfo(scope.context(),scope.triggerCharSet,scope.requireLeadingSpace,isActive);if(void 0!==mentionInfo&&(!isActive||isActive&&(isContentEditable&&mentionInfo.mentionTriggerChar===scope.currentMentionTriggerChar||!isContentEditable&&mentionInfo.mentionPosition===scope.currentMentionPosition)))mentionInfo.mentionSelectedElement&&(scope.targetElement=mentionInfo.mentionSelectedElement,scope.targetElementPath=mentionInfo.mentionSelectedPath,scope.targetElementSelectedOffset=mentionInfo.mentionSelectedOffset),scope.setTriggerText(mentionInfo.mentionText),scope.currentMentionPosition=mentionInfo.mentionPosition,scope.currentMentionTriggerChar=mentionInfo.mentionTriggerChar,scope.query(mentionInfo.mentionTriggerChar,mentionInfo.mentionText);else{var currentTypedTerm=scope.typedTerm;scope.setTriggerText(""),scope.hideAll();var macroMatchInfo=mentioUtil.getMacroMatch(scope.context(),scope.macros);if(void 0!==macroMatchInfo)scope.targetElement=macroMatchInfo.macroSelectedElement,scope.targetElementPath=macroMatchInfo.macroSelectedPath,scope.targetElementSelectedOffset=macroMatchInfo.macroSelectedOffset,scope.replaceMacro(macroMatchInfo.macroText,macroMatchInfo.macroHasTrailingSpace);else if(scope.selectNotFound&&currentTypedTerm&&""!==currentTypedTerm){var lastScope=scope.triggerCharMap[scope.currentMentionTriggerChar];if(lastScope){var text=lastScope.select({item:{label:currentTypedTerm}});"function"==typeof text.then?text.then(scope.replaceText):scope.replaceText(text,!0)}}}}})}}}]).directive("mentioMenu",["mentioUtil","$rootScope","$log","$window","$document",function(mentioUtil,$rootScope,$log,$window,$document){return{restrict:"E",scope:{search:"&mentioSearch",select:"&mentioSelect",items:"=mentioItems",triggerChar:"=mentioTriggerChar",forElem:"=mentioFor",parentScope:"=mentioParentScope"},templateUrl:function(tElement,tAttrs){return void 0!==tAttrs.mentioTemplateUrl?tAttrs.mentioTemplateUrl:"mentio-menu.tpl.html"},controller:["$scope",function($scope){$scope.visible=!1,this.activate=$scope.activate=function(item){$scope.activeItem=item},this.isActive=$scope.isActive=function(item){return $scope.activeItem===item},this.selectItem=$scope.selectItem=function(item){var text=$scope.select({item:item});"function"==typeof text.then?text.then($scope.parentMentio.replaceText):$scope.parentMentio.replaceText(text)},$scope.activateNextItem=function(){var index=$scope.items.indexOf($scope.activeItem);this.activate($scope.items[(index+1)%$scope.items.length])},$scope.activatePreviousItem=function(){var index=$scope.items.indexOf($scope.activeItem);this.activate($scope.items[0===index?$scope.items.length-1:index-1])},$scope.isFirstItemActive=function(){var index=$scope.items.indexOf($scope.activeItem);return 0===index},$scope.isLastItemActive=function(){var index=$scope.items.indexOf($scope.activeItem);return index===$scope.items.length-1},$scope.selectActive=function(){$scope.selectItem($scope.activeItem)},$scope.isVisible=function(){return $scope.visible},$scope.showMenu=function(){$scope.visible||($scope.requestVisiblePendingSearch=!0)},$scope.setParent=function(scope){$scope.parentMentio=scope,$scope.targetElement=scope.targetElement}}],link:function(scope,element){if(element[0].parentNode.removeChild(element[0]),$document[0].body.appendChild(element[0]),scope.menuElement=element,scope.parentScope)scope.parentScope.addMenu(scope);else{if(!scope.forElem)return void $log.error("mentio-menu requires a target element in tbe mentio-for attribute");if(!scope.triggerChar)return void $log.error("mentio-menu requires a trigger char");$rootScope.$broadcast("menuCreated",{targetElement:scope.forElem,scope:scope})}angular.element($window).bind("resize",function(){if(scope.isVisible()){var triggerCharSet=[];triggerCharSet.push(scope.triggerChar),mentioUtil.popUnderMention(scope.parentMentio.context(),triggerCharSet,element,scope.requireLeadingSpace)}}),scope.$watch("items",function(items){items&&items.length>0?(scope.activate(items[0]),!scope.visible&&scope.requestVisiblePendingSearch&&(scope.visible=!0,scope.requestVisiblePendingSearch=!1)):scope.hideMenu()}),scope.$watch("isVisible()",function(visible){if(visible){var triggerCharSet=[];triggerCharSet.push(scope.triggerChar),mentioUtil.popUnderMention(scope.parentMentio.context(),triggerCharSet,element,scope.requireLeadingSpace)}}),scope.parentMentio.$on("$destroy",function(){element.remove()}),scope.hideMenu=function(){scope.visible=!1,element.css("display","none")},scope.adjustScroll=function(direction){var menuEl=element[0],menuItemsList=menuEl.querySelector("ul"),menuItem=menuEl.querySelector("[mentio-menu-item].active");return scope.isFirstItemActive()?menuItemsList.scrollTop=0:scope.isLastItemActive()?menuItemsList.scrollTop=menuItemsList.scrollHeight:void(1===direction?menuItemsList.scrollTop+=menuItem.offsetHeight:menuItemsList.scrollTop-=menuItem.offsetHeight)}}}}]).directive("mentioMenuItem",function(){return{restrict:"A",scope:{item:"=mentioMenuItem"},require:"^mentioMenu",link:function(scope,element,attrs,controller){scope.$watch(function(){return controller.isActive(scope.item)},function(active){active?element.addClass("active"):element.removeClass("active")}),element.bind("mouseenter",function(){scope.$apply(function(){controller.activate(scope.item)})}),element.bind("click",function(){return controller.selectItem(scope.item),!1})}}}).filter("unsafe",["$sce",function($sce){return function(val){return $sce.trustAsHtml(val)}}]).filter("mentioHighlight",function(){function escapeRegexp(queryToEscape){return queryToEscape.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1")}return function(matchItem,query,hightlightClass){if(query){var replaceText=hightlightClass?'<span class="'+hightlightClass+'">$&</span>':"<strong>$&</strong>";return(""+matchItem).replace(new RegExp(escapeRegexp(query),"gi"),replaceText)}return matchItem}}),angular.module("mentio").factory("mentioUtil",["$window","$location","$anchorScroll","$timeout",function($window,$location,$anchorScroll,$timeout){function popUnderMention(ctx,triggerCharSet,selectionEl,requireLeadingSpace){var coordinates,mentionInfo=getTriggerInfo(ctx,triggerCharSet,requireLeadingSpace,!1);void 0!==mentionInfo?(coordinates=selectedElementIsTextAreaOrInput(ctx)?getTextAreaOrInputUnderlinePosition(ctx,getDocument(ctx).activeElement,mentionInfo.mentionPosition):getContentEditableCaretPosition(ctx,mentionInfo.mentionPosition),selectionEl.css({top:coordinates.top+"px",left:coordinates.left+"px",position:"absolute",zIndex:100,display:"block"}),$timeout(function(){scrollIntoView(ctx,selectionEl)},0)):selectionEl.css({display:"none"})}function scrollIntoView(ctx,elem){for(var clientRect,reasonableBuffer=20,maxScrollDisplacement=100,e=elem[0];void 0===clientRect||0===clientRect.height;)if(clientRect=e.getBoundingClientRect(),0===clientRect.height&&(e=e.childNodes[0],void 0===e||!e.getBoundingClientRect))return;var elemTop=clientRect.top,elemBottom=elemTop+clientRect.height;if(0>elemTop)$window.scrollTo(0,$window.pageYOffset+clientRect.top-reasonableBuffer);else if(elemBottom>$window.innerHeight){var maxY=$window.pageYOffset+clientRect.top-reasonableBuffer;maxY-$window.pageYOffset>maxScrollDisplacement&&(maxY=$window.pageYOffset+maxScrollDisplacement);var targetY=$window.pageYOffset-($window.innerHeight-elemBottom);targetY>maxY&&(targetY=maxY),$window.scrollTo(0,targetY)}}function selectedElementIsTextAreaOrInput(ctx){var element=getDocument(ctx).activeElement;if(null!==element){var nodeName=element.nodeName,type=element.getAttribute("type");return"INPUT"===nodeName&&"text"===type||"TEXTAREA"===nodeName}return!1}function selectElement(ctx,targetElement,path,offset){var range,elem=targetElement;if(path)for(var i=0;i<path.length;i++){if(elem=elem.childNodes[path[i]],void 0===elem)return;for(;elem.length<offset;)offset-=elem.length,elem=elem.nextSibling;0!==elem.childNodes.length||elem.length||(elem=elem.previousSibling)}var sel=getWindowSelection(ctx);range=getDocument(ctx).createRange(),range.setStart(elem,offset),range.setEnd(elem,offset),range.collapse(!0);try{sel.removeAllRanges()}catch(error){}sel.addRange(range),targetElement.focus()}function pasteHtml(ctx,html,startPos,endPos){var range,sel;sel=getWindowSelection(ctx),range=getDocument(ctx).createRange(),range.setStart(sel.anchorNode,startPos),range.setEnd(sel.anchorNode,endPos),range.deleteContents();var el=getDocument(ctx).createElement("div");el.innerHTML=html;for(var node,lastNode,frag=getDocument(ctx).createDocumentFragment();node=el.firstChild;)lastNode=frag.appendChild(node);range.insertNode(frag),lastNode&&(range=range.cloneRange(),range.setStartAfter(lastNode),range.collapse(!0),sel.removeAllRanges(),sel.addRange(range))}function resetSelection(ctx,targetElement,path,offset){var nodeName=targetElement.nodeName;"INPUT"===nodeName||"TEXTAREA"===nodeName?targetElement!==getDocument(ctx).activeElement&&targetElement.focus():selectElement(ctx,targetElement,path,offset)}function replaceMacroText(ctx,targetElement,path,offset,macros,text){resetSelection(ctx,targetElement,path,offset);var macroMatchInfo=getMacroMatch(ctx,macros);if(macroMatchInfo.macroHasTrailingSpace&&(macroMatchInfo.macroText=macroMatchInfo.macroText+" ",text+=" "),void 0!==macroMatchInfo){var element=getDocument(ctx).activeElement;if(selectedElementIsTextAreaOrInput(ctx)){var startPos=macroMatchInfo.macroPosition,endPos=macroMatchInfo.macroPosition+macroMatchInfo.macroText.length;element.value=element.value.substring(0,startPos)+text+element.value.substring(endPos,element.value.length),element.selectionStart=startPos+text.length,element.selectionEnd=startPos+text.length}else pasteHtml(ctx,text,macroMatchInfo.macroPosition,macroMatchInfo.macroPosition+macroMatchInfo.macroText.length)}}function replaceTriggerText(ctx,targetElement,path,offset,triggerCharSet,text,requireLeadingSpace,hasTrailingSpace){resetSelection(ctx,targetElement,path,offset);var mentionInfo=getTriggerInfo(ctx,triggerCharSet,requireLeadingSpace,!0,hasTrailingSpace);if(void 0!==mentionInfo)if(selectedElementIsTextAreaOrInput()){var myField=getDocument(ctx).activeElement;text+=" ";var startPos=mentionInfo.mentionPosition,endPos=mentionInfo.mentionPosition+mentionInfo.mentionText.length+1;myField.value=myField.value.substring(0,startPos)+text+myField.value.substring(endPos,myField.value.length),myField.selectionStart=startPos+text.length,myField.selectionEnd=startPos+text.length}else text+=" ",pasteHtml(ctx,text,mentionInfo.mentionPosition,mentionInfo.mentionPosition+mentionInfo.mentionText.length+1)}function getNodePositionInParent(ctx,elem){if(null===elem.parentNode)return 0;for(var i=0;i<elem.parentNode.childNodes.length;i++){var node=elem.parentNode.childNodes[i];if(node===elem)return i}}function getMacroMatch(ctx,macros){var selected,offset,path=[];if(selectedElementIsTextAreaOrInput(ctx))selected=getDocument(ctx).activeElement;else{var selectionInfo=getContentEditableSelectedPath(ctx);selectionInfo&&(selected=selectionInfo.selected,path=selectionInfo.path,offset=selectionInfo.offset)}var effectiveRange=getTextPrecedingCurrentSelection(ctx);if(void 0!==effectiveRange&&null!==effectiveRange){var matchInfo,hasTrailingSpace=!1;if(effectiveRange.length>0&&(" "===effectiveRange.charAt(effectiveRange.length-1)||" "===effectiveRange.charAt(effectiveRange.length-1))&&(hasTrailingSpace=!0,effectiveRange=effectiveRange.substring(0,effectiveRange.length-1)),angular.forEach(macros,function(macro,c){var idx=effectiveRange.toUpperCase().lastIndexOf(c.toUpperCase());if(idx>=0&&c.length+idx===effectiveRange.length){var prevCharPos=idx-1;(0===idx||" "===effectiveRange.charAt(prevCharPos)||" "===effectiveRange.charAt(prevCharPos))&&(matchInfo={macroPosition:idx,macroText:c,macroSelectedElement:selected,macroSelectedPath:path,macroSelectedOffset:offset,macroHasTrailingSpace:hasTrailingSpace})}}),matchInfo)return matchInfo}}function getContentEditableSelectedPath(ctx){var offset,sel=getWindowSelection(ctx),selected=sel.anchorNode,path=[];if(null!=selected){for(var i,ce=selected.contentEditable;null!==selected&&"true"!==ce;)i=getNodePositionInParent(ctx,selected),path.push(i),selected=selected.parentNode,null!==selected&&(ce=selected.contentEditable);return path.reverse(),offset=sel.getRangeAt(0).startOffset,{selected:selected,path:path,offset:offset}}}function getTriggerInfo(ctx,triggerCharSet,requireLeadingSpace,menuAlreadyActive,hasTrailingSpace){var selected,path,offset;if(selectedElementIsTextAreaOrInput(ctx))selected=getDocument(ctx).activeElement;else{var selectionInfo=getContentEditableSelectedPath(ctx);selectionInfo&&(selected=selectionInfo.selected,path=selectionInfo.path,offset=selectionInfo.offset)}var effectiveRange=getTextPrecedingCurrentSelection(ctx);if(void 0!==effectiveRange&&null!==effectiveRange){var triggerChar,mostRecentTriggerCharPos=-1;if(triggerCharSet.forEach(function(c){var idx=effectiveRange.lastIndexOf(c);idx>mostRecentTriggerCharPos&&(mostRecentTriggerCharPos=idx,triggerChar=c)}),mostRecentTriggerCharPos>=0&&(0===mostRecentTriggerCharPos||!requireLeadingSpace||/[\xA0\s]/g.test(effectiveRange.substring(mostRecentTriggerCharPos-1,mostRecentTriggerCharPos)))){var currentTriggerSnippet=effectiveRange.substring(mostRecentTriggerCharPos+1,effectiveRange.length);triggerChar=effectiveRange.substring(mostRecentTriggerCharPos,mostRecentTriggerCharPos+1);var firstSnippetChar=currentTriggerSnippet.substring(0,1),leadingSpace=currentTriggerSnippet.length>0&&(" "===firstSnippetChar||" "===firstSnippetChar);if(hasTrailingSpace&&(currentTriggerSnippet=currentTriggerSnippet.trim()),!leadingSpace&&(menuAlreadyActive||!/[\xA0\s]/g.test(currentTriggerSnippet)))return{mentionPosition:mostRecentTriggerCharPos,mentionText:currentTriggerSnippet,mentionSelectedElement:selected,mentionSelectedPath:path,mentionSelectedOffset:offset,mentionTriggerChar:triggerChar}}}}function getWindowSelection(ctx){return ctx?ctx.iframe.contentWindow.getSelection():window.getSelection()}function getDocument(ctx){return ctx?ctx.iframe.contentWindow.document:document}function getTextPrecedingCurrentSelection(ctx){var text;if(selectedElementIsTextAreaOrInput(ctx)){var textComponent=getDocument(ctx).activeElement,startPos=textComponent.selectionStart;text=textComponent.value.substring(0,startPos)}else{var selectedElem=getWindowSelection(ctx).anchorNode;if(null!=selectedElem){var workingNodeContent=selectedElem.textContent,selectStartOffset=getWindowSelection(ctx).getRangeAt(0).startOffset;selectStartOffset>=0&&(text=workingNodeContent.substring(0,selectStartOffset))}}return text}function getContentEditableCaretPosition(ctx,selectedNodePosition){var markerEl,range,markerTextChar="﻿",markerId="sel_"+(new Date).getTime()+"_"+Math.random().toString().substr(2),sel=getWindowSelection(ctx),prevRange=sel.getRangeAt(0);range=getDocument(ctx).createRange(),range.setStart(sel.anchorNode,selectedNodePosition),range.setEnd(sel.anchorNode,selectedNodePosition),range.collapse(!1),markerEl=getDocument(ctx).createElement("span"),markerEl.id=markerId,markerEl.appendChild(getDocument(ctx).createTextNode(markerTextChar)),range.insertNode(markerEl),sel.removeAllRanges(),sel.addRange(prevRange);var coordinates={left:0,top:markerEl.offsetHeight};return localToGlobalCoordinates(ctx,markerEl,coordinates),markerEl.parentNode.removeChild(markerEl),coordinates}function localToGlobalCoordinates(ctx,element,coordinates){for(var obj=element,iframe=ctx?ctx.iframe:null;obj;)coordinates.left+=obj.offsetLeft,coordinates.top+=obj.offsetTop,obj!==getDocument().body&&(coordinates.top-=obj.scrollTop,coordinates.left-=obj.scrollLeft),obj=obj.offsetParent,!obj&&iframe&&(obj=iframe,iframe=null)}function getTextAreaOrInputUnderlinePosition(ctx,element,position){var properties=["direction","boxSizing","width","height","overflowX","overflowY","borderTopWidth","borderRightWidth","borderBottomWidth","borderLeftWidth","paddingTop","paddingRight","paddingBottom","paddingLeft","fontStyle","fontVariant","fontWeight","fontStretch","fontSize","fontSizeAdjust","lineHeight","fontFamily","textAlign","textTransform","textIndent","textDecoration","letterSpacing","wordSpacing"],isFirefox=null!==window.mozInnerScreenX,div=getDocument(ctx).createElement("div");div.id="input-textarea-caret-position-mirror-div",getDocument(ctx).body.appendChild(div);var style=div.style,computed=window.getComputedStyle?getComputedStyle(element):element.currentStyle;style.whiteSpace="pre-wrap","INPUT"!==element.nodeName&&(style.wordWrap="break-word"),style.position="absolute",style.visibility="hidden",properties.forEach(function(prop){style[prop]=computed[prop]}),isFirefox?(style.width=parseInt(computed.width)-2+"px",element.scrollHeight>parseInt(computed.height)&&(style.overflowY="scroll")):style.overflow="hidden",div.textContent=element.value.substring(0,position),"INPUT"===element.nodeName&&(div.textContent=div.textContent.replace(/\s/g," "));var span=getDocument(ctx).createElement("span");span.textContent=element.value.substring(position)||".",div.appendChild(span);var coordinates={top:span.offsetTop+parseInt(computed.borderTopWidth)+parseInt(computed.fontSize),left:span.offsetLeft+parseInt(computed.borderLeftWidth)};return localToGlobalCoordinates(ctx,element,coordinates),getDocument(ctx).body.removeChild(div),coordinates}return{popUnderMention:popUnderMention,replaceMacroText:replaceMacroText,replaceTriggerText:replaceTriggerText,getMacroMatch:getMacroMatch,getTriggerInfo:getTriggerInfo,selectElement:selectElement,getTextAreaOrInputUnderlinePosition:getTextAreaOrInputUnderlinePosition,getTextPrecedingCurrentSelection:getTextPrecedingCurrentSelection,getContentEditableSelectedPath:getContentEditableSelectedPath,getNodePositionInParent:getNodePositionInParent,getContentEditableCaretPosition:getContentEditableCaretPosition,pasteHtml:pasteHtml,resetSelection:resetSelection,scrollIntoView:scrollIntoView}}]),angular.module("mentio").run(["$templateCache",function($templateCache){$templateCache.put("mentio-menu.tpl.html",'<style>\n.scrollable-menu {\n    height: auto;\n    max-height: 300px;\n    overflow: auto;\n}\n\n.menu-highlighted {\n    font-weight: bold;\n}\n</style>\n<ul class="dropdown-menu scrollable-menu" style="display:block">\n    <li mentio-menu-item="item" ng-repeat="item in items track by $index">\n        <a class="text-primary" ng-bind-html="item.label | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></a>\n    </li>\n</ul>')}]),define("mentio",["angular"],function(){}),define("text!app/common/directives/mentio/templates/mentio-menu.tpl.html",[],function(){return'<ul class="mentio-dropdown" style="display:block">\n  <li mentio-menu-item="item" ng-repeat="item in items track by $index">\n    <a class="text-primary" ng-bind-html="item.id | mentioHighlight:typedTerm:\'menu-highlighted\' | unsafe"></a>\n  </li>\n</ul>\n'}),define("app/common/directives/mentio/services/mentionService",["require"],function(){"use strict";function factory($http,constant){return{autocomplete:function(query){return $http.get(constant.search+"/elasticsearch/suggestusers",{params:{q:query}})}}}return["$http","apiDomain",factory]}),define("app/common/directives/mentio/controllers/mentionCtrl",["require"],function(){"use strict";function controller($scope,mention){$scope.people=[],$scope.searchPeople=function(term){return term?mention.autocomplete(term).then(function(response){$scope.people=response.data.result.items}):!1},$scope.getPeopleTextRaw=function(item){return"@"+item.id}}return["$scope","mentionFactory",controller]}),define("app/common/directives/mentio/mentio",["angular","app/common/resources/constants/constants","mentio","text!./templates/mentio-menu.tpl.html","./services/mentionService","./controllers/mentionCtrl"],function(angular,constantsModule,mentio,mentioMenuTpl,mentionService,mentionCtrl){return angular.module("ernr.directives.mentio",["mentio","common.resources.constant"]).run(["$templateCache",function($templateCache){$templateCache.put("mentio-menu.tpl.html",mentioMenuTpl)}]).factory("mentionFactory",mentionService).directive("mentionTextarea",function(){return{restrict:"E",replace:!0,controller:mentionCtrl,template:'<textarea mentio mentio-search="searchPeople(term)" mentio-select="getPeopleTextRaw(item)" mentio-typed-text="typedTerm" mentio-items="people"></textarea>'}}).directive("mentionInput",function(){return{restrict:"E",replace:!0,controller:mentionCtrl,template:'<input mentio mentio-search="searchPeople(term)" mentio-select="getPeopleTextRaw(item)" mentio-typed-text="typedTerm" mentio-items="people"></input>'}})}),function(){function baseIndexOf(array,value,fromIndex){for(var index=(fromIndex||0)-1,length=array?array.length:0;++index<length;)if(array[index]===value)return index;return-1}function cacheIndexOf(cache,value){var type=typeof value;if(cache=cache.cache,"boolean"==type||null==value)return cache[value]?0:-1;"number"!=type&&"string"!=type&&(type="object");var key="number"==type?value:keyPrefix+value;return cache=(cache=cache[type])&&cache[key],"object"==type?cache&&baseIndexOf(cache,value)>-1?0:-1:cache?0:-1}function cachePush(value){var cache=this.cache,type=typeof value;if("boolean"==type||null==value)cache[value]=!0;else{"number"!=type&&"string"!=type&&(type="object");var key="number"==type?value:keyPrefix+value,typeCache=cache[type]||(cache[type]={});"object"==type?(typeCache[key]||(typeCache[key]=[])).push(value):typeCache[key]=!0}}function charAtCallback(value){return value.charCodeAt(0)}function compareAscending(a,b){for(var ac=a.criteria,bc=b.criteria,index=-1,length=ac.length;++index<length;){var value=ac[index],other=bc[index];if(value!==other){if(value>other||"undefined"==typeof value)return 1;if(other>value||"undefined"==typeof other)return-1}}return a.index-b.index}function createCache(array){var index=-1,length=array.length,first=array[0],mid=array[length/2|0],last=array[length-1];if(first&&"object"==typeof first&&mid&&"object"==typeof mid&&last&&"object"==typeof last)return!1;var cache=getObject();cache["false"]=cache["null"]=cache["true"]=cache.undefined=!1;var result=getObject();for(result.array=array,result.cache=cache,result.push=cachePush;++index<length;)result.push(array[index]);return result}function escapeStringChar(match){return"\\"+stringEscapes[match]}function getArray(){return arrayPool.pop()||[]}function getObject(){return objectPool.pop()||{array:null,cache:null,criteria:null,"false":!1,index:0,"null":!1,number:null,object:null,push:null,string:null,"true":!1,undefined:!1,value:null}}function releaseArray(array){array.length=0,arrayPool.length<maxPoolSize&&arrayPool.push(array)}function releaseObject(object){var cache=object.cache;cache&&releaseObject(cache),object.array=object.cache=object.criteria=object.object=object.number=object.string=object.value=null,objectPool.length<maxPoolSize&&objectPool.push(object)}function slice(array,start,end){start||(start=0),"undefined"==typeof end&&(end=array?array.length:0);for(var index=-1,length=end-start||0,result=Array(0>length?0:length);++index<length;)result[index]=array[start+index];return result}function runInContext(context){function lodash(value){return value&&"object"==typeof value&&!isArray(value)&&hasOwnProperty.call(value,"__wrapped__")?value:new lodashWrapper(value)}function lodashWrapper(value,chainAll){this.__chain__=!!chainAll,this.__wrapped__=value}function baseBind(bindData){function bound(){if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if(this instanceof bound){var thisBinding=baseCreate(func.prototype),result=func.apply(thisBinding,args||arguments);return isObject(result)?result:thisBinding}return func.apply(thisArg,args||arguments)}var func=bindData[0],partialArgs=bindData[2],thisArg=bindData[4];return setBindData(bound,bindData),bound}function baseClone(value,isDeep,callback,stackA,stackB){if(callback){var result=callback(value);if("undefined"!=typeof result)return result}var isObj=isObject(value);if(!isObj)return value;var className=toString.call(value);if(!cloneableClasses[className])return value;var ctor=ctorByClass[className];switch(className){case boolClass:case dateClass:return new ctor(+value);case numberClass:case stringClass:return new ctor(value);case regexpClass:return result=ctor(value.source,reFlags.exec(value)),result.lastIndex=value.lastIndex,result}var isArr=isArray(value);if(isDeep){var initedStack=!stackA;stackA||(stackA=getArray()),stackB||(stackB=getArray());for(var length=stackA.length;length--;)if(stackA[length]==value)return stackB[length];result=isArr?ctor(value.length):{}}else result=isArr?slice(value):assign({},value);return isArr&&(hasOwnProperty.call(value,"index")&&(result.index=value.index),hasOwnProperty.call(value,"input")&&(result.input=value.input)),isDeep?(stackA.push(value),stackB.push(result),(isArr?forEach:forOwn)(value,function(objValue,key){result[key]=baseClone(objValue,isDeep,callback,stackA,stackB)}),initedStack&&(releaseArray(stackA),releaseArray(stackB)),result):result}function baseCreate(prototype){return isObject(prototype)?nativeCreate(prototype):{}}function baseCreateCallback(func,thisArg,argCount){if("function"!=typeof func)return identity;if("undefined"==typeof thisArg||!("prototype"in func))return func;var bindData=func.__bindData__;if("undefined"==typeof bindData&&(support.funcNames&&(bindData=!func.name),bindData=bindData||!support.funcDecomp,!bindData)){var source=fnToString.call(func);support.funcNames||(bindData=!reFuncName.test(source)),bindData||(bindData=reThis.test(source),setBindData(func,bindData))}if(bindData===!1||bindData!==!0&&1&bindData[1])return func;switch(argCount){case 1:return function(value){return func.call(thisArg,value)};case 2:return function(a,b){return func.call(thisArg,a,b)};case 3:return function(value,index,collection){return func.call(thisArg,value,index,collection)};case 4:return function(accumulator,value,index,collection){return func.call(thisArg,accumulator,value,index,collection)}}return bind(func,thisArg)}function baseCreateWrapper(bindData){function bound(){var thisBinding=isBind?thisArg:this;if(partialArgs){var args=slice(partialArgs);push.apply(args,arguments)}if((partialRightArgs||isCurry)&&(args||(args=slice(arguments)),partialRightArgs&&push.apply(args,partialRightArgs),isCurry&&args.length<arity))return bitmask|=16,baseCreateWrapper([func,isCurryBound?bitmask:-4&bitmask,args,null,thisArg,arity]);if(args||(args=arguments),isBindKey&&(func=thisBinding[key]),this instanceof bound){thisBinding=baseCreate(func.prototype);var result=func.apply(thisBinding,args);return isObject(result)?result:thisBinding}return func.apply(thisBinding,args)}var func=bindData[0],bitmask=bindData[1],partialArgs=bindData[2],partialRightArgs=bindData[3],thisArg=bindData[4],arity=bindData[5],isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isCurryBound=8&bitmask,key=func;return setBindData(bound,bindData),bound}function baseDifference(array,values){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,isLarge=length>=largeArraySize&&indexOf===baseIndexOf,result=[];if(isLarge){var cache=createCache(values);cache?(indexOf=cacheIndexOf,values=cache):isLarge=!1}for(;++index<length;){var value=array[index];indexOf(values,value)<0&&result.push(value)}return isLarge&&releaseObject(values),result}function baseFlatten(array,isShallow,isStrict,fromIndex){for(var index=(fromIndex||0)-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];if(value&&"object"==typeof value&&"number"==typeof value.length&&(isArray(value)||isArguments(value))){isShallow||(value=baseFlatten(value,isShallow,isStrict));var valIndex=-1,valLength=value.length,resIndex=result.length;for(result.length+=valLength;++valIndex<valLength;)result[resIndex++]=value[valIndex]}else isStrict||result.push(value)}return result}function baseIsEqual(a,b,callback,isWhere,stackA,stackB){if(callback){var result=callback(a,b);if("undefined"!=typeof result)return!!result}if(a===b)return 0!==a||1/a==1/b;var type=typeof a,otherType=typeof b;if(!(a!==a||a&&objectTypes[type]||b&&objectTypes[otherType]))return!1;if(null==a||null==b)return a===b;var className=toString.call(a),otherClass=toString.call(b);if(className==argsClass&&(className=objectClass),otherClass==argsClass&&(otherClass=objectClass),className!=otherClass)return!1;switch(className){case boolClass:case dateClass:return+a==+b;case numberClass:return a!=+a?b!=+b:0==a?1/a==1/b:a==+b;case regexpClass:case stringClass:return a==String(b)}var isArr=className==arrayClass;if(!isArr){var aWrapped=hasOwnProperty.call(a,"__wrapped__"),bWrapped=hasOwnProperty.call(b,"__wrapped__");if(aWrapped||bWrapped)return baseIsEqual(aWrapped?a.__wrapped__:a,bWrapped?b.__wrapped__:b,callback,isWhere,stackA,stackB);if(className!=objectClass)return!1;var ctorA=a.constructor,ctorB=b.constructor;if(ctorA!=ctorB&&!(isFunction(ctorA)&&ctorA instanceof ctorA&&isFunction(ctorB)&&ctorB instanceof ctorB)&&"constructor"in a&&"constructor"in b)return!1}var initedStack=!stackA;stackA||(stackA=getArray()),stackB||(stackB=getArray());for(var length=stackA.length;length--;)if(stackA[length]==a)return stackB[length]==b;var size=0;
if(result=!0,stackA.push(a),stackB.push(b),isArr){if(length=a.length,size=b.length,result=size==length,result||isWhere)for(;size--;){var index=length,value=b[size];if(isWhere)for(;index--&&!(result=baseIsEqual(a[index],value,callback,isWhere,stackA,stackB)););else if(!(result=baseIsEqual(a[size],value,callback,isWhere,stackA,stackB)))break}}else forIn(b,function(value,key,b){return hasOwnProperty.call(b,key)?(size++,result=hasOwnProperty.call(a,key)&&baseIsEqual(a[key],value,callback,isWhere,stackA,stackB)):void 0}),result&&!isWhere&&forIn(a,function(value,key,a){return hasOwnProperty.call(a,key)?result=--size>-1:void 0});return stackA.pop(),stackB.pop(),initedStack&&(releaseArray(stackA),releaseArray(stackB)),result}function baseMerge(object,source,callback,stackA,stackB){(isArray(source)?forEach:forOwn)(source,function(source,key){var found,isArr,result=source,value=object[key];if(source&&((isArr=isArray(source))||isPlainObject(source))){for(var stackLength=stackA.length;stackLength--;)if(found=stackA[stackLength]==source){value=stackB[stackLength];break}if(!found){var isShallow;callback&&(result=callback(value,source),(isShallow="undefined"!=typeof result)&&(value=result)),isShallow||(value=isArr?isArray(value)?value:[]:isPlainObject(value)?value:{}),stackA.push(source),stackB.push(value),isShallow||baseMerge(value,source,callback,stackA,stackB)}}else callback&&(result=callback(value,source),"undefined"==typeof result&&(result=source)),"undefined"!=typeof result&&(value=result);object[key]=value})}function baseRandom(min,max){return min+floor(nativeRandom()*(max-min+1))}function baseUniq(array,isSorted,callback){var index=-1,indexOf=getIndexOf(),length=array?array.length:0,result=[],isLarge=!isSorted&&length>=largeArraySize&&indexOf===baseIndexOf,seen=callback||isLarge?getArray():result;if(isLarge){var cache=createCache(seen);indexOf=cacheIndexOf,seen=cache}for(;++index<length;){var value=array[index],computed=callback?callback(value,index,array):value;(isSorted?!index||seen[seen.length-1]!==computed:indexOf(seen,computed)<0)&&((callback||isLarge)&&seen.push(computed),result.push(value))}return isLarge?(releaseArray(seen.array),releaseObject(seen)):callback&&releaseArray(seen),result}function createAggregator(setter){return function(collection,callback,thisArg){var result={};callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length;){var value=collection[index];setter(result,value,callback(value,index,collection),collection)}else forOwn(collection,function(value,key,collection){setter(result,value,callback(value,key,collection),collection)});return result}}function createWrapper(func,bitmask,partialArgs,partialRightArgs,thisArg,arity){var isBind=1&bitmask,isBindKey=2&bitmask,isCurry=4&bitmask,isPartial=16&bitmask,isPartialRight=32&bitmask;if(!isBindKey&&!isFunction(func))throw new TypeError;isPartial&&!partialArgs.length&&(bitmask&=-17,isPartial=partialArgs=!1),isPartialRight&&!partialRightArgs.length&&(bitmask&=-33,isPartialRight=partialRightArgs=!1);var bindData=func&&func.__bindData__;if(bindData&&bindData!==!0)return bindData=slice(bindData),bindData[2]&&(bindData[2]=slice(bindData[2])),bindData[3]&&(bindData[3]=slice(bindData[3])),!isBind||1&bindData[1]||(bindData[4]=thisArg),!isBind&&1&bindData[1]&&(bitmask|=8),!isCurry||4&bindData[1]||(bindData[5]=arity),isPartial&&push.apply(bindData[2]||(bindData[2]=[]),partialArgs),isPartialRight&&unshift.apply(bindData[3]||(bindData[3]=[]),partialRightArgs),bindData[1]|=bitmask,createWrapper.apply(null,bindData);var creater=1==bitmask||17===bitmask?baseBind:baseCreateWrapper;return creater([func,bitmask,partialArgs,partialRightArgs,thisArg,arity])}function escapeHtmlChar(match){return htmlEscapes[match]}function getIndexOf(){var result=(result=lodash.indexOf)===indexOf?baseIndexOf:result;return result}function isNative(value){return"function"==typeof value&&reNative.test(value)}function shimIsPlainObject(value){var ctor,result;return value&&toString.call(value)==objectClass&&(ctor=value.constructor,!isFunction(ctor)||ctor instanceof ctor)?(forIn(value,function(value,key){result=key}),"undefined"==typeof result||hasOwnProperty.call(value,result)):!1}function unescapeHtmlChar(match){return htmlUnescapes[match]}function isArguments(value){return value&&"object"==typeof value&&"number"==typeof value.length&&toString.call(value)==argsClass||!1}function clone(value,isDeep,callback,thisArg){return"boolean"!=typeof isDeep&&null!=isDeep&&(thisArg=callback,callback=isDeep,isDeep=!1),baseClone(value,isDeep,"function"==typeof callback&&baseCreateCallback(callback,thisArg,1))}function cloneDeep(value,callback,thisArg){return baseClone(value,!0,"function"==typeof callback&&baseCreateCallback(callback,thisArg,1))}function create(prototype,properties){var result=baseCreate(prototype);return properties?assign(result,properties):result}function findKey(object,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forOwn(object,function(value,key,object){return callback(value,key,object)?(result=key,!1):void 0}),result}function findLastKey(object,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forOwnRight(object,function(value,key,object){return callback(value,key,object)?(result=key,!1):void 0}),result}function forInRight(object,callback,thisArg){var pairs=[];forIn(object,function(value,key){pairs.push(key,value)});var length=pairs.length;for(callback=baseCreateCallback(callback,thisArg,3);length--&&callback(pairs[length--],pairs[length],object)!==!1;);return object}function forOwnRight(object,callback,thisArg){var props=keys(object),length=props.length;for(callback=baseCreateCallback(callback,thisArg,3);length--;){var key=props[length];if(callback(object[key],key,object)===!1)break}return object}function functions(object){var result=[];return forIn(object,function(value,key){isFunction(value)&&result.push(key)}),result.sort()}function has(object,key){return object?hasOwnProperty.call(object,key):!1}function invert(object){for(var index=-1,props=keys(object),length=props.length,result={};++index<length;){var key=props[index];result[object[key]]=key}return result}function isBoolean(value){return value===!0||value===!1||value&&"object"==typeof value&&toString.call(value)==boolClass||!1}function isDate(value){return value&&"object"==typeof value&&toString.call(value)==dateClass||!1}function isElement(value){return value&&1===value.nodeType||!1}function isEmpty(value){var result=!0;if(!value)return result;var className=toString.call(value),length=value.length;return className==arrayClass||className==stringClass||className==argsClass||className==objectClass&&"number"==typeof length&&isFunction(value.splice)?!length:(forOwn(value,function(){return result=!1}),result)}function isEqual(a,b,callback,thisArg){return baseIsEqual(a,b,"function"==typeof callback&&baseCreateCallback(callback,thisArg,2))}function isFinite(value){return nativeIsFinite(value)&&!nativeIsNaN(parseFloat(value))}function isFunction(value){return"function"==typeof value}function isObject(value){return!(!value||!objectTypes[typeof value])}function isNaN(value){return isNumber(value)&&value!=+value}function isNull(value){return null===value}function isNumber(value){return"number"==typeof value||value&&"object"==typeof value&&toString.call(value)==numberClass||!1}function isRegExp(value){return value&&"object"==typeof value&&toString.call(value)==regexpClass||!1}function isString(value){return"string"==typeof value||value&&"object"==typeof value&&toString.call(value)==stringClass||!1}function isUndefined(value){return"undefined"==typeof value}function mapValues(object,callback,thisArg){var result={};return callback=lodash.createCallback(callback,thisArg,3),forOwn(object,function(value,key,object){result[key]=callback(value,key,object)}),result}function merge(object){var args=arguments,length=2;if(!isObject(object))return object;if("number"!=typeof args[2]&&(length=args.length),length>3&&"function"==typeof args[length-2])var callback=baseCreateCallback(args[--length-1],args[length--],2);else length>2&&"function"==typeof args[length-1]&&(callback=args[--length]);for(var sources=slice(arguments,1,length),index=-1,stackA=getArray(),stackB=getArray();++index<length;)baseMerge(object,sources[index],callback,stackA,stackB);return releaseArray(stackA),releaseArray(stackB),object}function omit(object,callback,thisArg){var result={};if("function"!=typeof callback){var props=[];forIn(object,function(value,key){props.push(key)}),props=baseDifference(props,baseFlatten(arguments,!0,!1,1));for(var index=-1,length=props.length;++index<length;){var key=props[index];result[key]=object[key]}}else callback=lodash.createCallback(callback,thisArg,3),forIn(object,function(value,key,object){callback(value,key,object)||(result[key]=value)});return result}function pairs(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;){var key=props[index];result[index]=[key,object[key]]}return result}function pick(object,callback,thisArg){var result={};if("function"!=typeof callback)for(var index=-1,props=baseFlatten(arguments,!0,!1,1),length=isObject(object)?props.length:0;++index<length;){var key=props[index];key in object&&(result[key]=object[key])}else callback=lodash.createCallback(callback,thisArg,3),forIn(object,function(value,key,object){callback(value,key,object)&&(result[key]=value)});return result}function transform(object,callback,accumulator,thisArg){var isArr=isArray(object);if(null==accumulator)if(isArr)accumulator=[];else{var ctor=object&&object.constructor,proto=ctor&&ctor.prototype;accumulator=baseCreate(proto)}return callback&&(callback=lodash.createCallback(callback,thisArg,4),(isArr?forEach:forOwn)(object,function(value,index,object){return callback(accumulator,value,index,object)})),accumulator}function values(object){for(var index=-1,props=keys(object),length=props.length,result=Array(length);++index<length;)result[index]=object[props[index]];return result}function at(collection){for(var args=arguments,index=-1,props=baseFlatten(args,!0,!1,1),length=args[2]&&args[2][args[1]]===collection?1:props.length,result=Array(length);++index<length;)result[index]=collection[props[index]];return result}function contains(collection,target,fromIndex){var index=-1,indexOf=getIndexOf(),length=collection?collection.length:0,result=!1;return fromIndex=(0>fromIndex?nativeMax(0,length+fromIndex):fromIndex)||0,isArray(collection)?result=indexOf(collection,target,fromIndex)>-1:"number"==typeof length?result=(isString(collection)?collection.indexOf(target,fromIndex):indexOf(collection,target,fromIndex))>-1:forOwn(collection,function(value){return++index>=fromIndex?!(result=value===target):void 0}),result}function every(collection,callback,thisArg){var result=!0;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length&&(result=!!callback(collection[index],index,collection)););else forOwn(collection,function(value,index,collection){return result=!!callback(value,index,collection)});return result}function filter(collection,callback,thisArg){var result=[];callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length;){var value=collection[index];callback(value,index,collection)&&result.push(value)}else forOwn(collection,function(value,index,collection){callback(value,index,collection)&&result.push(value)});return result}function find(collection,callback,thisArg){callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"!=typeof length){var result;return forOwn(collection,function(value,index,collection){return callback(value,index,collection)?(result=value,!1):void 0}),result}for(;++index<length;){var value=collection[index];if(callback(value,index,collection))return value}}function findLast(collection,callback,thisArg){var result;return callback=lodash.createCallback(callback,thisArg,3),forEachRight(collection,function(value,index,collection){return callback(value,index,collection)?(result=value,!1):void 0}),result}function forEach(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;if(callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3),"number"==typeof length)for(;++index<length&&callback(collection[index],index,collection)!==!1;);else forOwn(collection,callback);return collection}function forEachRight(collection,callback,thisArg){var length=collection?collection.length:0;if(callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3),"number"==typeof length)for(;length--&&callback(collection[length],length,collection)!==!1;);else{var props=keys(collection);length=props.length,forOwn(collection,function(value,key,collection){return key=props?props[--length]:--length,callback(collection[key],key,collection)})}return collection}function invoke(collection,methodName){var args=slice(arguments,2),index=-1,isFunc="function"==typeof methodName,length=collection?collection.length:0,result=Array("number"==typeof length?length:0);return forEach(collection,function(value){result[++index]=(isFunc?methodName:value[methodName]).apply(value,args)}),result}function map(collection,callback,thisArg){var index=-1,length=collection?collection.length:0;if(callback=lodash.createCallback(callback,thisArg,3),"number"==typeof length)for(var result=Array(length);++index<length;)result[index]=callback(collection[index],index,collection);else result=[],forOwn(collection,function(value,key,collection){result[++index]=callback(value,key,collection)});return result}function max(collection,callback,thisArg){var computed=-1/0,result=computed;if("function"!=typeof callback&&thisArg&&thisArg[callback]===collection&&(callback=null),null==callback&&isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];value>result&&(result=value)}else callback=null==callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3),forEach(collection,function(value,index,collection){var current=callback(value,index,collection);current>computed&&(computed=current,result=value)});return result}function min(collection,callback,thisArg){var computed=1/0,result=computed;if("function"!=typeof callback&&thisArg&&thisArg[callback]===collection&&(callback=null),null==callback&&isArray(collection))for(var index=-1,length=collection.length;++index<length;){var value=collection[index];result>value&&(result=value)}else callback=null==callback&&isString(collection)?charAtCallback:lodash.createCallback(callback,thisArg,3),forEach(collection,function(value,index,collection){var current=callback(value,index,collection);computed>current&&(computed=current,result=value)});return result}function reduce(collection,callback,accumulator,thisArg){if(!collection)return accumulator;var noaccum=arguments.length<3;callback=lodash.createCallback(callback,thisArg,4);var index=-1,length=collection.length;if("number"==typeof length)for(noaccum&&(accumulator=collection[++index]);++index<length;)accumulator=callback(accumulator,collection[index],index,collection);else forOwn(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)});return accumulator}function reduceRight(collection,callback,accumulator,thisArg){var noaccum=arguments.length<3;return callback=lodash.createCallback(callback,thisArg,4),forEachRight(collection,function(value,index,collection){accumulator=noaccum?(noaccum=!1,value):callback(accumulator,value,index,collection)}),accumulator}function reject(collection,callback,thisArg){return callback=lodash.createCallback(callback,thisArg,3),filter(collection,function(value,index,collection){return!callback(value,index,collection)})}function sample(collection,n,guard){if(collection&&"number"!=typeof collection.length&&(collection=values(collection)),null==n||guard)return collection?collection[baseRandom(0,collection.length-1)]:undefined;var result=shuffle(collection);return result.length=nativeMin(nativeMax(0,n),result.length),result}function shuffle(collection){var index=-1,length=collection?collection.length:0,result=Array("number"==typeof length?length:0);return forEach(collection,function(value){var rand=baseRandom(0,++index);result[index]=result[rand],result[rand]=value}),result}function size(collection){var length=collection?collection.length:0;return"number"==typeof length?length:keys(collection).length}function some(collection,callback,thisArg){var result;callback=lodash.createCallback(callback,thisArg,3);var index=-1,length=collection?collection.length:0;if("number"==typeof length)for(;++index<length&&!(result=callback(collection[index],index,collection)););else forOwn(collection,function(value,index,collection){return!(result=callback(value,index,collection))});return!!result}function sortBy(collection,callback,thisArg){var index=-1,isArr=isArray(callback),length=collection?collection.length:0,result=Array("number"==typeof length?length:0);for(isArr||(callback=lodash.createCallback(callback,thisArg,3)),forEach(collection,function(value,key,collection){var object=result[++index]=getObject();isArr?object.criteria=map(callback,function(key){return value[key]}):(object.criteria=getArray())[0]=callback(value,key,collection),object.index=index,object.value=value}),length=result.length,result.sort(compareAscending);length--;){var object=result[length];result[length]=object.value,isArr||releaseArray(object.criteria),releaseObject(object)}return result}function toArray(collection){return collection&&"number"==typeof collection.length?slice(collection):values(collection)}function compact(array){for(var index=-1,length=array?array.length:0,result=[];++index<length;){var value=array[index];value&&result.push(value)}return result}function difference(array){return baseDifference(array,baseFlatten(arguments,!0,!0,1))}function findIndex(array,callback,thisArg){var index=-1,length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);++index<length;)if(callback(array[index],index,array))return index;return-1}function findLastIndex(array,callback,thisArg){var length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);length--;)if(callback(array[length],length,array))return length;return-1}function first(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=-1;for(callback=lodash.createCallback(callback,thisArg,3);++index<length&&callback(array[index],index,array);)n++}else if(n=callback,null==n||thisArg)return array?array[0]:undefined;return slice(array,0,nativeMin(nativeMax(0,n),length))}function flatten(array,isShallow,callback,thisArg){return"boolean"!=typeof isShallow&&null!=isShallow&&(thisArg=callback,callback="function"!=typeof isShallow&&thisArg&&thisArg[isShallow]===array?null:isShallow,isShallow=!1),null!=callback&&(array=map(array,callback,thisArg)),baseFlatten(array,isShallow)}function indexOf(array,value,fromIndex){if("number"==typeof fromIndex){var length=array?array.length:0;fromIndex=0>fromIndex?nativeMax(0,length+fromIndex):fromIndex||0}else if(fromIndex){var index=sortedIndex(array,value);return array[index]===value?index:-1}return baseIndexOf(array,value,fromIndex)}function initial(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=length;for(callback=lodash.createCallback(callback,thisArg,3);index--&&callback(array[index],index,array);)n++}else n=null==callback||thisArg?1:callback||n;return slice(array,0,nativeMin(nativeMax(0,length-n),length))}function intersection(){for(var args=[],argsIndex=-1,argsLength=arguments.length,caches=getArray(),indexOf=getIndexOf(),trustIndexOf=indexOf===baseIndexOf,seen=getArray();++argsIndex<argsLength;){var value=arguments[argsIndex];(isArray(value)||isArguments(value))&&(args.push(value),caches.push(trustIndexOf&&value.length>=largeArraySize&&createCache(argsIndex?args[argsIndex]:seen)))}var array=args[0],index=-1,length=array?array.length:0,result=[];outer:for(;++index<length;){var cache=caches[0];if(value=array[index],(cache?cacheIndexOf(cache,value):indexOf(seen,value))<0){for(argsIndex=argsLength,(cache||seen).push(value);--argsIndex;)if(cache=caches[argsIndex],(cache?cacheIndexOf(cache,value):indexOf(args[argsIndex],value))<0)continue outer;result.push(value)}}for(;argsLength--;)cache=caches[argsLength],cache&&releaseObject(cache);return releaseArray(caches),releaseArray(seen),result}function last(array,callback,thisArg){var n=0,length=array?array.length:0;if("number"!=typeof callback&&null!=callback){var index=length;for(callback=lodash.createCallback(callback,thisArg,3);index--&&callback(array[index],index,array);)n++}else if(n=callback,null==n||thisArg)return array?array[length-1]:undefined;return slice(array,nativeMax(0,length-n))}function lastIndexOf(array,value,fromIndex){var index=array?array.length:0;for("number"==typeof fromIndex&&(index=(0>fromIndex?nativeMax(0,index+fromIndex):nativeMin(fromIndex,index-1))+1);index--;)if(array[index]===value)return index;return-1}function pull(array){for(var args=arguments,argsIndex=0,argsLength=args.length,length=array?array.length:0;++argsIndex<argsLength;)for(var index=-1,value=args[argsIndex];++index<length;)array[index]===value&&(splice.call(array,index--,1),length--);return array}function range(start,end,step){start=+start||0,step="number"==typeof step?step:+step||1,null==end&&(end=start,start=0);for(var index=-1,length=nativeMax(0,ceil((end-start)/(step||1))),result=Array(length);++index<length;)result[index]=start,start+=step;return result}function remove(array,callback,thisArg){var index=-1,length=array?array.length:0,result=[];for(callback=lodash.createCallback(callback,thisArg,3);++index<length;){var value=array[index];callback(value,index,array)&&(result.push(value),splice.call(array,index--,1),length--)}return result}function rest(array,callback,thisArg){if("number"!=typeof callback&&null!=callback){var n=0,index=-1,length=array?array.length:0;for(callback=lodash.createCallback(callback,thisArg,3);++index<length&&callback(array[index],index,array);)n++}else n=null==callback||thisArg?1:nativeMax(0,callback);return slice(array,n)}function sortedIndex(array,value,callback,thisArg){var low=0,high=array?array.length:low;for(callback=callback?lodash.createCallback(callback,thisArg,1):identity,value=callback(value);high>low;){var mid=low+high>>>1;callback(array[mid])<value?low=mid+1:high=mid}return low}function union(){return baseUniq(baseFlatten(arguments,!0,!0))}function uniq(array,isSorted,callback,thisArg){return"boolean"!=typeof isSorted&&null!=isSorted&&(thisArg=callback,callback="function"!=typeof isSorted&&thisArg&&thisArg[isSorted]===array?null:isSorted,isSorted=!1),null!=callback&&(callback=lodash.createCallback(callback,thisArg,3)),baseUniq(array,isSorted,callback)}function without(array){return baseDifference(array,slice(arguments,1))}function xor(){for(var index=-1,length=arguments.length;++index<length;){var array=arguments[index];if(isArray(array)||isArguments(array))var result=result?baseUniq(baseDifference(result,array).concat(baseDifference(array,result))):array}return result||[]}function zip(){for(var array=arguments.length>1?arguments:arguments[0],index=-1,length=array?max(pluck(array,"length")):0,result=Array(0>length?0:length);++index<length;)result[index]=pluck(array,index);return result}function zipObject(keys,values){var index=-1,length=keys?keys.length:0,result={};for(values||!length||isArray(keys[0])||(values=[]);++index<length;){var key=keys[index];values?result[key]=values[index]:key&&(result[key[0]]=key[1])}return result}function after(n,func){if(!isFunction(func))throw new TypeError;return function(){return--n<1?func.apply(this,arguments):void 0}}function bind(func,thisArg){return arguments.length>2?createWrapper(func,17,slice(arguments,2),null,thisArg):createWrapper(func,1,null,null,thisArg)}function bindAll(object){for(var funcs=arguments.length>1?baseFlatten(arguments,!0,!1,1):functions(object),index=-1,length=funcs.length;++index<length;){var key=funcs[index];object[key]=createWrapper(object[key],1,null,null,object)}return object}function bindKey(object,key){return arguments.length>2?createWrapper(key,19,slice(arguments,2),null,object):createWrapper(key,3,null,null,object)}function compose(){for(var funcs=arguments,length=funcs.length;length--;)if(!isFunction(funcs[length]))throw new TypeError;return function(){for(var args=arguments,length=funcs.length;length--;)args=[funcs[length].apply(this,args)];return args[0]}}function curry(func,arity){return arity="number"==typeof arity?arity:+arity||func.length,createWrapper(func,4,null,null,null,arity)}function debounce(func,wait,options){var args,maxTimeoutId,result,stamp,thisArg,timeoutId,trailingCall,lastCalled=0,maxWait=!1,trailing=!0;if(!isFunction(func))throw new TypeError;if(wait=nativeMax(0,wait)||0,options===!0){var leading=!0;trailing=!1}else isObject(options)&&(leading=options.leading,maxWait="maxWait"in options&&(nativeMax(wait,options.maxWait)||0),trailing="trailing"in options?options.trailing:trailing);var delayed=function(){var remaining=wait-(now()-stamp);if(0>=remaining){maxTimeoutId&&clearTimeout(maxTimeoutId);var isCalled=trailingCall;maxTimeoutId=timeoutId=trailingCall=undefined,isCalled&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))}else timeoutId=setTimeout(delayed,remaining)},maxDelayed=function(){timeoutId&&clearTimeout(timeoutId),maxTimeoutId=timeoutId=trailingCall=undefined,(trailing||maxWait!==wait)&&(lastCalled=now(),result=func.apply(thisArg,args),timeoutId||maxTimeoutId||(args=thisArg=null))};return function(){if(args=arguments,stamp=now(),thisArg=this,trailingCall=trailing&&(timeoutId||!leading),maxWait===!1)var leadingCall=leading&&!timeoutId;else{maxTimeoutId||leading||(lastCalled=stamp);var remaining=maxWait-(stamp-lastCalled),isCalled=0>=remaining;isCalled?(maxTimeoutId&&(maxTimeoutId=clearTimeout(maxTimeoutId)),lastCalled=stamp,result=func.apply(thisArg,args)):maxTimeoutId||(maxTimeoutId=setTimeout(maxDelayed,remaining))}return isCalled&&timeoutId?timeoutId=clearTimeout(timeoutId):timeoutId||wait===maxWait||(timeoutId=setTimeout(delayed,wait)),leadingCall&&(isCalled=!0,result=func.apply(thisArg,args)),!isCalled||timeoutId||maxTimeoutId||(args=thisArg=null),result}}function defer(func){if(!isFunction(func))throw new TypeError;var args=slice(arguments,1);return setTimeout(function(){func.apply(undefined,args)},1)}function delay(func,wait){if(!isFunction(func))throw new TypeError;var args=slice(arguments,2);return setTimeout(function(){func.apply(undefined,args)},wait)}function memoize(func,resolver){if(!isFunction(func))throw new TypeError;var memoized=function(){var cache=memoized.cache,key=resolver?resolver.apply(this,arguments):keyPrefix+arguments[0];return hasOwnProperty.call(cache,key)?cache[key]:cache[key]=func.apply(this,arguments)};return memoized.cache={},memoized}function once(func){var ran,result;if(!isFunction(func))throw new TypeError;return function(){return ran?result:(ran=!0,result=func.apply(this,arguments),func=null,result)}}function partial(func){return createWrapper(func,16,slice(arguments,1))}function partialRight(func){return createWrapper(func,32,null,slice(arguments,1))}function throttle(func,wait,options){var leading=!0,trailing=!0;if(!isFunction(func))throw new TypeError;return options===!1?leading=!1:isObject(options)&&(leading="leading"in options?options.leading:leading,trailing="trailing"in options?options.trailing:trailing),debounceOptions.leading=leading,debounceOptions.maxWait=wait,debounceOptions.trailing=trailing,debounce(func,wait,debounceOptions)}function wrap(value,wrapper){return createWrapper(wrapper,16,[value])}function constant(value){return function(){return value}}function createCallback(func,thisArg,argCount){var type=typeof func;if(null==func||"function"==type)return baseCreateCallback(func,thisArg,argCount);if("object"!=type)return property(func);var props=keys(func),key=props[0],a=func[key];return 1!=props.length||a!==a||isObject(a)?function(object){for(var length=props.length,result=!1;length--&&(result=baseIsEqual(object[props[length]],func[props[length]],null,!0)););return result}:function(object){var b=object[key];return a===b&&(0!==a||1/a==1/b)}}function escape(string){return null==string?"":String(string).replace(reUnescapedHtml,escapeHtmlChar)}function identity(value){return value}function mixin(object,source,options){var chain=!0,methodNames=source&&functions(source);source&&(options||methodNames.length)||(null==options&&(options=source),ctor=lodashWrapper,source=object,object=lodash,methodNames=functions(source)),options===!1?chain=!1:isObject(options)&&"chain"in options&&(chain=options.chain);var ctor=object,isFunc=isFunction(ctor);forEach(methodNames,function(methodName){var func=object[methodName]=source[methodName];isFunc&&(ctor.prototype[methodName]=function(){var chainAll=this.__chain__,value=this.__wrapped__,args=[value];push.apply(args,arguments);var result=func.apply(object,args);if(chain||chainAll){if(value===result&&isObject(result))return this;result=new ctor(result),result.__chain__=chainAll}return result})})}function noConflict(){return context._=oldDash,this}function noop(){}function property(key){return function(object){return object[key]}}function random(min,max,floating){var noMin=null==min,noMax=null==max;if(null==floating&&("boolean"==typeof min&&noMax?(floating=min,min=1):noMax||"boolean"!=typeof max||(floating=max,noMax=!0)),noMin&&noMax&&(max=1),min=+min||0,noMax?(max=min,min=0):max=+max||0,floating||min%1||max%1){var rand=nativeRandom();return nativeMin(min+rand*(max-min+parseFloat("1e-"+((rand+"").length-1))),max)}return baseRandom(min,max)}function result(object,key){if(object){var value=object[key];return isFunction(value)?object[key]():value}}function template(text,data,options){var settings=lodash.templateSettings;text=String(text||""),options=defaults({},options,settings);var isEvaluating,imports=defaults({},options.imports,settings.imports),importsKeys=keys(imports),importsValues=values(imports),index=0,interpolate=options.interpolate||reNoMatch,source="__p += '",reDelimiters=RegExp((options.escape||reNoMatch).source+"|"+interpolate.source+"|"+(interpolate===reInterpolate?reEsTemplate:reNoMatch).source+"|"+(options.evaluate||reNoMatch).source+"|$","g");text.replace(reDelimiters,function(match,escapeValue,interpolateValue,esTemplateValue,evaluateValue,offset){return interpolateValue||(interpolateValue=esTemplateValue),source+=text.slice(index,offset).replace(reUnescapedString,escapeStringChar),escapeValue&&(source+="' +\n__e("+escapeValue+") +\n'"),evaluateValue&&(isEvaluating=!0,source+="';\n"+evaluateValue+";\n__p += '"),interpolateValue&&(source+="' +\n((__t = ("+interpolateValue+")) == null ? '' : __t) +\n'"),index=offset+match.length,match}),source+="';\n";var variable=options.variable,hasVariable=variable;hasVariable||(variable="obj",source="with ("+variable+") {\n"+source+"\n}\n"),source=(isEvaluating?source.replace(reEmptyStringLeading,""):source).replace(reEmptyStringMiddle,"$1").replace(reEmptyStringTrailing,"$1;"),source="function("+variable+") {\n"+(hasVariable?"":variable+" || ("+variable+" = {});\n")+"var __t, __p = '', __e = _.escape"+(isEvaluating?", __j = Array.prototype.join;\nfunction print() { __p += __j.call(arguments, '') }\n":";\n")+source+"return __p\n}";var sourceURL="\n/*\n//# sourceURL="+(options.sourceURL||"/lodash/template/source["+templateCounter++ +"]")+"\n*/";try{var result=Function(importsKeys,"return "+source+sourceURL).apply(undefined,importsValues)
}catch(e){throw e.source=source,e}return data?result(data):(result.source=source,result)}function times(n,callback,thisArg){n=(n=+n)>-1?n:0;var index=-1,result=Array(n);for(callback=baseCreateCallback(callback,thisArg,1);++index<n;)result[index]=callback(index);return result}function unescape(string){return null==string?"":String(string).replace(reEscapedHtml,unescapeHtmlChar)}function uniqueId(prefix){var id=++idCounter;return String(null==prefix?"":prefix)+id}function chain(value){return value=new lodashWrapper(value),value.__chain__=!0,value}function tap(value,interceptor){return interceptor(value),value}function wrapperChain(){return this.__chain__=!0,this}function wrapperToString(){return String(this.__wrapped__)}function wrapperValueOf(){return this.__wrapped__}context=context?_.defaults(root.Object(),context,_.pick(root,contextProps)):root;var Array=context.Array,Boolean=context.Boolean,Date=context.Date,Function=context.Function,Math=context.Math,Number=context.Number,Object=context.Object,RegExp=context.RegExp,String=context.String,TypeError=context.TypeError,arrayRef=[],objectProto=Object.prototype,oldDash=context._,toString=objectProto.toString,reNative=RegExp("^"+String(toString).replace(/[.*+?^${}()|[\]\\]/g,"\\$&").replace(/toString| for [^\]]+/g,".*?")+"$"),ceil=Math.ceil,clearTimeout=context.clearTimeout,floor=Math.floor,fnToString=Function.prototype.toString,getPrototypeOf=isNative(getPrototypeOf=Object.getPrototypeOf)&&getPrototypeOf,hasOwnProperty=objectProto.hasOwnProperty,push=arrayRef.push,setTimeout=context.setTimeout,splice=arrayRef.splice,unshift=arrayRef.unshift,defineProperty=function(){try{var o={},func=isNative(func=Object.defineProperty)&&func,result=func(o,o,o)&&func}catch(e){}return result}(),nativeCreate=isNative(nativeCreate=Object.create)&&nativeCreate,nativeIsArray=isNative(nativeIsArray=Array.isArray)&&nativeIsArray,nativeIsFinite=context.isFinite,nativeIsNaN=context.isNaN,nativeKeys=isNative(nativeKeys=Object.keys)&&nativeKeys,nativeMax=Math.max,nativeMin=Math.min,nativeParseInt=context.parseInt,nativeRandom=Math.random,ctorByClass={};ctorByClass[arrayClass]=Array,ctorByClass[boolClass]=Boolean,ctorByClass[dateClass]=Date,ctorByClass[funcClass]=Function,ctorByClass[objectClass]=Object,ctorByClass[numberClass]=Number,ctorByClass[regexpClass]=RegExp,ctorByClass[stringClass]=String,lodashWrapper.prototype=lodash.prototype;var support=lodash.support={};support.funcDecomp=!isNative(context.WinRTError)&&reThis.test(runInContext),support.funcNames="string"==typeof Function.name,lodash.templateSettings={escape:/<%-([\s\S]+?)%>/g,evaluate:/<%([\s\S]+?)%>/g,interpolate:reInterpolate,variable:"",imports:{_:lodash}},nativeCreate||(baseCreate=function(){function Object(){}return function(prototype){if(isObject(prototype)){Object.prototype=prototype;var result=new Object;Object.prototype=null}return result||context.Object()}}());var setBindData=defineProperty?function(func,value){descriptor.value=value,defineProperty(func,"__bindData__",descriptor)}:noop,isArray=nativeIsArray||function(value){return value&&"object"==typeof value&&"number"==typeof value.length&&toString.call(value)==arrayClass||!1},shimKeys=function(object){var index,iterable=object,result=[];if(!iterable)return result;if(!objectTypes[typeof object])return result;for(index in iterable)hasOwnProperty.call(iterable,index)&&result.push(index);return result},keys=nativeKeys?function(object){return isObject(object)?nativeKeys(object):[]}:shimKeys,htmlEscapes={"&":"&amp;","<":"&lt;",">":"&gt;",'"':"&quot;","'":"&#39;"},htmlUnescapes=invert(htmlEscapes),reEscapedHtml=RegExp("("+keys(htmlUnescapes).join("|")+")","g"),reUnescapedHtml=RegExp("["+keys(htmlEscapes).join("")+"]","g"),assign=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;var args=arguments,argsIndex=0,argsLength="number"==typeof guard?2:args.length;if(argsLength>3&&"function"==typeof args[argsLength-2])var callback=baseCreateCallback(args[--argsLength-1],args[argsLength--],2);else argsLength>2&&"function"==typeof args[argsLength-1]&&(callback=args[--argsLength]);for(;++argsIndex<argsLength;)if(iterable=args[argsIndex],iterable&&objectTypes[typeof iterable])for(var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;++ownIndex<length;)index=ownProps[ownIndex],result[index]=callback?callback(result[index],iterable[index]):iterable[index];return result},defaults=function(object,source,guard){var index,iterable=object,result=iterable;if(!iterable)return result;for(var args=arguments,argsIndex=0,argsLength="number"==typeof guard?2:args.length;++argsIndex<argsLength;)if(iterable=args[argsIndex],iterable&&objectTypes[typeof iterable])for(var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;++ownIndex<length;)index=ownProps[ownIndex],"undefined"==typeof result[index]&&(result[index]=iterable[index]);return result},forIn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3);for(index in iterable)if(callback(iterable[index],index,collection)===!1)return result;return result},forOwn=function(collection,callback,thisArg){var index,iterable=collection,result=iterable;if(!iterable)return result;if(!objectTypes[typeof iterable])return result;callback=callback&&"undefined"==typeof thisArg?callback:baseCreateCallback(callback,thisArg,3);for(var ownIndex=-1,ownProps=objectTypes[typeof iterable]&&keys(iterable),length=ownProps?ownProps.length:0;++ownIndex<length;)if(index=ownProps[ownIndex],callback(iterable[index],index,collection)===!1)return result;return result},isPlainObject=getPrototypeOf?function(value){if(!value||toString.call(value)!=objectClass)return!1;var valueOf=value.valueOf,objProto=isNative(valueOf)&&(objProto=getPrototypeOf(valueOf))&&getPrototypeOf(objProto);return objProto?value==objProto||getPrototypeOf(value)==objProto:shimIsPlainObject(value)}:shimIsPlainObject,countBy=createAggregator(function(result,value,key){hasOwnProperty.call(result,key)?result[key]++:result[key]=1}),groupBy=createAggregator(function(result,value,key){(hasOwnProperty.call(result,key)?result[key]:result[key]=[]).push(value)}),indexBy=createAggregator(function(result,value,key){result[key]=value}),pluck=map,where=filter,now=isNative(now=Date.now)&&now||function(){return(new Date).getTime()},parseInt=8==nativeParseInt(whitespace+"08")?nativeParseInt:function(value,radix){return nativeParseInt(isString(value)?value.replace(reLeadingSpacesAndZeros,""):value,radix||0)};return lodash.after=after,lodash.assign=assign,lodash.at=at,lodash.bind=bind,lodash.bindAll=bindAll,lodash.bindKey=bindKey,lodash.chain=chain,lodash.compact=compact,lodash.compose=compose,lodash.constant=constant,lodash.countBy=countBy,lodash.create=create,lodash.createCallback=createCallback,lodash.curry=curry,lodash.debounce=debounce,lodash.defaults=defaults,lodash.defer=defer,lodash.delay=delay,lodash.difference=difference,lodash.filter=filter,lodash.flatten=flatten,lodash.forEach=forEach,lodash.forEachRight=forEachRight,lodash.forIn=forIn,lodash.forInRight=forInRight,lodash.forOwn=forOwn,lodash.forOwnRight=forOwnRight,lodash.functions=functions,lodash.groupBy=groupBy,lodash.indexBy=indexBy,lodash.initial=initial,lodash.intersection=intersection,lodash.invert=invert,lodash.invoke=invoke,lodash.keys=keys,lodash.map=map,lodash.mapValues=mapValues,lodash.max=max,lodash.memoize=memoize,lodash.merge=merge,lodash.min=min,lodash.omit=omit,lodash.once=once,lodash.pairs=pairs,lodash.partial=partial,lodash.partialRight=partialRight,lodash.pick=pick,lodash.pluck=pluck,lodash.property=property,lodash.pull=pull,lodash.range=range,lodash.reject=reject,lodash.remove=remove,lodash.rest=rest,lodash.shuffle=shuffle,lodash.sortBy=sortBy,lodash.tap=tap,lodash.throttle=throttle,lodash.times=times,lodash.toArray=toArray,lodash.transform=transform,lodash.union=union,lodash.uniq=uniq,lodash.values=values,lodash.where=where,lodash.without=without,lodash.wrap=wrap,lodash.xor=xor,lodash.zip=zip,lodash.zipObject=zipObject,lodash.collect=map,lodash.drop=rest,lodash.each=forEach,lodash.eachRight=forEachRight,lodash.extend=assign,lodash.methods=functions,lodash.object=zipObject,lodash.select=filter,lodash.tail=rest,lodash.unique=uniq,lodash.unzip=zip,mixin(lodash),lodash.clone=clone,lodash.cloneDeep=cloneDeep,lodash.contains=contains,lodash.escape=escape,lodash.every=every,lodash.find=find,lodash.findIndex=findIndex,lodash.findKey=findKey,lodash.findLast=findLast,lodash.findLastIndex=findLastIndex,lodash.findLastKey=findLastKey,lodash.has=has,lodash.identity=identity,lodash.indexOf=indexOf,lodash.isArguments=isArguments,lodash.isArray=isArray,lodash.isBoolean=isBoolean,lodash.isDate=isDate,lodash.isElement=isElement,lodash.isEmpty=isEmpty,lodash.isEqual=isEqual,lodash.isFinite=isFinite,lodash.isFunction=isFunction,lodash.isNaN=isNaN,lodash.isNull=isNull,lodash.isNumber=isNumber,lodash.isObject=isObject,lodash.isPlainObject=isPlainObject,lodash.isRegExp=isRegExp,lodash.isString=isString,lodash.isUndefined=isUndefined,lodash.lastIndexOf=lastIndexOf,lodash.mixin=mixin,lodash.noConflict=noConflict,lodash.noop=noop,lodash.now=now,lodash.parseInt=parseInt,lodash.random=random,lodash.reduce=reduce,lodash.reduceRight=reduceRight,lodash.result=result,lodash.runInContext=runInContext,lodash.size=size,lodash.some=some,lodash.sortedIndex=sortedIndex,lodash.template=template,lodash.unescape=unescape,lodash.uniqueId=uniqueId,lodash.all=every,lodash.any=some,lodash.detect=find,lodash.findWhere=find,lodash.foldl=reduce,lodash.foldr=reduceRight,lodash.include=contains,lodash.inject=reduce,mixin(function(){var source={};return forOwn(lodash,function(func,methodName){lodash.prototype[methodName]||(source[methodName]=func)}),source}(),!1),lodash.first=first,lodash.last=last,lodash.sample=sample,lodash.take=first,lodash.head=first,forOwn(lodash,function(func,methodName){var callbackable="sample"!==methodName;lodash.prototype[methodName]||(lodash.prototype[methodName]=function(n,guard){var chainAll=this.__chain__,result=func(this.__wrapped__,n,guard);return chainAll||null!=n&&(!guard||callbackable&&"function"==typeof n)?new lodashWrapper(result,chainAll):result})}),lodash.VERSION="2.4.1",lodash.prototype.chain=wrapperChain,lodash.prototype.toString=wrapperToString,lodash.prototype.value=wrapperValueOf,lodash.prototype.valueOf=wrapperValueOf,forEach(["join","pop","shift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){var chainAll=this.__chain__,result=func.apply(this.__wrapped__,arguments);return chainAll?new lodashWrapper(result,chainAll):result}}),forEach(["push","reverse","sort","unshift"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return func.apply(this.__wrapped__,arguments),this}}),forEach(["concat","slice","splice"],function(methodName){var func=arrayRef[methodName];lodash.prototype[methodName]=function(){return new lodashWrapper(func.apply(this.__wrapped__,arguments),this.__chain__)}}),lodash}var undefined,arrayPool=[],objectPool=[],idCounter=0,keyPrefix=+new Date+"",largeArraySize=75,maxPoolSize=40,whitespace=" 	\f ﻿\n\r\u2028\u2029 ᠎             　",reEmptyStringLeading=/\b__p \+= '';/g,reEmptyStringMiddle=/\b(__p \+=) '' \+/g,reEmptyStringTrailing=/(__e\(.*?\)|\b__t\)) \+\n'';/g,reEsTemplate=/\$\{([^\\}]*(?:\\.[^\\}]*)*)\}/g,reFlags=/\w*$/,reFuncName=/^\s*function[ \n\r\t]+\w/,reInterpolate=/<%=([\s\S]+?)%>/g,reLeadingSpacesAndZeros=RegExp("^["+whitespace+"]*0+(?=.$)"),reNoMatch=/($^)/,reThis=/\bthis\b/,reUnescapedString=/['\n\r\t\u2028\u2029\\]/g,contextProps=["Array","Boolean","Date","Function","Math","Number","Object","RegExp","String","_","attachEvent","clearTimeout","isFinite","isNaN","parseInt","setTimeout"],templateCounter=0,argsClass="[object Arguments]",arrayClass="[object Array]",boolClass="[object Boolean]",dateClass="[object Date]",funcClass="[object Function]",numberClass="[object Number]",objectClass="[object Object]",regexpClass="[object RegExp]",stringClass="[object String]",cloneableClasses={};cloneableClasses[funcClass]=!1,cloneableClasses[argsClass]=cloneableClasses[arrayClass]=cloneableClasses[boolClass]=cloneableClasses[dateClass]=cloneableClasses[numberClass]=cloneableClasses[objectClass]=cloneableClasses[regexpClass]=cloneableClasses[stringClass]=!0;var debounceOptions={leading:!1,maxWait:0,trailing:!1},descriptor={configurable:!1,enumerable:!1,value:null,writable:!1},objectTypes={"boolean":!1,"function":!0,object:!0,number:!1,string:!1,undefined:!1},stringEscapes={"\\":"\\","'":"'","\n":"n","\r":"r","	":"t","\u2028":"u2028","\u2029":"u2029"},root=objectTypes[typeof window]&&window||this,freeExports=objectTypes[typeof exports]&&exports&&!exports.nodeType&&exports,freeModule=objectTypes[typeof module]&&module&&!module.nodeType&&module,moduleExports=freeModule&&freeModule.exports===freeExports&&freeExports,freeGlobal=objectTypes[typeof global]&&global;!freeGlobal||freeGlobal.global!==freeGlobal&&freeGlobal.window!==freeGlobal||(root=freeGlobal);var _=runInContext();"function"==typeof define&&"object"==typeof define.amd&&define.amd?(root._=_,define("lodash",[],function(){return _})):freeExports&&freeModule?moduleExports?(freeModule.exports=_)._=_:freeExports._=_:root._=_}.call(this),function(){"use strict";function SimplePubSub(){var events={};return{on:function(names,handler){return names.split(" ").forEach(function(name){events[name]||(events[name]=[]),events[name].push(handler)}),this},trigger:function(name,args){return angular.forEach(events[name],function(handler){handler.call(null,args)}),this}}}function makeObjectArray(array,key){return array=array||[],array.length>0&&!angular.isObject(array[0])&&array.forEach(function(item,index){array[index]={},array[index][key]=item}),array}function findInObjectArray(array,obj,key){for(var item=null,i=0;i<array.length;i++)if(safeToString(array[i][key]).toLowerCase()===safeToString(obj[key]).toLowerCase()){item=array[i];break}return item}function replaceAll(str,substr,newSubstr){if(!substr)return str;var expression=substr.replace(/([.?*+^$[\]\\(){}|-])/g,"\\$1");return str.replace(new RegExp(expression,"gi"),newSubstr)}function safeToString(value){return angular.isUndefined(value)||null==value?"":value.toString().trim()}function encodeHTML(value){return value.replace(/&/g,"&amp;").replace(/</g,"&lt;").replace(/>/g,"&gt;")}var KEYS={backspace:8,tab:9,enter:13,escape:27,space:32,up:38,down:40,comma:188},MAX_SAFE_INTEGER=9007199254740991,SUPPORTED_INPUT_TYPES=["text","email","url"],tagsInput=angular.module("ngTagsInput",[]);tagsInput.directive("tagsInput",["$timeout","$document","tagsInputConfig",function($timeout,$document,tagsInputConfig){function TagList(options,events){var getTagText,setTagText,tagIsValid,self={};return getTagText=function(tag){return safeToString(tag[options.displayProperty])},setTagText=function(tag,text){tag[options.displayProperty]=text},tagIsValid=function(tag){var tagText=getTagText(tag);return tagText&&tagText.length>=options.minLength&&tagText.length<=options.maxLength&&options.allowedTagsPattern.test(tagText)&&!findInObjectArray(self.items,tag,options.displayProperty)},self.items=[],self.addText=function(text){var tag={};return setTagText(tag,text),self.add(tag)},self.add=function(tag){var tagText=getTagText(tag);return options.replaceSpacesWithDashes&&(tagText=tagText.replace(/\s/g,"-")),setTagText(tag,tagText),tagIsValid(tag)?(self.items.push(tag),events.trigger("tag-added",{$tag:tag})):tagText&&events.trigger("invalid-tag",{$tag:tag}),tag},self.remove=function(index){var tag=self.items.splice(index,1)[0];return events.trigger("tag-removed",{$tag:tag}),tag},self.removeLast=function(){var tag,lastTagIndex=self.items.length-1;return options.enableEditingLastTag||self.selected?(self.selected=null,tag=self.remove(lastTagIndex)):self.selected||(self.selected=self.items[lastTagIndex]),tag},self}function validateType(type){return-1!==SUPPORTED_INPUT_TYPES.indexOf(type)}return{restrict:"E",require:"ngModel",scope:{tags:"=ngModel",onTagAdded:"&",onTagRemoved:"&"},replace:!1,transclude:!0,templateUrl:"ngTagsInput/tags-input.html",controller:["$scope","$attrs","$element",function($scope,$attrs,$element){$scope.events=new SimplePubSub,tagsInputConfig.load("tagsInput",$scope,$attrs,{type:[String,"text",validateType],placeholder:[String,"Add a tag"],tabindex:[Number,null],removeTagSymbol:[String,String.fromCharCode(215)],replaceSpacesWithDashes:[Boolean,!0],minLength:[Number,3],maxLength:[Number,MAX_SAFE_INTEGER],addOnEnter:[Boolean,!0],addOnSpace:[Boolean,!1],addOnComma:[Boolean,!0],addOnBlur:[Boolean,!0],allowedTagsPattern:[RegExp,/.+/],enableEditingLastTag:[Boolean,!1],minTags:[Number,0],maxTags:[Number,MAX_SAFE_INTEGER],displayProperty:[String,"text"],allowLeftoverText:[Boolean,!1],addFromAutocompleteOnly:[Boolean,!1]}),$scope.tagList=new TagList($scope.options,$scope.events),this.registerAutocomplete=function(){var input=$element.find("input");return input.on("keydown",function(e){$scope.events.trigger("input-keydown",e)}),{addTag:function(tag){return $scope.tagList.add(tag)},focusInput:function(){input[0].focus()},getTags:function(){return $scope.tags},getCurrentTagText:function(){return $scope.newTag.text},getOptions:function(){return $scope.options},on:function(name,handler){return $scope.events.on(name,handler),this}}}}],link:function(scope,element,attrs,ngModelCtrl){var setElementValidity,hotkeys=[KEYS.enter,KEYS.comma,KEYS.space,KEYS.backspace],tagList=scope.tagList,events=scope.events,options=scope.options,input=element.find("input"),validationOptions=["minTags","maxTags","allowLeftoverText"];setElementValidity=function(){ngModelCtrl.$setValidity("maxTags",scope.tags.length<=options.maxTags),ngModelCtrl.$setValidity("minTags",scope.tags.length>=options.minTags),ngModelCtrl.$setValidity("leftoverText",options.allowLeftoverText?!0:!scope.newTag.text)},events.on("tag-added",scope.onTagAdded).on("tag-removed",scope.onTagRemoved).on("tag-added",function(){scope.newTag.text=""}).on("tag-added tag-removed",function(){ngModelCtrl.$setViewValue(scope.tags)}).on("invalid-tag",function(){scope.newTag.invalid=!0}).on("input-change",function(){tagList.selected=null,scope.newTag.invalid=null}).on("input-focus",function(){ngModelCtrl.$setValidity("leftoverText",!0)}).on("input-blur",function(){options.addFromAutocompleteOnly||(options.addOnBlur&&tagList.addText(scope.newTag.text),setElementValidity())}).on("option-change",function(e){-1!==validationOptions.indexOf(e.name)&&setElementValidity()}),scope.newTag={text:"",invalid:null},scope.getDisplayText=function(tag){return safeToString(tag[options.displayProperty])},scope.track=function(tag){return tag[options.displayProperty]},scope.newTagChange=function(){events.trigger("input-change",scope.newTag.text)},scope.$watch("tags",function(value){scope.tags=makeObjectArray(value,options.displayProperty),tagList.items=scope.tags}),scope.$watch("tags.length",function(){setElementValidity()}),input.on("keydown",function(e){if(!e.isImmediatePropagationStopped||!e.isImmediatePropagationStopped()){var shouldAdd,shouldRemove,key=e.keyCode,isModifier=e.shiftKey||e.altKey||e.ctrlKey||e.metaKey,addKeys={};if(!isModifier&&-1!==hotkeys.indexOf(key))if(addKeys[KEYS.enter]=options.addOnEnter,addKeys[KEYS.comma]=options.addOnComma,addKeys[KEYS.space]=options.addOnSpace,shouldAdd=!options.addFromAutocompleteOnly&&addKeys[key],shouldRemove=!shouldAdd&&key===KEYS.backspace&&0===scope.newTag.text.length,shouldAdd)tagList.addText(scope.newTag.text),scope.$apply(),e.preventDefault();else if(shouldRemove){var tag=tagList.removeLast();tag&&options.enableEditingLastTag&&(scope.newTag.text=tag[options.displayProperty]),scope.$apply(),e.preventDefault()}}}).on("focus",function(){scope.hasFocus||(scope.hasFocus=!0,events.trigger("input-focus"),scope.$apply())}).on("blur",function(){$timeout(function(){var activeElement=$document.prop("activeElement"),lostFocusToBrowserWindow=activeElement===input[0],lostFocusToChildElement=element[0].contains(activeElement);(lostFocusToBrowserWindow||!lostFocusToChildElement)&&(scope.hasFocus=!1,events.trigger("input-blur"))})}),element.find("div").on("click",function(){input[0].focus()})}}}]),tagsInput.directive("autoComplete",["$document","$timeout","$sce","tagsInputConfig",function($document,$timeout,$sce,tagsInputConfig){function SuggestionList(loadFn,options){var debouncedLoadId,getDifference,lastPromise,self={};return getDifference=function(array1,array2){return array1.filter(function(item){return!findInObjectArray(array2,item,options.tagsInput.displayProperty)})},self.reset=function(){lastPromise=null,self.items=[],self.visible=!1,self.index=-1,self.selected=null,self.query=null,$timeout.cancel(debouncedLoadId)},self.show=function(){self.selected=null,self.visible=!0},self.load=function(query,tags){$timeout.cancel(debouncedLoadId),debouncedLoadId=$timeout(function(){self.query=query;var promise=loadFn({$query:query});lastPromise=promise,promise.then(function(items){promise===lastPromise&&(items=makeObjectArray(items.data||items,options.tagsInput.displayProperty),items=getDifference(items,tags),self.items=items.slice(0,options.maxResultsToShow),self.items.length>0?self.show():self.reset())})},options.debounceDelay,!1)},self.selectNext=function(){self.select(++self.index)},self.selectPrior=function(){self.select(--self.index)},self.select=function(index){0>index?index=self.items.length-1:index>=self.items.length&&(index=0),self.index=index,self.selected=self.items[index]},self.reset(),self}return{restrict:"E",require:"^tagsInput",scope:{source:"&"},templateUrl:"ngTagsInput/auto-complete.html",link:function(scope,element,attrs,tagsInputCtrl){var suggestionList,tagsInput,options,getItem,getDisplayText,shouldLoadSuggestions,hotkeys=[KEYS.enter,KEYS.tab,KEYS.escape,KEYS.up,KEYS.down];tagsInputConfig.load("autoComplete",scope,attrs,{debounceDelay:[Number,100],minLength:[Number,3],highlightMatchedText:[Boolean,!0],maxResultsToShow:[Number,10],loadOnDownArrow:[Boolean,!1],loadOnEmpty:[Boolean,!1],loadOnFocus:[Boolean,!1]}),options=scope.options,tagsInput=tagsInputCtrl.registerAutocomplete(),options.tagsInput=tagsInput.getOptions(),suggestionList=new SuggestionList(scope.source,options),getItem=function(item){return item[options.tagsInput.displayProperty]},getDisplayText=function(item){return safeToString(getItem(item))},shouldLoadSuggestions=function(value){return value&&value.length>=options.minLength||!value&&options.loadOnEmpty},scope.suggestionList=suggestionList,scope.addSuggestionByIndex=function(index){suggestionList.select(index),scope.addSuggestion()},scope.addSuggestion=function(){var added=!1;return suggestionList.selected&&(tagsInput.addTag(suggestionList.selected),suggestionList.reset(),tagsInput.focusInput(),added=!0),added},scope.highlight=function(item){var text=getDisplayText(item);return text=encodeHTML(text),options.highlightMatchedText&&(text=replaceAll(text,encodeHTML(suggestionList.query),"<em>$&</em>")),$sce.trustAsHtml(text)},scope.track=function(item){return getItem(item)},tagsInput.on("tag-added tag-removed invalid-tag input-blur",function(){suggestionList.reset()}).on("input-change",function(value){shouldLoadSuggestions(value)?suggestionList.load(value,tagsInput.getTags()):suggestionList.reset()}).on("input-focus",function(){var value=tagsInput.getCurrentTagText();options.loadOnFocus&&shouldLoadSuggestions(value)&&suggestionList.load(value,tagsInput.getTags())}).on("input-keydown",function(e){var immediatePropagationStopped=!1;e.stopImmediatePropagation=function(){immediatePropagationStopped=!0,e.stopPropagation()},e.isImmediatePropagationStopped=function(){return immediatePropagationStopped};var key=e.keyCode,handled=!1;-1!==hotkeys.indexOf(key)&&(suggestionList.visible?key===KEYS.down?(suggestionList.selectNext(),handled=!0):key===KEYS.up?(suggestionList.selectPrior(),handled=!0):key===KEYS.escape?(suggestionList.reset(),handled=!0):(key===KEYS.enter||key===KEYS.tab)&&(handled=scope.addSuggestion()):key===KEYS.down&&scope.options.loadOnDownArrow&&(suggestionList.load(tagsInput.getCurrentTagText(),tagsInput.getTags()),handled=!0),handled&&(e.preventDefault(),e.stopImmediatePropagation(),scope.$apply()))})}}}]),tagsInput.directive("tiTranscludeAppend",function(){return function(scope,element,attrs,ctrl,transcludeFn){transcludeFn(function(clone){element.append(clone)})}}),tagsInput.directive("tiAutosize",["tagsInputConfig",function(tagsInputConfig){return{restrict:"A",require:"ngModel",link:function(scope,element,attrs,ctrl){var span,resize,threshold=tagsInputConfig.getTextAutosizeThreshold();span=angular.element('<span class="input"></span>'),span.css("display","none").css("visibility","hidden").css("width","auto").css("white-space","pre"),element.parent().append(span),resize=function(originalValue){var width,value=originalValue;return angular.isString(value)&&0===value.length&&(value=attrs.placeholder),value&&(span.text(value),span.css("display",""),width=span.prop("offsetWidth"),span.css("display","none")),element.css("width",width?width+threshold+"px":""),originalValue},ctrl.$parsers.unshift(resize),ctrl.$formatters.unshift(resize),attrs.$observe("placeholder",function(value){ctrl.$modelValue||resize(value)})}}}]),tagsInput.directive("tiBindAttrs",function(){return function(scope,element,attrs){scope.$watch(attrs.tiBindAttrs,function(value){angular.forEach(value,function(value,key){attrs.$set(key,value)})},!0)}}),tagsInput.provider("tagsInputConfig",function(){var globalDefaults={},interpolationStatus={},autosizeThreshold=3;this.setDefaults=function(directive,defaults){return globalDefaults[directive]=defaults,this},this.setActiveInterpolation=function(directive,options){return interpolationStatus[directive]=options,this},this.setTextAutosizeThreshold=function(threshold){return autosizeThreshold=threshold,this},this.$get=["$interpolate",function($interpolate){var converters={};return converters[String]=function(value){return value},converters[Number]=function(value){return parseInt(value,10)},converters[Boolean]=function(value){return"true"===value.toLowerCase()},converters[RegExp]=function(value){return new RegExp(value)},{load:function(directive,scope,attrs,options){var defaultValidator=function(){return!0};scope.options={},angular.forEach(options,function(value,key){var type,localDefault,validator,converter,getDefault,updateValue;type=value[0],localDefault=value[1],validator=value[2]||defaultValidator,converter=converters[type],getDefault=function(){var globalValue=globalDefaults[directive]&&globalDefaults[directive][key];return angular.isDefined(globalValue)?globalValue:localDefault},updateValue=function(value){scope.options[key]=value&&validator(value)?converter(value):getDefault()},interpolationStatus[directive]&&interpolationStatus[directive][key]?attrs.$observe(key,function(value){updateValue(value),scope.events.trigger("option-change",{name:key,newValue:value})}):updateValue(attrs[key]&&$interpolate(attrs[key])(scope.$parent))})},getTextAutosizeThreshold:function(){return autosizeThreshold}}}]}),tagsInput.run(["$templateCache",function($templateCache){$templateCache.put("ngTagsInput/tags-input.html",'<div class="host" tabindex="-1" ti-transclude-append=""><div class="tags" ng-class="{focused: hasFocus}"><ul class="tag-list"><li class="tag-item" ng-repeat="tag in tagList.items track by track(tag)" ng-class="{ selected: tag == tagList.selected }"><span ng-bind="getDisplayText(tag)"></span> <a class="remove-button" ng-click="tagList.remove($index)" ng-bind="options.removeTagSymbol"></a></li></ul><input class="input" ng-model="newTag.text" ng-change="newTagChange()" ng-trim="false" ng-class="{\'invalid-tag\': newTag.invalid}" ti-bind-attrs="{type: options.type, placeholder: options.placeholder, tabindex: options.tabindex}" ti-autosize=""></div></div>'),$templateCache.put("ngTagsInput/auto-complete.html",'<div class="autocomplete" ng-show="suggestionList.visible"><ul class="suggestion-list"><li class="suggestion-item" ng-repeat="item in suggestionList.items track by track(item)" ng-class="{selected: item == suggestionList.selected}" ng-click="addSuggestionByIndex($index)" ng-mouseenter="suggestionList.select($index)" ng-bind-html="highlight(item)"></li></ul></div>')}])}(),define("ngTagsInput",["angular"],function(){}),define("app/common/services/tagsService",["angular","lodash","angularLocalStorage","app/common/resources/constants/constants"],function(angular,_){"use strict";return angular.module("ernr.tagsService",["angularLocalStorage","common.resources.constant"]).factory("tagsFactory",["$http","apiDomain","storage",function($http,constant,storage){var isFollowing=function(id){return _.indexOf(storage.get("tags"),id)>=0},sync=function(id,type){var ids=storage.get("tags"),isIncluded=isFollowing(id);"add"!==type||isIncluded?"remove"===type&&isIncluded&&_.remove(ids,function(n){return n===id}):ids.push(id),storage.set("tags",ids)};return{autocomplete:function(query){return $http.get(constant.search+"/elasticsearch/suggesttags",{params:{q:query}})},getList:function(params){return $http.get(constant.domain+"/tags",{params:params})},getFollowing:function(params){return $http.get(constant.domain+"/user/tags/following",{params:params})},follow:function(id){return $http.post(constant.domain+"/user/tags/follow",{tags:[id]}).success(sync.bind(this,id,"add"))},unfollow:function(id){return $http.post(constant.domain+"/user/tags/unfollow",{tags:[id]}).success(sync.bind(this,id,"remove"))},loadToLocalStorage:function(){this.getFollowing({per_page:0}).success(function(resp){storage.set("tags",resp.result.tags)})},isFollowing:function(id){return isFollowing(id)}}}])}),define("app/common/directives/tagsField",["angular","lodash","ngTagsInput","app/common/services/tagsService"],function(angular,_){"use strict";return angular.module("ernr.directives.tagsField",["ngTagsInput","ernr.tagsService"]).directive("tagsField",function(){return{restrict:"E",transclude:!0,scope:{tags:"="},controller:["$scope","$q","tagsFactory",function($scope,$q,tags){angular.isArray($scope.tags)||($scope.tags=[]),$scope.innerTags=$scope.tags.map(function(tag){return{id:tag}}),$scope.loadTags=function(query){var deferred=$q.defer();return tags.autocomplete(query).success(function(data){deferred.resolve(data.result.items)}),deferred.promise},$scope.$watch("innerTags",function(newValue){$scope.tags=_.compact(newValue.map(function(tag){return tag.id.replace(/#/g,"")})),$scope.innerTags=$scope.tags.map(function(tag){return{id:tag}})},!0)}],template:'<tags-input ng-model="innerTags" replace-spaces-with-dashes="false" add-on-space="true" display-property="id"><auto-complete source="loadTags($query)"></auto-complete></tags-input>'}})}),define("text!app/common/directives/upload/templates/upload.html",[],function(){return'<ul class="dropdown-menu upload-dropdown" role="menu">\n  <li ng-if="!currentUser.isLoggedIn">\n    <a href="/">Please sign in</a>\n  </li>\n\n  <li ng-if="currentUser.isLoggedIn">\n    <a href="" ng-click="openModal(\'photo\')">Upload Photo <i class="fa fa-camera fa-lg upload-photo"></i></a>\n  </li>\n\n  <li ng-if="currentUser.isLoggedIn">\n    <a href="" ng-click="openModal(\'text\')">Upload Text <i class="fa fa-font fa-lg upload-text"></i></a>\n  </li>\n\n  <li ng-if="currentUser.isLoggedIn">\n    <a href="" ng-click="openModal(\'audio\')">Upload Audio <i class="fa fa-headphones fa-lg upload-audio"></i></a>\n  </li>\n\n  <li ng-if="currentUser.isLoggedIn">\n    <a href="" ng-click="openModal(\'video\')">Upload Video <i class="fa fa-video-camera fa-lg upload-video"></i></a>\n  </li>\n</ul>\n'}),define("text!app/common/directives/upload/templates/uploadModal.html",[],function(){return'<div class="container upload-popup" ng-switch="postFormType">\n	<div ng-switch-when="photo">\n		<div ng-include="\'upload.photo\'"></div>\n	</div>\n	<div ng-switch-when="video">\n		<div ng-include="\'upload.video\'"></div>\n	</div>\n	<div ng-switch-when="text">\n		<div ng-include="\'upload.text\'"></div>\n	</div>\n	<div ng-switch-when="audio">\n		<div ng-include="\'upload.audio\'"></div>\n	</div>\n</div>\n'
}),define("app/common/directives/upload/controllers/uploadmodal",["require"],function(){"use strict";return["$scope","$modalInstance","modalType",function($scope,$modalInstance,modalType){$scope.postFormType="text",$scope.modalData={title:"",description:""},$scope.closeDialog=function(){$modalInstance.close()},$scope.submitDialog=function(){$modalInstance.close()},$scope.init=function(){$scope.postFormType=modalType},$scope.init()}]}),define("app/common/directives/upload/controllers/uploadPhotoModalController",["angular","lodash"],function(angular,_){"use strict";return["$scope","$modalInstance","$window","uploadFileFactory","postFactory","$timeout",function($scope,$modalInstance,$window,uploadFile,postFactory,$timeout){$scope.postFormType="photo",$scope.data={thumb:"",tags:[],files:null},$scope.onAjax=!1,$scope.isFileAPISupported=!!($window.File&&$window.FileReader&&$window.FileList&&$window.Blob),$scope.closeDialog=function(){$modalInstance.close()},$scope.discard=function(){$scope.data.files=null},$scope.generateThumb=function(file){if(null!==file&&file.type.match("image.*")){var fileReader=new $window.FileReader;fileReader.readAsDataURL(file),fileReader.onload=function(e){file.dataUrl=e.target.result,$timeout(function(){$scope.data.thumb=e.target.result})}}},$scope.createPost=function(thumb,file_url,mobile_url){$scope.parseMessage();var data={title:$scope.data.title,description:$scope.data.description,type:"image",thumb:thumb,file_url:file_url,mobile_url:mobile_url,tags:$scope.data.alltags,mentions:$scope.data.mentions};return postFactory.createpost(data).success(function(data){$scope.onAjax=!1,$modalInstance.close(data.result)}).error(function(data){$scope.onAjax=!1,$scope.message=data.error,$scope.state="error"})},$scope.parseMessage=function(){for(var message=$scope.data.description,tagsRegex=new RegExp("(^|\\s)#(\\S+)","g"),mentionsRegex=new RegExp("(^|\\s)@(\\S+)","g"),tags=[],tag=tagsRegex.exec(message),mentions=[],mention=mentionsRegex.exec(message);tag;)tags.push(tag[2].replace(/#/g,"")),tag=tagsRegex.exec(message);for(tags=_.compact($scope.data.tags.concat(tags)),$scope.data.alltags=_.uniq(tags);mention;)mentions.push(mention[2].replace(/^@/,"")),mention=mentionsRegex.exec(message);$scope.data.mentions=mentions},$scope.upload=function(){$scope.data.files&&$scope.data.files[0]&&!$scope.onAjax&&($scope.onAjax=!0,uploadFile.upload($scope.data.files[0]).success(function(data){$scope.createPost(data.result.thumbnail_url,data.result.url,data.result.mobile_url)}).error(function(data){$scope.onAjax=!1,$scope.message=data.error,$scope.state="error"}))},$scope.onFileChange=function(files){$scope.data.files=files,files.forEach(function(file){$scope.generateThumb(file)})}}]}),define("app/common/directives/upload/controllers/uploadTextModalController",["angular","lodash"],function(angular,_){"use strict";return["$scope","$modalInstance","$window","uploadFileFactory","postFactory","$timeout",function($scope,$modalInstance,$window,uploadFile,postFactory){$scope.postFormType="text",$scope.data={thumb:{},tags:[]},$scope.onAjax=!1,$scope.closeDialog=function(){$modalInstance.close()},$scope.discard=function(){$scope.data.files=null},$scope.createPost=function(thumb){$scope.parseMessage();var data={title:$scope.data.title,description:$scope.data.description,type:"text",thumb:thumb,tags:$scope.data.alltags,mentions:$scope.data.mentions};return postFactory.createpost(data).success(function(data){$scope.onAjax=!1,$modalInstance.close(data.result)}).error(function(data){$scope.onAjax=!1,$scope.message=data.error,$scope.state="error"})},$scope.parseMessage=function(){for(var message=$scope.data.description,tagsRegex=new RegExp("(^|\\s)#(\\S+)","g"),mentionsRegex=new RegExp("(^|\\s)@(\\S+)","g"),tags=[],tag=tagsRegex.exec(message),mentions=[],mention=mentionsRegex.exec(message);tag;)tags.push(tag[2].replace(/#/g,"")),tag=tagsRegex.exec(message);for(tags=_.compact($scope.data.tags.concat(tags)),$scope.data.alltags=_.uniq(tags);mention;)mentions.push(mention[2].replace(/^@/,"")),mention=mentionsRegex.exec(message);$scope.data.mentions=mentions},$scope.upload=function(){if(!$scope.onAjax){if(!$scope.data.thumb.blob)return void $scope.createPost(null);$scope.onAjax=!0,uploadFile.getThumb($scope.data.thumb.blob).success(function(data){$scope.createPost(data.result.url)}).error(function(data){$scope.onAjax=!1,$scope.message=data.error,$scope.state="error"})}}}]}),define("app/common/directives/upload/controllers/uploadAudioModalController",["angular","lodash"],function(angular,_){"use strict";return["$scope","$modalInstance","$window","uploadFileFactory","postFactory","$timeout",function($scope,$modalInstance,$window,uploadFile,postFactory){$scope.postFormType="audio",$scope.data={thumb:{},thumb_url:"",tags:[],audiofiles:null},$scope.onAjax=!1,$scope.isFileAPISupported=!!($window.File&&$window.FileReader&&$window.FileList&&$window.Blob),$scope.closeDialog=function(){$modalInstance.close()},$scope.discard=function(){$scope.data.audiofiles=null},$scope.createPost=function(file_url){$scope.parseMessage();var data={title:$scope.data.title,description:$scope.data.description,type:"audio",thumb:$scope.data.thumb_url,file_url:file_url,tags:$scope.data.alltags,mentions:$scope.data.mentions};return postFactory.createpost(data).success(function(data){$modalInstance.close(data.result)}).error(function(data){$scope.message=data.error,$scope.state="error"})},$scope.parseMessage=function(){for(var message=$scope.data.description,tagsRegex=new RegExp("(^|\\s)#(\\S+)","g"),mentionsRegex=new RegExp("(^|\\s)@(\\S+)","g"),tags=[],tag=tagsRegex.exec(message),mentions=[],mention=mentionsRegex.exec(message);tag;)tags.push(tag[2].replace(/#/g,"")),tag=tagsRegex.exec(message);for(tags=_.compact($scope.data.tags.concat(tags)),$scope.data.alltags=_.uniq(tags);mention;)mentions.push(mention[2].replace(/^@/,"")),mention=mentionsRegex.exec(message);$scope.data.mentions=mentions},$scope.getThumbnail=function(){if(!$scope.onAjax){if(!$scope.data.thumb||!$scope.data.thumb.blob)return void(angular.isDefined($scope.data.audiofiles)&&$scope.data.audiofiles[0]&&$scope.upload());$scope.onAjax=!0,uploadFile.getThumb($scope.data.thumb.blob).success(function(data){$scope.data.thumb_url=data.result.url,$scope.upload()}).error(function(data){$scope.onAjax=!1,$scope.message=data.error,$scope.state="error"})}},$scope.upload=function(){$scope.onAjax=!0,uploadFile.upload($scope.data.audiofiles[0]).progress(function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$scope.progress="progress: "+progressPercentage+"% "+evt.config.file.name}).success(function(data){$scope.createPost(data.result.url),$scope.onAjax=!1}).error(function(data){$scope.message=data.error,$scope.state="error",$scope.onAjax=!1})}}]}),define("app/common/directives/upload/controllers/uploadVideoModalController",["angular","lodash"],function(angular,_){"use strict";return["$scope","$modalInstance","$window","uploadFileFactory","postFactory","$timeout",function($scope,$modalInstance,$window,uploadFile,postFactory){$scope.postFormType="video",$scope.data={thumb:{},thumb_url:"",tags:[],videofiles:null},$scope.onAjax=!1,$scope.closeDialog=function(){$modalInstance.close()},$scope.discard=function(){$scope.data.videofiles=null},$scope.createPost=function(file_url){$scope.parseMessage();var data={title:$scope.data.title,description:$scope.data.description,type:"video",thumb:$scope.data.thumb_url,file_url:file_url,tags:$scope.data.alltags,mentions:$scope.data.mentions};return postFactory.createpost(data).success(function(){$scope.state="success",$scope.onAjax=!1}).error(function(data){$scope.message=data.error,$scope.state="error"})},$scope.parseMessage=function(){for(var message=$scope.data.description,tagsRegex=new RegExp("(^|\\s)#(\\S+)","g"),mentionsRegex=new RegExp("(^|\\s)@(\\S+)","g"),tags=[],tag=tagsRegex.exec(message),mentions=[],mention=mentionsRegex.exec(message);tag;)tags.push(tag[2].replace(/#/g,"")),tag=tagsRegex.exec(message);for(tags=_.compact($scope.data.tags.concat(tags)),$scope.data.alltags=_.uniq(tags);mention;)mentions.push(mention[2].replace(/^@/,"")),mention=mentionsRegex.exec(message);$scope.data.mentions=mentions},$scope.upload=function(){$scope.onAjax=!0,uploadFile.upload($scope.data.videofiles[0]).progress(function(evt){var progressPercentage=parseInt(100*evt.loaded/evt.total);$scope.progress="progress: "+progressPercentage+"% "+evt.config.file.name}).success(function(data){$scope.createPost(data.result.url)}).error(function(data){$scope.onAjax=!1,$scope.message=data.error,$scope.state="error"})}}]}),define("app/common/directives/upload/controllers/upload",["text!../templates/uploadModal.html","./uploadmodal","./uploadPhotoModalController","./uploadTextModalController","./uploadAudioModalController","./uploadVideoModalController"],function(templateUploadModal,uploadCtrl,uploadPhotoCtrl,uploadTextCtrl,uploadAudioCtrl,uploadVideoCtrl){"use strict";return["$scope","$modal","userFactory","notifications",function($scope,$modal,userFactory,notifications){function getCurrentController(type){var result=uploadCtrl;return"photo"===type?result=uploadPhotoCtrl:"text"===type?result=uploadTextCtrl:"audio"===type?result=uploadAudioCtrl:"video"===type&&(result=uploadVideoCtrl),result}$scope.LoginSuccessHandler=function(){},notifications.onLoginSuccess($scope,$scope.LoginSuccessHandler),$scope.openModal=function(type){var modal=$modal.open({template:templateUploadModal,controller:getCurrentController(type),keyboard:!1,resolve:{modalType:function(){return type}}});modal.result.then(function(feed){notifications.newFeedAdded(feed)})},$scope.currentUser=userFactory}]}),define("text!app/common/directives/upload/templates/uploadphoto.html",[],function(){return'<form class="form-photo-post" novalidate="" name="photoPostForm">\n    <div class="title clearfix row">\n      <label for="photo-title" class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Title</label>\n      <div class="col col-md-7 separator">\n        <input ng-model="data.title" type="text" name="title" id="photo-title"\n          ng-class="{\'has-error\':photoPostForm.title.$invalid && photoPostForm.title.$dirty}"\n          ng-maxlength="100" autocomplete="off"\n          required/>\n      </div>\n      <span class="col col-md-3 placeholder">100 character max</span>\n    </div>\n\n    <div ng-if="data.files" class="photo-upload-image-preview">\n      <div class="photo-upload-button">\n        <button type="button" ng-click="discard()">Discard</button>\n      </div>\n      <img class="upload-thumb" ng-src="{{data.thumb}}"/>\n    </div>\n\n    <div ng-if="!data.files" class="photo-upload">\n      <div ng-file-drop ng-file-select ng-file-change="onFileChange($files)"\n          ng-model="data.files" class="drop-box photo-dragdrop"\n          drag-over-class="dragover" allow-dir="true" accept="image/*">\n          Drop images here or click to upload\n      </div>\n    </div>\n\n    <div class="description">\n      <div class="description-wrapper clearfix">\n        <label for="photo-description" class="col col-md-6 separator name-field"><i class="fa fa-pencil"></i> Description</label>\n        <span class="col col-md-6 text-right placeholder">Description goes here 1000 characters max</span>\n        <div class="col col-md-12">\n          <mention-textarea ng-model="data.description" type="text" class="form-control"\n              id="photo-description"\n              ng-class="{\'has-error\':photoPostForm.description.$error.required && photoPostForm.description.$dirty}"\n              ng-maxlength="1000" required></mention-textarea>\n        </div>\n      </div>\n    </div>\n\n    <div class="tags-field">\n      <div class="tags-wrapper clearfix">\n        <label class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Tags</label>\n        <div class="col col-md-7 separator">\n          <tags-field tags="data.tags"></tags-field>\n        </div>\n        <span class="col col-md-3 placeholder">Seperate by space</span>\n      </div>\n    </div>\n\n    <div ng-if="state === \'error\'">\n      {{message}}\n    </div>\n\n    <div class="col col-md-12 text-center actions">\n      <button class="modal-action" ng-disabled="photoPostForm.$invalid || onAjax"\n              ng-click="upload()">\n          Publish\n      </button>\n\n      <button class="modal-action" ng-click="closeDialog()">\n          close\n      </button>\n    </div>\n</form>\n'}),define("text!app/common/directives/upload/templates/uploadtext.html",[],function(){return'<form class="form-text-post" name="textPostForm" novalidate="">\n    <div class="title clearfix row">\n      <label for="text-title" class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Title</label>\n      <div class="col col-md-7 separator">\n      <input ng-model="data.title" type="text" class="form-control" id="text-title"\n           ng-class="{\'has-error\':textPostForm.title.$error.required && textPostForm.title.$dirty}" name="title"\n           ng-maxlength="100" autocomplete="off"\n           required/>\n      </div>\n      <span class="col col-md-3 placeholder">100 character max</span>\n    </div>\n\n    <div class="thumb-editor-wrapper">\n      <thumb-editor ng-model="data.thumb" as-blob="true"></thumb-editor>\n    </div>\n\n    <div class="description">\n      <div class="description-wrapper clearfix">\n        <label for="text-description" class="col col-md-6 separator name-field"><i class="fa fa-pencil"></i> Description</label>\n        <span class="col col-md-6 text-right placeholder">Description goes here 1000 characters max</span>\n        <div class="col col-md-12">\n          <mention-textarea ng-model="data.description" type="text" class="form-control"\n              id="text-description"\n              ng-class="{\'has-error\':textPostForm.description.$error.required && textPostForm.description.$dirty}"\n              ng-maxlength="1000" required></mention-textarea>\n        </div>\n      </div>\n    </div>\n\n    <div class="tags-field">\n      <div class="tags-wrapper clearfix">\n        <label class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Tags</label>\n        <div class="col col-md-7 separator">\n          <tags-field tags="data.tags"></tags-field>\n        </div>\n        <span class="col col-md-3 placeholder">Seperate by space</span>\n      </div>\n    </div>\n\n    <div ng-if="state === \'error\'">\n        {{message}}\n    </div>\n\n    <div class="col col-md-12 text-center actions">\n      <button class="modal-action" ng-disabled="textPostForm.$invalid || onAjax"\n              ng-click="upload()">\n          Publish\n      </button>\n\n      <button class="modal-action" ng-click="closeDialog()">\n          close\n      </button>\n    </div>\n</form>\n'}),define("text!app/common/directives/upload/templates/uploadaudio.html",[],function(){return'<form class="form-audio-post" novalidate="" name="audioPostForm">\n    <div class="title clearfix row">\n      <label for="text-title" class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Title</label>\n      <div class="col col-md-7 separator">\n      <input ng-model="data.title" type="text" class="form-control" id="audio-title"\n           ng-class="{\'has-error\':audioPostForm.title.$error.required && audioPostForm.title.$dirty}"\n           ng-maxlength="100" autocomplete="off"\n           required/>\n      </div>\n      <span class="col col-md-3 placeholder">100 character max</span>\n    </div>\n\n    <div class="thumb-editor-wrapper">\n      <thumb-editor ng-model="data.thumb" as-blob="true"></thumb-editor>\n    </div>\n\n    <div ng-if="data.audiofiles[0]" class="clearfix discard-wraper">\n      <span class="file-name">{{data.audiofiles[0].name}}</span>\n      <button class="pull-right" ng-click="discard()">discard</button>\n    </div>\n\n    <div ng-if="!data.audiofiles" ng-file-drop ng-file-select ng-file-change="onFileChange($files)"\n         ng-model="data.audiofiles" class="drop-box audio-dragdrop"\n         drag-over-class="dragover" allow-dir="true"\n         ng-class="{\'has-error\':audioPostForm.file.$error.required && audioPostForm.file.$dirty}"\n         accept="audio/*">Drop audiofile here or click to upload\n    </div>\n\n    <div class="description">\n      <div class="description-wrapper clearfix">\n        <label for="text-description" class="col col-md-6 separator name-field"><i class="fa fa-pencil"></i> Description</label>\n        <span class="col col-md-6 text-right placeholder">Description goes here 1000 characters max</span>\n        <div class="col col-md-12">\n          <mention-textarea ng-model="data.description" type="text" class="form-control"\n              id="text-description"\n              ng-class="{\'has-error\':audioPostForm.description.$error.required && audioPostForm.description.$dirty}"\n              ng-maxlength="1000" required></mention-textarea>\n        </div>\n      </div>\n    </div>\n\n    <div class="tags-field">\n      <div class="tags-wrapper clearfix">\n        <label class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Tags</label>\n        <div class="col col-md-7 separator">\n          <tags-field tags="data.tags"></tags-field>\n        </div>\n        <span class="col col-md-3 placeholder">Seperate by space</span>\n      </div>\n    </div>\n\n    <div ng-if="state === \'error\'">\n        {{message}}\n    </div>\n\n    <div ng-if="progress">\n        {{progress}}\n    </div>\n\n    <div class="col col-md-12 text-center actions">\n      <button class="modal-action" ng-disabled="audioPostForm.$invalid || onAjax"\n              ng-click="getThumbnail()">\n          Publish\n      </button>\n\n      <button class="modal-action" ng-click="closeDialog()">\n          close\n      </button>\n    </div>\n</form>\n'}),define("text!app/common/directives/upload/templates/uploadvideo.html",[],function(){return'<div ng-if="state === \'success\'">\n  <div class="padding-25 text-center">\n    The post is queued. Please check its status <a href="/dashboard/pending" ng-click="closeDialog()">here</a>.\n  </div>\n\n  <div class="col col-md-12 text-center actions">\n    <button class="modal-action" ng-click="closeDialog()">\n      close\n    </button>\n  </div>\n</div>\n\n<form class="form-video-post" novalidate="" name="videoPostForm" ng-if="state !== \'success\'">\n    <div class="title clearfix row">\n      <label for="video-title" class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Title</label>\n      <div class="col col-md-7 separator">\n      <input ng-model="data.title" type="text" class="form-control" id="video-title"\n           ng-class="{\'has-error\':videoPostForm.title.$error.required && videoPostForm.title.$dirty}" name="title"\n           ng-maxlength="100" autocomplete="off"\n           required/>\n      </div>\n      <span class="col col-md-3 placeholder">100 character max</span>\n    </div>\n\n    <div ng-if="data.videofiles[0]" class="clearfix discard-wraper">\n      <span class="file-name">{{data.videofiles[0].name}}</span>\n      <button class="pull-right" ng-click="discard()">discard</button>\n    </div>\n\n    <div ng-if="!data.videofiles" ng-file-drop ng-file-select\n         ng-model="data.videofiles" class="drop-box audio-dragdrop"\n         drag-over-class="dragover" allow-dir="true"\n         ng-class="{\'has-error\':videoPostForm.file.$error.required && videoPostForm.file.$dirty}"\n         accept="video/*">Drop videofile here or click to upload\n    </div>\n\n    <div class="description">\n      <div class="description-wrapper clearfix">\n        <label for="text-description" class="col col-md-6 separator name-field"><i class="fa fa-pencil"></i> Description</label>\n        <span class="col col-md-6 text-right placeholder">Description goes here 1000 characters max</span>\n        <div class="col col-md-12">\n          <mention-textarea ng-model="data.description" type="text" class="form-control"\n              id="text-description"\n              ng-class="{\'has-error\':videoPostForm.description.$error.required && videoPostForm.description.$dirty}"\n              ng-maxlength="1000" required></mention-textarea>\n        </div>\n      </div>\n\n    <div class="tags-field">\n      <div class="tags-wrapper clearfix">\n        <label class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Tags</label>\n        <div class="col col-md-7 separator">\n          <tags-field tags="data.tags"></tags-field>\n        </div>\n        <span class="col col-md-3 placeholder">Seperate by space</span>\n      </div>\n    </div>\n\n\n    <div ng-if="state === \'error\'">\n      <div class="padding-25 text-center">\n        {{message}}\n      </div>\n\n      <div class="col col-md-12 text-center actions">\n        <button class="modal-action" ng-click="closeDialog()">\n          close\n        </button>\n      </div>\n    </div>\n\n    <div ng-if="progress">\n        {{progress}}\n    </div>\n\n    <div class="col col-md-12 text-center actions">\n      <button class="modal-action" ng-disabled="videoPostForm.$invalid || onAjax"\n              ng-click="upload()">\n          Publish\n      </button>\n\n      <button class="modal-action" ng-click="closeDialog()">\n          close\n      </button>\n    </div>\n</form>\n'}),define("text!app/common/directives/thumbEditor/template.html",[],function(){return'<div class="thumb-editor" ng-class="{ \'thumb-editor-empty\': !img.url }">\n  <div class="overlay" ng-show="edit">\n    <div class="overlay-inner">\n    </div>\n  </div>\n\n  <div ng-class="{ \'resize-container\': edit }">\n    <span class="resize-handle resize-handle-nw" ng-if="edit"></span>\n    <span class="resize-handle resize-handle-ne" ng-if="edit"></span>\n    <img ng-show="img.url" class="resize-image" crossorigin="anonymous" ng-src="{{trustSrc(img.url)}}" alt="image for resizing">\n    <span class="resize-handle resize-handle-se" ng-if="edit"></span>\n    <span class="resize-handle resize-handle-sw" ng-if="edit"></span>\n  </div>\n\n  <button class="btn-edit" type="button" ng-click="startEdit()" ng-if="img.url && !edit">Edit</button>\n  <button class="btn-done" type="button" ng-click="finishEdit()" ng-if="edit">Done</button>\n  <button class="btn-crop" type="button" ng-click="crop()" ng-if="edit">Crop</button>\n  <button class="btn-rotate" type="button" ng-click="rotate()" ng-if="edit">Rotate</button>\n  <button class="btn-reset" type="button" ng-click="reset()" ng-if="edit">Reset</button>\n\n  <div class="a-tip" ng-if="!error">\n    <p ng-if="edit"><strong>Hint:</strong> hold <span>SHIFT</span> while resizing to keep the original aspect ratio.</p>\n    <p ng-if="!edit"><strong>Hint:</strong> Drop images here or <a href ng-click="showFilesSelect()">click</a> to upload.</p>\n  </div>\n\n  <div class="a-tip" ng-if="error">\n    <p><strong>Hint:</strong> The image is too large. Please <a href ng-click="showFilesSelect()">select</a> another image.</p>\n  </div>\n\n  <input type="file" ng-show="false" ng-model="files" onchange="angular.element(this).scope().handleFileSelect(this)" />\n</div>\n'}),define("app/common/services/uploadFileService",["angular","app/common/resources/constants/constants","angularFileUpload"],function(angular){"use strict";return angular.module("ernr.uploadFile",["common.resources.constant","angularFileUpload"]).factory("uploadFileFactory",["apiDomain","$upload","$window",function(constant,$upload,$window){return{upload:function(file){return $upload.upload({url:constant.domain+"/files/upload",file:file})},uploadAvatar:function(file){return $upload.upload({url:constant.domain+"/files/uploadavatar",file:file})},getThumb:function(file){return $upload.upload({sendObjectsAsJsonBlob:!0,url:constant.domain+"/files/getthumb",file:file})},generateThumb:function(file,callback){if(null!==file&&file.type.match("image.*")&&callback){var fileReader=new $window.FileReader;fileReader.readAsDataURL(file),fileReader.onload=function(e){file.dataUrl=e.target.result,callback(e.target.result)}}}}}])}),define("app/common/directives/thumbEditor/thumbEditor",["angular","text!./template.html","app/common/services/uploadFileService"],function(angular,template){"use strict";return angular.module("ernr.directives.thumbEditor",["ernr.uploadFile"]).controller("thumbEditorComtroller",["$scope","$sce",function($scope,$sce){var resizeImage=function(width,height){$scope.canvas.width=width,$scope.canvas.height=height,$scope.canvas.getContext("2d").drawImage($scope.tempSrc,0,0,width,height),$($scope.imageTarget).attr("src",$scope.canvas.toDataURL("image/png"))},saveEventState=function(e){$scope.eventState.containerWidth=$scope.$container.width(),$scope.eventState.containerHeight=$scope.$container.height(),$scope.eventState.containerLeft=$scope.$container.offset().left,$scope.eventState.containerTop=$scope.$container.offset().top,$scope.eventState.mouseX=(e.clientX||e.pageX||e.originalEvent.touches[0].clientX)+$(window).scrollLeft(),$scope.eventState.mouseY=(e.clientY||e.pageY||e.originalEvent.touches[0].clientY)+$(window).scrollTop(),"undefined"!=typeof e.originalEvent.touches&&($scope.eventState.touches=[],$.each(e.originalEvent.touches,function(i,ob){$scope.eventState.touches[i]={},$scope.eventState.touches[i].clientX=0+ob.clientX,$scope.eventState.touches[i].clientY=0+ob.clientY})),$scope.eventState.evnt=e},startMoving=function(e){e.preventDefault(),e.stopPropagation(),saveEventState(e),$(document).on("mousemove touchmove",moving),$(document).on("mouseup touchend",endMoving)},endMoving=function(e){e.preventDefault(),$(document).off("mouseup touchend",endMoving),$(document).off("mousemove touchmove",moving)},moving=function(e){var touches,mouse={};if(e.preventDefault(),e.stopPropagation(),touches=e.originalEvent.touches,mouse.x=(e.clientX||e.pageX||touches[0].clientX)+$(window).scrollLeft(),mouse.y=(e.clientY||e.pageY||touches[0].clientY)+$(window).scrollTop(),$scope.$container.offset({left:mouse.x-($scope.eventState.mouseX-$scope.eventState.containerLeft),top:mouse.y-($scope.eventState.mouseY-$scope.eventState.containerTop)}),$scope.eventState.touches&&$scope.eventState.touches.length>1&&touches.length>1){var width=$scope.eventState.containerWidth,height=$scope.eventState.containerHeight,a=$scope.eventState.touches[0].clientX-$scope.eventState.touches[1].clientX;a*=a;var b=$scope.eventState.touches[0].clientY-$scope.eventState.touches[1].clientY;b*=b;var dist1=Math.sqrt(a+b);a=e.originalEvent.touches[0].clientX-touches[1].clientX,a*=a,b=e.originalEvent.touches[0].clientY-touches[1].clientY,b*=b;var dist2=Math.sqrt(a+b),ratio=dist2/dist1;width*=ratio,height*=ratio,resizeImage(width,height)}},resizing=function(e){{var width,height,left,top,mouse={};$scope.$container.offset()}mouse.x=(e.clientX||e.pageX||e.originalEvent.touches[0].clientX)+$(window).scrollLeft(),mouse.y=(e.clientY||e.pageY||e.originalEvent.touches[0].clientY)+$(window).scrollTop(),$($scope.eventState.evnt.target).hasClass("resize-handle-se")?(width=mouse.x-$scope.eventState.containerLeft,height=mouse.y-$scope.eventState.containerTop,left=$scope.eventState.containerLeft,top=$scope.eventState.containerTop):$($scope.eventState.evnt.target).hasClass("resize-handle-sw")?(width=$scope.eventState.containerWidth-(mouse.x-$scope.eventState.containerLeft),height=mouse.y-$scope.eventState.containerTop,left=mouse.x,top=$scope.eventState.containerTop):$($scope.eventState.evnt.target).hasClass("resize-handle-nw")?(width=$scope.eventState.containerWidth-(mouse.x-$scope.eventState.containerLeft),height=$scope.eventState.containerHeight-(mouse.y-$scope.eventState.containerTop),left=mouse.x,top=mouse.y,($scope.constrain||e.shiftKey)&&(top=mouse.y-(width/$scope.tempSrc.width*$scope.tempSrc.height-height))):$($scope.eventState.evnt.target).hasClass("resize-handle-ne")&&(width=mouse.x-$scope.eventState.containerLeft,height=$scope.eventState.containerHeight-(mouse.y-$scope.eventState.containerTop),left=$scope.eventState.containerLeft,top=mouse.y,($scope.constrain||e.shiftKey)&&(top=mouse.y-(width/$scope.tempSrc.width*$scope.tempSrc.height-height))),($scope.constrain||e.shiftKey)&&(height=width/$scope.tempSrc.width*$scope.tempSrc.height),width>$scope.minWidth&&height>$scope.minHeight&&(resizeImage(width,height),$scope.$container.offset({left:left,top:top}))},endResize=function(e){e.preventDefault(),$(document).off("mouseup touchend",endResize),$(document).off("mousemove touchmove",resizing)},startResize=function(e){e.preventDefault(),e.stopPropagation(),saveEventState(e),$(document).on("mousemove touchmove",resizing),$(document).on("mouseup touchend",endResize)};$scope.edit=!1,$scope.startEdit=function(){if(!$scope.imageTarget.src)return!1;var width=$scope.imageTarget.width,height=$scope.imageTarget.height;$scope.edit=!0,$scope.origSrc.src=$scope.imageTarget.src,$scope.tempSrc.src=$scope.imageTarget.src,$scope.canvas.getContext("2d").drawImage($scope.imageTarget,0,0,width,height),$scope.$container.on("mousedown touchstart","img",startMoving),$scope.$container.on("mousedown touchstart",".resize-handle",startResize)},$scope.finishEdit=function(){$scope.edit=!1,$scope.$container.off("mousedown touchstart","img",startMoving),$scope.$container.off("mousedown touchstart",".resize-handle",startResize),$scope.asBlob?$scope.canvas.toBlob(function(blob){$scope.img.blob=blob,$scope.img.url=$scope.tempSrc.src},"image/jpeg"):$scope.img.url=$scope.tempSrc.src},$scope.crop=function(){var left=$scope.overlay.offset().left-$scope.$container.offset().left,top=$scope.overlay.offset().top-$scope.$container.offset().top,width=$scope.overlay.width(),height=$scope.overlay.height();$scope.canvas.width=width,$scope.canvas.height=height,$scope.canvas.getContext("2d").drawImage($scope.imageTarget,left,top,width,height,0,0,width,height),$($scope.imageTarget).attr("src",$scope.canvas.toDataURL("image/png")),$scope.tempSrc.src=$scope.imageTarget.src,$scope.$container.offset({left:$scope.overlay.offset().left+2,top:$scope.overlay.offset().top+2})},$scope.rotate=function(){var width=$scope.imageTarget.width,height=$scope.imageTarget.height,ctx=$scope.canvas.getContext("2d");$scope.canvas.width=height,$scope.canvas.height=width,ctx.translate(height,width/height),ctx.rotate(Math.PI/2),ctx.drawImage($scope.imageTarget,0,0),$($scope.imageTarget).attr("src",$scope.canvas.toDataURL("image/png")),$scope.tempSrc.src=$scope.imageTarget.src},$scope.reset=function(){var width=$scope.origSrc.width,height=$scope.origSrc.height;$scope.canvas.width=width,$scope.canvas.height=height,$scope.canvas.getContext("2d").drawImage($scope.origSrc,0,0,width,height),$($scope.imageTarget).attr("src",$scope.canvas.toDataURL("image/png")),$scope.tempSrc.src=$scope.origSrc.src},$scope.showFilesSelect=function(){$scope.hideInput.click()},$scope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)}}]).directive("thumbEditor",["uploadFileFactory",function(uploadFile){return{restrict:"E",scope:{name:"@",img:"=ngModel",asBlob:"=",cropAreaWidth:"=",cropAreaHeight:"="},link:function(scope,element){scope.imageTarget=element.find("img.resize-image").get(0),scope.thumbEditor=element.find(".thumb-editor").get(0),scope.hideInput=element.find("input"),scope.overlay=element.find(".overlay"),scope.$container=$(scope.imageTarget).parent("div"),scope.canvas=document.createElement("canvas"),scope.origSrc=new Image,scope.tempSrc=new Image,scope.eventState={},scope.constrain=!1,scope.minWidth=scope.cropAreaWidth||200,scope.minHeight=scope.cropAreaHeight||200,scope.overlay.width(scope.minWidth),scope.overlay.height(scope.minHeight),scope.origSrc.setAttribute("crossOrigin","anonymous"),scope.tempSrc.setAttribute("crossOrigin","anonymous"),scope.handleFileSelect=function(e){function setThumb(thumb){scope.$apply(function(){scope.img.url=thumb})}function checkImg(files,index){var i=index||files.length-1,url=URL.createObjectURL(files[i]),img=new Image;img.onload=function(){img.width>1500||img.height>1500?scope.$apply(function(){scope.error=!0}):uploadFile.generateThumb(files[i],setThumb)
},img.src=url}var files,isInput=e instanceof HTMLElement;isInput?files=e.files:(e.stopPropagation(),e.preventDefault(),files=e.dataTransfer.files),scope.$apply(function(){scope.error=!1}),checkImg(files)},scope.handleDragOver=function(evt){evt.stopPropagation(),evt.preventDefault(),evt.dataTransfer.dropEffect="copy"},scope.thumbEditor.addEventListener("dragover",scope.handleDragOver,!1),scope.thumbEditor.addEventListener("drop",scope.handleFileSelect,!1)},controller:"thumbEditorComtroller",template:template}}])}),define("app/common/directives/upload/upload",["angular","angularRoute","angularFileUpload","angularBootstrap","app/common/context/user","app/common/services/notificationsService","app/common/services/postService","app/common/directives/mentio/mentio","app/common/directives/tagsField","text!./templates/upload.html","./controllers/upload","text!./templates/uploadphoto.html","text!./templates/uploadtext.html","text!./templates/uploadaudio.html","text!./templates/uploadvideo.html","app/common/directives/thumbEditor/thumbEditor"],function(angular,angularRoute,angularFileUpload,angularBootstrap,userServiceModule,notificationsServiceModule,postServiceModule,mentioModule,tagsFieldModule,uploadTmpl,uploadCtrl,templateUploadPhoto,templateUploadText,templateUploadAudio,templateUploadVideo){"use strict";var module=angular.module("ernr.directives.upload",["ngRoute","ui.bootstrap","ernr.userService","ernr.postService","angularFileUpload","ernr.notifications","ernr.directives.mentio","ernr.directives.tagsField","ernr.directives.thumbEditor"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("upload.photo",templateUploadPhoto),$templateCache.put("upload.text",templateUploadText),$templateCache.put("upload.audio",templateUploadAudio),$templateCache.put("upload.video",templateUploadVideo)}]),module.directive("uploadMenu",function(){return{restrict:"E",replace:!0,controller:uploadCtrl,template:uploadTmpl}}),module}),define("app/common/directives/searchField",["angular"],function(angular){"use strict";return angular.module("ernr.directives.searchField",[]).directive("searchField",function(){return{restrict:"A",replace:!0,controller:["$scope","$location",function($scope,$location){$scope.params=$location.search(),$scope.search=function(e){13===e.keyCode&&($location.path("search"),$location.search($scope.params))}}],template:'<input ng-model="params.q" ng-keypress="search($event)" type="text" />'}})}),define("app/common/services/userCreationService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";var module=angular.module("ernr.userCreationService",["common.resources.constant"]).factory("userCreationFactory",["$http","apiDomain",function($http,constant){return{create:function(username,email,password,capcha){var params;return params=1===arguments.length?username:{username:username,email:email,password:password,capcha:capcha},$http.post(constant.domain+"/account/create",params)}}}]);return module}),function(window,angular){"use strict";angular.module("ngMessages",[]).directive("ngMessages",["$compile","$animate","$templateRequest",function($compile,$animate,$templateRequest){var ACTIVE_CLASS="ng-active",INACTIVE_CLASS="ng-inactive";return{restrict:"AE",controller:function(){this.$renderNgMessageClasses=angular.noop;var messages=[];this.registerMessage=function(index,message){for(var i=0;i<messages.length;i++)if(messages[i].type==message.type){if(index!=i){var temp=messages[index];messages[index]=messages[i],index<messages.length?messages[i]=temp:messages.splice(0,i)}return}messages.splice(index,0,message)},this.renderMessages=function(values,multiple){function truthyVal(value){return null!==value&&value!==!1&&value}values=values||{};var found;angular.forEach(messages,function(message){found&&!multiple||!truthyVal(values[message.type])?message.detach():(message.attach(),found=!0)}),this.renderElementClasses(found)}},require:"ngMessages",link:function($scope,element,$attrs,ctrl){ctrl.renderElementClasses=function(bool){bool?$animate.setClass(element,ACTIVE_CLASS,INACTIVE_CLASS):$animate.setClass(element,INACTIVE_CLASS,ACTIVE_CLASS)};var cachedValues,multiple=angular.isString($attrs.ngMessagesMultiple)||angular.isString($attrs.multiple),watchAttr=$attrs.ngMessages||$attrs["for"];$scope.$watchCollection(watchAttr,function(values){cachedValues=values,ctrl.renderMessages(values,multiple)});var tpl=$attrs.ngMessagesInclude||$attrs.include;tpl&&$templateRequest(tpl).then(function(html){var after,container=angular.element("<div/>").html(html);angular.forEach(container.children(),function(elm){elm=angular.element(elm),after?after.after(elm):element.prepend(elm),after=elm,$compile(elm)($scope)}),ctrl.renderMessages(cachedValues,multiple)})}}}]).directive("ngMessage",["$animate",function($animate){var COMMENT_NODE=8;return{require:"^ngMessages",transclude:"element",terminal:!0,restrict:"AE",link:function($scope,$element,$attrs,ngMessages,$transclude){for(var index,element,commentNode=$element[0],parentNode=commentNode.parentNode,i=0,j=0;i<parentNode.childNodes.length;i++){var node=parentNode.childNodes[i];if(node.nodeType==COMMENT_NODE&&node.nodeValue.indexOf("ngMessage")>=0){if(node===commentNode){index=j;break}j++}}ngMessages.registerMessage(index,{type:$attrs.ngMessage||$attrs.when,attach:function(){element||$transclude($scope,function(clone){$animate.enter(clone,null,$element),element=clone})},detach:function(){element&&($animate.leave(element),element=null)}})}}}])}(window,window.angular),define("angular-messages",["angular"],function(){}),define("text!app/common/directives/signInUp/templates/signInUpModal.html",[],function(){return'<div class="container sign-in-up-pop-up">\n  <div class="header-img">\n    <img alt="" src="/img/user-ico.png" />\n  </div>\n\n  <div class="sign-tab-wrapper">\n    <span\n      class="sign-up-tab sign-tab-item"\n      ng-click="setState(\'signup\')"\n      ng-class="{ active: state === \'signup\' }">\n      sign up\n    </span>\n    <span\n      class="sign-in-tab sign-tab-item"\n      ng-click="setState(\'signin\')"\n      ng-class="{ active: [\'signin\', \'forgot\'].indexOf(state) >= 0  }">\n      login\n    </span>\n  </div>\n\n  <div ng-switch="state">\n    <div ng-switch-when="signin">\n      <form class="form-login" ng-submit="login($event)" name="loginForm" novalidate>\n        <div class="form-field-wrapper">\n          <div class="input-apppend">\n            <input\n              ng-model="data.username"\n              type="text"\n              placeholder="Enter Your Email or Username"\n              name="username"\n              autofocus\n              ng-minlength="3"\n              autocomplete="off"\n              required/>\n            <span class="add-on"><i class="fa fa-envelope-o fa-lg"></i></span>\n            <div ng-messages="loginForm.username.$error">\n              <div class="error-message" ng-message="minlength">Username is too short</div>\n            </div>\n          </div>\n          <hr />\n          <div class="input-apppend">\n            <input\n              ng-model="data.password"\n              type="password"\n              name="password"\n              placeholder="Password"\n              ng-minlength="6"\n              required/>\n            <span class="add-on"><i class="fa fa fa-lock fa-lg"></i></span>\n            <div ng-messages="loginForm.password.$error">\n              <div class="error-message" ng-message="minlength">Password is too short</div>\n            </div>\n          </div>\n        </div>\n        <div class="actions-wrapper">\n          <button\n            class="forgot-btn"\n            type="button"\n            ng-click="setState(\'forgot\')">\n            Forgot password\n          </button>\n          <button\n            ng-hide="isPending"\n            class="login-btn"\n            ng-disabled="loginForm.$invalid"\n            type="submit">\n            Login\n          </button>\n          <button\n            ng-show="isPending"\n            disabled\n            type="button"\n            class="login-btn">\n            Loading...\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <div ng-switch-when="signup">\n      <form class="sign-up-form" ng-submit="signUp($event)" name="signUpForm">\n        <div class="form-field-wrapper">\n          <div class="input-apppend">\n            <input\n              ng-model="data.username"\n              type="text"\n              placeholder="Username"\n              name="username"\n              ng-minlength="3"\n              autocomplete="off"\n              required/>\n            <span class="add-on"><i class="fa fa-envelope-o fa-lg"></i></span>\n            <div ng-messages="signUpForm.username.$error">\n              <div class="error-message" ng-message="minlength">Username is too short</div>\n            </div>\n          </div>\n          <hr />\n          <div class="input-apppend">\n            <input\n              ng-model="data.email"\n              type="email"\n              placeholder="Enter Your Email"\n              name="email"\n              required/>\n            <span class="add-on"><i class="fa fa-envelope-o fa-lg"></i></span>\n            <div ng-messages="signUpForm.email.$error">\n              <div class="error-message" ng-message="email">Email is invalid</div>\n            </div>\n          </div>\n          <hr />\n          <div class="input-apppend">\n            <input\n              ng-model="data.password"\n              type="password"\n              placeholder="Password"\n              name="password"\n              ng-minlength="6"\n              required/>\n            <span class="add-on"><i class="fa fa fa-lock fa-lg"></i></span>\n            <div ng-messages="signUpForm.password.$error">\n              <div class="error-message" ng-message="minlength">Password is too short</div>\n            </div>\n          </div>\n          <hr />\n          <div re-captcha ng-model="data.captcha" class="captcha"></div>\n        </div>\n        <div class="actions-wrapper">\n          <button\n            ng-hide="isPending"\n            class="next-btn"\n            ng-disabled="signUpForm.$invalid"\n            type="submit">\n            Send\n          </button>\n          <button\n            ng-show="isPending"\n            disabled\n            type="button"\n            class="next-btn">\n            Loading...\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <div ng-switch-when="forgot">\n      <form class="form-login" name="forgotForm">\n        <div class="form-field-wrapper">\n          <div class="input-apppend">\n            <input\n              ng-model="data.email"\n              type="email"\n              placeholder="Enter Your Email"\n              name="email"\n              autofocus />\n            <span class="add-on"><i class="fa fa-envelope-o fa-lg"></i></span>\n          </div>\n        </div>\n        <div class="actions-wrapper">\n          <button\n            class="cancel-btn"\n            type="button"\n            ng-click="setState(\'signin\')">\n            Cancel\n          </button>\n          <button\n            ng-hide="isPending"\n            class="login-btn"\n            type="submit">\n            Send\n          </button>\n          <button\n            ng-show="isPending"\n            disabled\n            type="button"\n            class="login-btn">\n            Loading...\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <div ng-switch-when="success">\n      <form class="form-login" name="forgotForm">\n        <div class="form-field-wrapper">\n          <h3>Please confirm your account. We sent link to email.</h3>\n        </div>\n        <div class="actions-wrapper">\n          <button\n            class="next-btn"\n            type="button"\n            ng-click="close()">\n            Ok\n          </button>\n        </div>\n      </form>\n    </div>\n\n    <div ng-switch-when="error">\n      <form class="form-login" name="forgotForm">\n        <div class="form-field-wrapper">\n          <h3>{{message}}</h3>\n        </div>\n        <div class="actions-wrapper">\n          <button\n            class="next-btn"\n            type="button"\n            ng-click="setPrevState()">\n            Try again\n          </button>\n        </div>\n      </form>\n    </div>\n  </div>\n\n  <div class="skip-footer">\n    <a href ng-click="close()">Skip for now</a>\n    <span>By signing up, you agree to our Terms & Privacy Policy</span>\n  </div>\n</div>\n\n'}),define("app/common/directives/signInUp/signInUp",["angular","angularBootstrap","text!./templates/signInUpModal.html","angularReCaptcha","angular-messages","app/common/context/user","app/common/services/loginService","app/common/services/userCreationService"],function(angular,angularBootstrap,templateModal){"use strict";return angular.module("ernr.directives.signInUp",["reCAPTCHA","ui.bootstrap","ngMessages","ernr.userService","ernr.loginService","ernr.userCreationService"]).config(["reCAPTCHAProvider",function(reCAPTCHAProvider){reCAPTCHAProvider.setPublicKey("6LemHgITAAAAAFpb1visOPxdCRnrAsTid-qAqqNQ"),reCAPTCHAProvider.setOptions({theme:"white"})}]).controller("signInUpController",["$scope","$modalInstance","loginFactory","userCreationFactory","state",function($scope,$modalInstance,loginFactory,userCreationFactory,state){var prevState;$scope.state=state,$scope.isPending=!1,$scope.data={},$scope.setState=function(state){$scope.state=state},$scope.setPrevState=function(){$scope.state=prevState},$scope.close=function(){$modalInstance.dismiss("cancel")},$scope.login=function(e){e.preventDefault(),$scope.isPending=!0,loginFactory.login($scope.data.username,$scope.data.password).then(function(){$modalInstance.close()})["catch"](function(data){$scope.message=data.error,$scope.state="error"})},$scope.signUp=function(e){e.preventDefault(),$scope.isPending=!0,userCreationFactory.create($scope.data).success(function(){$scope.state="success",$scope.isPending=!1}).error(function(data){$scope.message=data.error,$scope.state="error"})},$scope.$watch("state",function(newValue,oldValue){var validValues=["signin","forgot","error","success","signup"],isValid=validValues.indexOf(newValue)>=0;isValid?($scope.state=newValue,prevState=oldValue,$scope.isPending=!1):$scope.state=oldValue})}]).directive("signInUp",function(){return{restrict:"A",scope:{state:"@signInUp"},controller:["$scope","$modal","userFactory",function($scope,$modal,currentUser){$scope.currentUser=currentUser,$scope.action=function(){$modal.open({template:templateModal,controller:"signInUpController",keyboard:!1,resolve:{state:function(){var res=$scope.state;return res||(res="signin"),res}}})}}],link:function(scope,element){element.on("click",scope.action)}}})}),define("app/modules/navbar/navbar",["angular","angularReCaptcha","angularRoute","text!./templates/navbar.html","text!./templates/navbar_new.html","./controllers/navbarController","app/common/context/user","app/common/services/profileService","app/common/services/loginService","app/common/directives/upload/upload","app/common/directives/searchField","app/common/services/userCreationService","angular-messages","app/common/directives/signInUp/signInUp"],function(angular,captcha,angularRoute,template,templateNew,navbarController){"use strict";var module=angular.module("ernr.navbar",["reCAPTCHA","ernr.userService","ernr.ProfileService","ernr.loginService","ernr.directives.upload","ernr.userCreationService","ernr.directives.searchField","ngMessages","ernr.directives.signInUp"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("navbar",template),$templateCache.put("navbar.new",templateNew)}]),module.controller("navbarController",navbarController),module}),define("text!app/modules/footer/footer.html",[],function(){return'<div class="footer container">\n  <div class="pull-left">\n    <span class="footer-title">RABADABA</span>\n  </div>\n  <div class="pull-right right-items">\n    <div class="footer-menu-items">\n      <a href="#/about">About</a>\n      <a href="#/contact">Contact</a>\n      <a href="#/terms">Temrs</a>\n      <a href="#/support">Support</a>\n    </div>\n    <!-- <div class="vertical-line-20-15 line-light"></div> -->\n    <div class="all-rights">2015 - All rights reserved</div>\n  </div>\n</div>\n'}),define("app/modules/footer/footer",["require","angular","text!./footer.html"],function(require){"use strict";var module,angular=require("angular"),template=require("text!./footer.html");return module=angular.module("ernr.footer",[]),module.run(["$templateCache",function($templateCache){$templateCache.put("footer",template)}]),module});var mod;if(mod=angular.module("infinite-scroll",[]),mod.directive("infiniteScroll",["$rootScope","$window","$timeout",function($rootScope,$window,$timeout){return{link:function(scope,elem,attrs){var checkWhenEnabled,handler,scrollDistance,scrollEnabled;return $window=angular.element($window),scrollDistance=0,null!=attrs.infiniteScrollDistance&&scope.$watch(attrs.infiniteScrollDistance,function(value){return scrollDistance=parseInt(value,10)}),scrollEnabled=!0,checkWhenEnabled=!1,null!=attrs.infiniteScrollDisabled&&scope.$watch(attrs.infiniteScrollDisabled,function(value){return scrollEnabled=!value,scrollEnabled&&checkWhenEnabled?(checkWhenEnabled=!1,handler()):void 0}),handler=function(){var elementBottom,remaining,shouldScroll,windowBottom;return windowBottom=$window.height()+$window.scrollTop(),elementBottom=elem.offset().top+elem.height(),remaining=elementBottom-windowBottom,shouldScroll=remaining<=$window.height()*scrollDistance,shouldScroll&&scrollEnabled?$rootScope.$$phase?scope.$eval(attrs.infiniteScroll):scope.$apply(attrs.infiniteScroll):shouldScroll?checkWhenEnabled=!0:void 0},$window.on("scroll",handler),scope.$on("$destroy",function(){return $window.off("scroll",handler)}),$timeout(function(){return attrs.infiniteScrollImmediateCheck?scope.$eval(attrs.infiniteScrollImmediateCheck)?handler():void 0:handler()},0)}}}]),define("angularScroll",["angular"],function(){}),define("app/common/services/feedService",["angular","app/common/resources/constants/constants","lodash"],function(angular,constantsModule,_){"use strict";var module=angular.module("ernr.feedService",["common.resources.constant"]).factory("feedFactory",["apiDomain","$http",function(constant,$http){var service={};return service.search=function(params){var feedId="";return params&&("main"!==params.topic&&params.topic||(params.topic="all"),feedId=_.compact([params.topic,params.type,params.datestamp]).join(":"),delete params.topic,delete params.type,delete params.datestamp),$http({method:"GET",url:constant.domain+"/feeds/"+feedId,params:params})},service.get=function(url,param){var newurl=param?url.replace("%s",param):url;return $http({method:"GET",url:constant.domain+newurl})},service}]);return module}),define("text!app/modules/home/home.html",[],function(){return'<div class="slim-outer">\n  <!-- Container -->\n  <div class=" gallery-items-wrapper">\n  <div class="container">\n    <div class="row ">\n      <div class="col-md-4 col-xs-12">\n          <!-- Reusable Gallery element -->\n          <div class="gallery-item-wrapper">\n              <div class="info-line">\n                  <div class="pull-left">\n                    <i class="fa fa-database"></i> $23.11\n                  </div>\n                  <div class="pull-right">\n                    <i class="fa fa-arrows"></i> 1.345\n                  </div>\n                  <div class="vertical-line-20-5 pull-right line-light"></div>\n                  <div class="pull-right">\n                    +96%\n                  </div>\n                </div>\n                  <div class="clearfix"></div>\n                  <div class="image-wrapper">\n                    <img src="http://lorempixel.com/g/800/400/">\n                  </div>\n                  <div class="clearfix"></div>\n                  <div class="description-name-wrapper">\n                    <div class="item-name">\n                      BIG JIMMY\n                    </div>\n                    <div class="item-description">\n                      First iPhone 6 sold in Perth is dropped by kid\n                    </div>\n                    <div class="right-side-icon">\n                      <i class="fa fa-weixin"></i>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n              <!-- </div> -->\n          </div>\n      </div>\n      <div class="col-md-4 col-xs-6">\n          <!-- Reusable Gallery element -->\n          <div class="gallery-item-wrapper">\n              <div class="info-line">\n                  <div class="pull-left">\n                    <i class="fa fa-database"></i> $23.11\n                  </div>\n                  <div class="pull-right">\n                    <i class="fa fa-arrows"></i> 1.345\n                  </div>\n                  <div class="vertical-line-20-5 pull-right line-light"></div>\n                  <div class="pull-right">\n                    +96%\n                  </div>\n                  </div>\n                  <!-- <div class="image-thumb">\n                    <img src="http://lorempixel.com/g/800/400/">\n                  </div> -->\n                  <div class="clearfix"></div>\n                  <div class="image-wrapper">\n                    <img src="http://lorempixel.com/g/800/400/">\n                    <div class="post-type-icon">\n                      <i class="fa fa-pencil"></i>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n                  <div class="description-name-wrapper">\n                    <div class="item-name">\n                      BIG JIMMY\n                    </div>\n                    <div class="item-description">\n                      First iPhone 6 sold in Perth is dropped by kid\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n              <!-- </div> -->\n          </div>\n      </div>\n        <div class="col-md-4 col-xs-6">\n          <!-- Reusable Gallery element -->\n          <div class="gallery-item-wrapper">\n              <div class="info-line">\n                  <div class="pull-left">\n                    <i class="fa fa-database"></i> $23.11\n                  </div>\n                  <div class="pull-right">\n                    <i class="fa fa-arrows"></i> 1.345\n                  </div>\n                  <div class="vertical-line-20-5 pull-right line-light"></div>\n                  <div class="pull-right">\n                    +96%\n                  </div>\n                  </div>\n                  <!-- <div class="image-thumb">\n                    <img src="http://lorempixel.com/g/800/400/">\n                  </div> -->\n                  <div class="clearfix"></div>\n                  <div class="image-wrapper">\n                    <img src="http://lorempixel.com/g/800/400/">\n\n                    <div class="post-type-icon">\n                      <i class="fa fa-pencil"></i>\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n                  <div class="description-name-wrapper">\n                    <div class="item-name">\n                      BIG JIMMY\n                    </div>\n                    <div class="item-description">\n                      First iPhone 6 sold in Perth is dropped by kid\n                    </div>\n                  </div>\n                  <div class="clearfix"></div>\n              <!-- </div> -->\n          </div>\n      </div>\n    </div>\n  </div>\n  </div>\n\n  <div feeds-list class="container content-has-padding" feed-topic="\'feeds:all\'" feed-type="filter.type" feed-datestamp="filter.datestamp"></div>\n</div>\n'}),define("app/libs/angular.dcb-img-fallback",["require","angular"],function(require){"use strict";var angular=require("angular");angular.module("libs.img-fallback",[]).directive("fallbackSrc",function(){var missingDefault="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9q3X/TP/vmgB39iy/89l/I0n9jS/8APZPyNN/tW6/6Z/8AfNJ/at16R/8AfNADv7Fl/wCeyfkaP7El/wCe6fkab/a136R/980n9r3fpH/3zQA7+w5v+e6fkaralpr2cAlaRWDNtwB7H/CrVnqlzLdxxsI9rMAcLVjxR/yD0/66j+RoA55qa1PppoAY1NanmmmgCNqaae1NagBKa3WnUjUAMNNNPamtQAw009KcetNNADW6UxqfTT0oAY1NanN0pG6UAMamt1pzU1qAGHrTae1MPWgBtDdKKDQAxqa1PbpTGoASiiigApy9aaOtPXrQA5aWkWloAVaevSmr0pwoAdTqbTh1oAcvWnDrSLTl60AOXrTlpq05aAHLT16U1elOHSgBw6U6m04daAHDrTqRetLQADrT1601actADlpy01aeOlACrT1ptOoAcK6aP/kCL/17j/0GuZHWumj/AOQKv/XuP/QaAOdFOFItKKAFAp2DU+mQ+feIhHyg5b6Crus2fW4iH++B/OgDLxS4FOxRQAzFLDG0syxKOWOBSkVPpTqmoRlvUj8xQBqWun20SAGNZG7swz+lQ6lpkUkTPAmyQDOB0b2xWhSOwRCzHAUZJoA5rTf+QhD/ANdB/OtTxR/yD0/66j+RrNsTnU4jjrIP51peKP8AkHr/ANdR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/8AIFX/AK9x/wCg1zS10sf/ACBV/wCvcf8AoNAHPLTlpF6U6MFmCgZJOBQBr+HodsLTEcscD6Vo9eDTLaMQ26RD+EYp9AGPqVp5Em9B+7Y8e3tVWuglRZIyjjIPWsW8haCUoeR/CfUUAQMKa1Oanx280kLSIhKqMk0ATW+qTRKFdRIB0J61FfX81yuw4VPRe/1qu1MbrQBLp3/IQh/3xWp4m/48E/66j+RrM0//AJCEP++P51p+Jv8AjwT/AK6j+RoAwDTW6U4009KAGNTWpzU1qAGtTG609qY3WgBtFFFADaa3SnGmt0oAY1NanNTWoAa1MbrT2pjdaAG02nU2gBtNbpTqa3SgBjU1qc1NagBrUlK1JQA2m06m0ANooooAF609aZTl60APWlpFpaAHL0p1MXpTx0oAdTl602nDrQA9actNXrSr1oAetOWmrTloAevSnUxaeOlADqcvWm04UAPWlpq9adQAq05aavWnLQA9elOFMWnr0oAdTh1po6U6gB610sf/ACBV/wCvcf8AoNcyK6aP/kCr/wBe4/8AQaAOeWr+gw+ZebyPljGfx7f59qzxW/oMPlWIcj5pDn8O3+fegC7RRRQAVFeQLcQlG6/wn0NS0UAZlnpzFt1xwAeFB61pKoVdqgADoBS0UAYesWvkXG5R+7fp7H0qjXTXcK3Fu0T9+h9D61zdxG0MrRuMMpwaAH6d/wAhCH/fFanib/jwT/rqP5GsrTf+QhD/ANdB/OtTxR/yD0/66j+RoAwTTW6UrU1qAGtTWpzU1utADWph6049abQA2iiigBtNbpTj0pjUANamtTmprUANamN1pzdaaaAG02nU2gBtNbpTj0prdKAGNTWpzU1qAGtSUN1ooAbTacaa3SgBtFFFABTh1ptOoAevWlpo606gBVp69KYtOWgB46U6mr0pw6UAOHWnCm06gBy9aetMpw60APWnLTV605aAHr0pwpi05aAH06mr0pwoAKcOtNpwoAetOWmCnUAPWnLTKcKAHrXTx/8AIDX/AK9x/wCg1y4rqIudEXH/AD7j/wBBoAwLOMz3CRD+I4rqFUKoVRgKMAVy0IuI33xrIrDoQDU/2i//AOek/wCtAHR0VzouL7/npN+tL599/wA9Jv1oA6Giue8++/56TfrR59//AM9Jv1oA6Giue8++/wCek360faL7/npN+tAHQ1n69aebD56D54xz7is37Rf/APPSb9aabi//AOek/wCtADdN/wCQjD/10H861PFH/IPT/rqP5GszTo5BqEJMbf6wZ+WtPxV/yD0/66j+RoA58000401qAGmm0rU1qAENNPSlamtQAlDdKKRqAGtTWpzUw9aAEamN1pxptADTTacelNbpQA09KaelK1NbpQAjdKY1OamtQA1qa3WnN1ph60ANPWiig9KAGnpTW6U5ulMagBKKKKAAU4dKYvSnLQA+nU1elOHSgAXrT1plOFAD1py0wdaetAD16U4dKYtOWgB46U4UxactAD6cKYtPFADh1p60wU4UAPWnLTKdQA6lWkooAetOWmU4UAPWnKaYKcDQA9TXQWeqWcdnFG0jbljUH5T1ArngaUGgDpf7Wsf+erf98Gl/tay/56N/3ya5oGnZoA6P+1bL/no3/fJo/tWy/wCejf8AfJrnc0uaAOi/tSz/AOejf98mj+1LP/no3/fJrncmjJoA6L+1LP8A56N/3yaT+1bL/no3/fJrnqM0AdD/AGrZf89G/wC+TSf2tY/89G/75Nc7mgmgDov7Wsf+ejf98GqOvX9tc2axwuSwkBOVI4wf8ayc00mgAJpppSaaxoAQ000rGmtQAhptK1JQAU005qY1ACU00rU1qAEPSmNTmprUANamtSt1ppoARqa1LTT1oARutMPWnU00ANpppx6U1ulADaRulLSNQA1qa1ObrTD1oAKKa3WigBVpy0wdadQA9actMHWnrQAtOHSm0q0APFOFMWnLQA8U5etNFOFADqcOtNpwoActPWmCnCgB605aYKdQA9actMp1AD1pabTqAFU0oNNpVNADwadTAaUGgCQGlBplOBoAeDS5pmaXNAD80uaZmjNAD80ZpuRRmgB2aTNJkUmaAFzRmm5ozQAE0hNJmkJoACaQmgmm0ABNNNBNNJoAKKKRjQAhpppWprUAIaaaVqa1ACGmmlamtQAhpp6UrU1qAEpp6UrU1qAEbpTGpzUxqAEamtSmm0AFNPWnU00ANNNpx6U00ANooooABTqYtOWgB4pwpi05aAH0Ui0tADh1py00U4UAPWnLTBThQA9actMp1AD1py0wU4UAPWnLTBTgaAHrTlpgpwNADwaUGmA05TQA+ikBpaAFBpwNMpQaAH5p2ajBp2aAH5pc0zNLmgB2TS5pmaXNADs0ZpuaM0AOzRmm5oyaAFzSZpM0maAFzSE0maTNACk00mjNNJoAUmkoooADTSaKaTQAU2gmkY0AJTaVjTWNACGmmlamtQAlNpWprUAIabStTWoAQ000rU1qAEPSm0rUlACNTWpW6000AI1Nalpp60AITRSUUAApwpq04UAOpwpopy0AOFOpopwoAVactMpwoAetOWmCnCgB605aYKcKAHCnCmilWgB4pwNMU05TQA8GnA0xTSg0ASA04GowadQA8GnA0wGlBoAfRTQadmgAzTs02igB2aXNMzS5oAfRk03NGTQA/NGaZk0ZNAD8mkyabk0ZoAdmkzSZpM0ALmkzSUUAFFFITQAuabQTTSaAAmkJoJppNAAxpCaCabQAE00mimk0ABppoNNNABTTStTWoAQ02lamtQAhptK1NagBKKKRqAENNbpStTWoAQ000rU1qAEopCaKAEWnrTBThQA9aUU0U6gBwp60wU4UAOpVpBRQA9acppgpwNADgacKYppymgB4p1MU05TQA8U4Go6dQA8GnKaYDSg0ASA0oNMBpQaAJAaUGmUuaAH5p2ajzTs0APzS0zNLmgB1FNyaXNAC0UZFFABmjNFFABRRRQAUUZFJmgBaM03NJmgBc0maTNJmgBaaTRSE0ABNITQTTaACmk0E0hNAATTWNBNITQAjGkNFNNAAaaaCaaaAA000E0jGgBDTaVqSgApppWprUAIabStTWoASm0rU1qAEopM0UAC05aYKcKAHrTlpgpwoAcKcKaKVaAHg06mLTlNAC04U2lU0APpwqMGnA0ASA04GowadQA9TSg00GlBoAfTgajBpwNADwaUGmg0oNAD6UGmZp2aAHZp2ajzTs0APzS5qPNLmgB+aXNMzS5oAfmjNMzS5FADs0Z96bkUZFADs0ZFNyKTNADs0ZpuaTJoAdSZpM0maAFzSZpM0maAFpCaSkJoAUmm0E00mgBSaaTQTSE0ABNNopCaAEJpGNDGmk0ADGmsaUmmk0AIxpCaCabQAUGimk0ABppoNNNABTaVqa1ACU00rU1qAEopM0UAIKcKYtOWgB4pwpi05aAHinUxTTlNADxThUYNOBoAkBopop1ACqacpplOBoAeDSg0wGnA0APBpwNRg06gB4NLTQaUGgB4NKDTKXNAD807NR5p2aAHZp2ajzS5oAfmlzTM0uaAH5oyabmjNAD80ZpuTRmgB2aM03NGaAHZozTc0ZoAdmkzTcmjNADs0mabmjNAC5pM0maTNAC5pM0maTNAC5puaM03NACk0lGabmgAJpCaCaaTQAE0hNBNNoACaaTQTSMaAEJoopCaABjTWNKTTSaAEY0hoppNAAaaaDTTQAGmmg000AFFITRQAlOFMU05TQA+nUxTSg0ASCnA1GDTgaAJAaVTTKdQA8GlBpimnA0APopoNOoAcDSg0ynA0AOBp1MBpQaAJAaUGmA0uaAH5p2ajzTs0AOpc03NLmgB2aXNMpc0APpc0zNGTQBJmimZpcigB2TS5NMzRk0APzRmmZNGTQA/NJk03JoyaAHZozTc0ZFAC5pMmkzSZoAdmkzSZpM0ALSZpKTNAC0maTNJmgBc00mjNNzQApNITSE0hNAATTSaCaQmgAJpKKCaAAmmk0U0mgAJptBNIxoAGNNY0pNNJoARjTWpSaaaAEY0jUU00AFFNooAAacDUYNOFAEgNKppgpwNAD1NOU0wGnA0AOBpwNMBpymgB9KDTAadQA8GlBpgNOBoAfRTQadQAoNKDTaAaAJM0oNMpQaAH5p2ajzTs0APzS5qPNOzQA7NLmmZpc0APoyabmjJoAfmjNNzS5FADs0ZpuaKAHZozTaKAHZozTaKAHZFJmkzSZoAdmkpM0mTQA6kzSZpM0ALmkzSUmaAFzSZpKTNAC5ppNGaQmgAJpCaCabQAE0UUhNACk02gmmk0ABNITQTSE0ABNNJoptABTSaCaQmgBCaaTSsaaxoAGNNY0MaQmgBM0UlFACKacppgNKDQA8GnA0xTTgaAH04VGDTgaAJAaVTTKcDQA8GlBpgNOBoAfSg0wGnUAOBp1MBpQaAJAaKaDS5oAWlzSUUAOzTs1HmnZoAdmlzTM0uaAH5pc0ylzQA/NGTTc0ZoAfmjNNyaM0APyKM0zNLkUAOzRmm5FGRQA7NGabkUZoAdkUmabmjNADsmkpuTRmgB2aTNNzSZoAdmkzSZpM0ALmkzSUmaAFzSZpKKACijNNJoAUmkJpCaQmgAJppNFITQApNNoJptAATTSaCaQmgAJprGgmkJoACaaTRTSaACm0E00mgAopM0UAJThTFNKKAJAaUGmU4GgB6mnA0wGlBoAeDTqYDSg0ASA0oNMBpQaAHg04GmA0uaAJAaM03NKDQA8GlBplKDQA/NLmmZpc0APopuaXNAC0uaSigB2aXNMoyaAH5pc0zNLkUAOyaXJpmaMmgB+aM03NGaAHZozTc0ZoAdmjNNzRmgB2aMmm5NJk0AOozTc0ZoAXNJmkzSUAOzSZpKKACiikzQAtJmkzSZoAXNNzRmm5oAUmkozTSaAFJpCaQmkJoAKaTQTSE0ABNNJoJpCaAAmm0U0mgAJpCaGNNJoAGNNY0pNNoAKKbmigABpVNMpwNADgadTAaUGgCQGnA1HTgaAHg0oNMBpwNAD804GowacDQA8GlzTAaUGgCQGlBpmaXNAD80uaZmlzQA+lzTM07NADqXNMpc0APzS5pmaXNAD80UzNLmgB1FJk0ZoAWijIozQAZNLk0lFAC5ozSUUALmkyaKKADJooozQAUUmaM0ALRTcmjNAC5pMmkzSZoAdmkzSZpM0ALmkzSUmaAFpM0lJmgBc03NGabmgBSaQmkzSZoACaQmkJpCaAFJptBNNJoACaQmgmmk0ABNITQTTaACmk0pNNY0AGaKSigAopFNLQA4GlBplOBoAcDTs0wGloAkBpQaYDSg0APzTgajBp1ADwaXNMBpQaAJM0uaZmlzQA/NLmmZpc0APzTs1HmlzQA/NLmmZpc0APoyabmlzQA7NLmmZpaAHZNLmmUuTQA7NLkUzNGaAH5ozTcijIoAdmjNNzRmgB2aM03NGRQA7NGRTcikzQA7NGTTc0mTQA7NGabRmgBc0lJmkyaAHZpM0maTNAC0maSkzQAtJmkzSZoAXNNzRmm5oAUmkozTc0AKTTSaCaQmgAppNFNJoAUmkJpCaSgApCaQmkJoACaSiigAoptFAAtKtFFAC0UUUAOpVoooAWnUUUAKtLRRQA6lWiigBacKKKACnUUUAFOoooAKcKKKACjJoooAdRRRQAZpc0UUALRRRQAUUUUAFFFFABRRRQAUUUUABpuTRRQAUUUUAITSUUUAFITRRQAlI1FFACUjUUUAJSMaKKAEptFFACNSUUUANpGoooASmmiigBGpKKKACm0UUAITRRRQB//Z";
return{restrict:"A",link:function(scope,element,attr){element.on("error",function(){element[0].src=attr.fallbackSrc?attr.fallbackSrc:missingDefault})}}}).directive("loadingSrc",function(){var loadingDefault="data:image/jpeg;base64,/9j/4AAQSkZJRgABAQEAYABgAAD/4QBoRXhpZgAATU0AKgAAAAgABAEaAAUAAAABAAAAPgEbAAUAAAABAAAARgEoAAMAAAABAAIAAAExAAIAAAASAAAATgAAAAAAAABgAAAAAQAAAGAAAAABUGFpbnQuTkVUIHYzLjUuMTEA/9sAQwAEAgMDAwIEAwMDBAQEBAUJBgUFBQULCAgGCQ0LDQ0NCwwMDhAUEQ4PEw8MDBIYEhMVFhcXFw4RGRsZFhoUFhcW/9sAQwEEBAQFBQUKBgYKFg8MDxYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYWFhYW/8AAEQgB9AH0AwEiAAIRAQMRAf/EAB8AAAEFAQEBAQEBAAAAAAAAAAABAgMEBQYHCAkKC//EALUQAAIBAwMCBAMFBQQEAAABfQECAwAEEQUSITFBBhNRYQcicRQygZGhCCNCscEVUtHwJDNicoIJChYXGBkaJSYnKCkqNDU2Nzg5OkNERUZHSElKU1RVVldYWVpjZGVmZ2hpanN0dXZ3eHl6g4SFhoeIiYqSk5SVlpeYmZqio6Slpqeoqaqys7S1tre4ubrCw8TFxsfIycrS09TV1tfY2drh4uPk5ebn6Onq8fLz9PX29/j5+v/EAB8BAAMBAQEBAQEBAQEAAAAAAAABAgMEBQYHCAkKC//EALURAAIBAgQEAwQHBQQEAAECdwABAgMRBAUhMQYSQVEHYXETIjKBCBRCkaGxwQkjM1LwFWJy0QoWJDThJfEXGBkaJicoKSo1Njc4OTpDREVGR0hJSlNUVVZXWFlaY2RlZmdoaWpzdHV2d3h5eoKDhIWGh4iJipKTlJWWl5iZmqKjpKWmp6ipqrKztLW2t7i5usLDxMXGx8jJytLT1NXW19jZ2uLj5OXm5+jp6vLz9PX29/j5+v/aAAwDAQACEQMRAD8A+ggKcBQBRQAUAZpQKUUAFOAxRSgUAIBThQBTqAAClAoApwFACU4CilAoAQCnYoxTsUAJilpcUtACYpaXFLQAmKXFLiloAbilxTsUuKAG0YNOowaAExS4FLilxQA2inYooAbRg07BpcGgBmDRg0/FGKAGYNFPxSYNADaKdg0UANxSYp+BSYoAbikwafikoAbikxT6TFADMUYp2KMUAR4oxT8UmKAGYpMU/FJigCPFJin4pMUAMpCKfSEUAMIppFSEU2gBhFIRTyKaRQAykIp9NoAaRmm08ikNADaQilooAbiilxRQAtKBSAZpwoABTqKUCgAApwFAFKKAACnAUU4CgBAKUClApQKAClApaUCgBMU7FGKdigBMUuKUClxQAmKXFLiloATFLS4paAG4NLinYpcUANpcUtLigBuKXAp2KKAG0YNOooATFGKWigBMUYpaKAExRilooATBpMGnUUANowKdRigBmKTBp+KMUAMxSYp9JigBlGKdijFADMUmKdiigBmKTFPxSYoAjxSYp+KTFADKQin00igBpFNxTyKQigCMikIp5FIRQAwim08ikNAEZGKQin00jFADTTaeRSEUANooooAdTqAMUoFAABTgKAKUUAAFOopwoAAKUCgCnAUAAFLQBTqADGKUClApQKAEApwFFOAoATFLRinAUAJilpcUuKAExS0uKWgBMUuKKKACijBpcUAJRTqMGgBMGjFOxRigBuKXAp2BRigBuBRgU6igBuBSYp9GBQAzFGKfgUmKAGYNFPxSYoAbRTsUmKAEpMUtFADcUYp1GKAI8UYp+KTFAEeKMU7FJigBmKQin0hFADKaRipCKaaAGEUhFPIpCKAI6aRUlNNADCKQjNPIppFADCKbUhFNNAEZGKQinn0ptADaKXFFACgU4CgU4UAAp1ApwFAAKUChRTgKAAClAzQBmnAUAFOFAFOAoAQClApQKWgApQKUClAoAQCnYop2KAExS0UUAFFLiloATFLS4paAExS4pcUuKAG0uKXBpcUANxS4FOxRigBtFOowaAG0U7BowaAG0U7BowaAG4oxTqMCgBmKTBp+KMUAMpMU+kxQAzBoxTsUYoAZikp+KSgBtGKXFJQA0ikxT6QigBlNIqTFNIoAaRTaeRSUARkUhFPIpCKAGEZptPIpCKAIzSEU+mmgBjCmkU8jFIwoAYRmmmnsKawoAZRTqKAHAUqihRTgKABR3pyikApwoAUClAoFOoAKcBQKcBQAAYpQKAKWgApwFFOAxQAgFOAoApaACiilAoAAKWgCnUAJilxS4paAExS4pcUuKAExS0uKWgBuDS4p2KMUAJgUU6igBuDS4pcGlwaAG4oxTsUYoAbijBp2KTBoAbg0U7BooAbgUmKfikxQAzFGKdg0YoAZikxT8UlADMUmKfikoAZikxTyKQigCOinUhFACYzTadRQAwimkU8jFIRQAymkYp5FJQAwimkU8jFIRQAwjNNNPYU0igBh9KaakIppoAjPFNIqQ02gBmKKWigBwp1ApVoAUU4UiinKKAFHFOApFFOUUACinAUgFOoAKdQBTgMUAAGKUCgCloAKKAM07FAAKUClAxSgUAJinUAU7FACYpaXFLQAYoxTsUUAJilpcUtADcGlxTsUYoATFGDTqMGgBMGjFOxRigBuKMU7FGKAG4oxTsUYoAZg0U/FJg0ANxSYp+KTFADKKdg0YoAZikp+KSgBmKSn4pKAIyKQin4pCKAGU0ipKaRigBhFJTyKQigBtNIxTqKAGEU0inkYpCKAGU008ikoAjIxSMKeaaaAGMKawp5ppFADGFNanmmmgBtFLiigBRThQKcKAAU4UCnCgAFOFApwoAKcBSKKcooAAKcooApaACgDNFOHpQAU4UClAoAAKcBQBSgZoAAKcBRinAUAIBS0YzTsUAJilpcUtACYpaXFLigBMUuKXFLigBuKXFLg0uKAG4pcCnYoxQA3AowKdRQA3ApMU+jAoAZijBp2KMUAMpMU/FGKAI8UYp+KTFADMUmKfikxQBHiinYpMUAMxSEU+kIoAYRTSKkIptADCKaRTzSEUAMIzTaeRSEUANppp1FAEZFIwp9NNADSKaacaRhQAw0009qa1ADDTTT29aa1ADKKdiigBVpy0lOoAVactIKcKAFWlFFOFAAKcKBThQAUUUq0AKKcBikUU5RQAAU4ChRSgZoAUClAoAp1ABSgUAUoFAAKcBRTgKAEApaUCloATFLilxS4oATFLS4pcUAJijFOxS4oAbiinUYNADaKdg0YNADaKdg0YNADcCkxT8UmKAGYNGKfikoAZikp+KSgBmKTFPxSEUAR4pCKeRSEUAMptSEZptADCKQinEYpCKAGEU01IRTaAIyKRhT6aaAGMKSnGmmgANNNOpGoAYabT2prUAMNNNPamtQAw0009qa1ADKKdRQAq05aSnCgBVpy0gp1ACrTlpKcKAFWloooAVaUUU4UAApwoFOFAAKcPSgU4CgApQKFFKBQAoFKKBTgKAClApQKUCgAApaAKdQAmKXFLilxQAYoxTsUYoATFLilxS0ANwaXBpaKAExRilooATFJg06igBtGKdRigBmKSn4pKAGYpKfikoAZikxT8UhFAEZFIRTzTSKAGEUhp5FNIoAZTSMVIaaaAGEUhFOpGFADDTTT2pretADDTae1NagBlFK1JQA00009qa1ADKaae1IaAIzTTUjUxqAGUU6igBVpy0gp1ACrTlpKcKAFWnLSU6gApVpKdQAq05aQU4UAKtOX1pBThQAq0o5opwoABTqBThQAU4CkApwFAABTgKAKUDNAABTqKcBQAgFLilApaADFFFFABRS4paAG4NLinYNGKAG4oxTsUYoAbijBp2KMUAMop2DRigBtFLikoATFJTqKAGEU0inkUhFADCKaakIzTaAGEU0inkU0jFADGFIRTiKRhQAwim09qa3rQAw001IaaaAIzTTUhppoAjNNNSNTWoAbTTTqRqAGU2ntTWoAYaaae1NagBlFOxRQALT1pq09elAAKetNWnrQAq0tA6UUAKtOWkFOFACrTlpBThQA5actNFOoAVactJTqAFWnLSU4UAKopQKKdQACnUCnCgAFKBQBS0AFFFOAoAQClxSgUuKAExS4p2KMUAJijFOxS4FADcCjAp1FADcCkxT6MUAMxSU/FJQAzFJT8UlADCKSnEUhFACUhFLRQAwikIp5FNYUAMNNp7CmtQAymmntSNQBGaaakamtQBHSNTmpDQAxqYakNNNAEZppp7U1qAGUUrUlADTTTT2prUAMpppx60jUAMooPWigB1Opq9acOtADqcKRactAC0L1opVoActOWkXpTh0oAVactIKcKAFWnLSU4UAKtOWkpwoAVactIKcKAFWnLSCnCgBVpyikFOoAKKKcKACnAUAUoFAABS4pQKWgAxRinYoxQAmKWnYooAbRg07BpcGgBlGKdg0UAMxSU/FJQAzFJTyKQigCMikIp9NIxQAwikp7CmsKAEppp1BoAjNNNSGmmgCM001IaaaAIzTTUhpjUAMNNp7U1qAGNTTT2prUAMNNp7U1qAGGm09qYetAA3SmNT6bQAxqa1PNNoAbRRRQAq05aRelOXpQAq09elNHSnUAFOFNFOHWgB1OHWkWnLQAq9aetNWnLQAq9aetNWnLQA5actIOlOFACrTlpBThQA5acKaKcKAHCiiigBVpy0gpwoAVRTgKQU4UAAFOFApwoAAKMUoFKBQAYowadijBoATFGKdijFADcGkp+KTFADMUlPxSUAMIpCKeRTWFADCKbTyKQigCM001IaaaAIzRTjTaAEamtT6aaAGNTGqQ0xqAGGmmntTWoAZTTT2pjdaAG00049aa3WgBpprdKcetNNADGprU8009KAG0jdaWkagBh602ntTW60AMNFK1FAC04U2nUAOp1NHWnUAKvWnLTVpy0AOWnr0pq9KcKAHDpTqbTqAHCnU0dacvWgBwpy9aRactADlpy01aevSgBVpy0gp1ABSrSU6gBVp600U4UAOFOFNFOWgBwrUt9GlkgSUTIN6hgCDxkVlrXU27FNHjdeqwAj/vmgDN/sOX/nun5Gl/sSX/AJ7p+RqMaxdntH/3zS/2vd+kf/fNAEn9iy/89k/I0f2LL/z2T8jTP7WuvSP/AL5pf7Vu/SP/AL5oAf8A2NJ/z2X8jR/Y0n/PZPyNN/tW6/6Z/wDfNH9qXXon/fNADv7Fl/57L+RpP7Gl/wCeyfkab/at1/0z/wC+aT+1br0j/wC+aAHf2LL/AM9k/I0f2JL/AM90/I03+1rv0j/75pP7Xu/SP/vmgB39hzf890/I1W1LTXs4BK0isGbbgD2P+FWrPVLmW7jjYR7WYA4WrHij/kHp/wBdR/I0Ac81Nan000AMamtTzTTQBG1NNPamtQAlNbrTqRqAGGmmntTWoAYaaelOPWmmgBrdKY1Ppp6UAMamtTm6UjdKAGNTW605qa1ADD1ptPamHrQA2hulFBoAY1Nant0pjUAJRRRQAU5etNHWnr1oActLSLS0AKtPXpTV6U4UAOp1Npw60AOXrTh1pFpy9aAHL1py01actADlp69KavSnDpQA4dKdTacOtADh1p1IvWloAB1p69aatOWgBy05aatPHSgBVp602nUAOFdNH/yBF/69x/6DXMjrXTR/8gVf+vcf+g0Ac6KcKRaUUAOjQuwVQST0ArVs9LULvuT/AMBB/mafpsEdna/aZ/vEZ+g9PrVK9vJbliM7U7KP60AaIn0+3O1TGp/2Rn9RThf2bceYPxU1i4ooA2pLOzuEyqrz/ElZeoWElv8AMPnj/vDt9aZBLJC++Jip7jsa2bG5S7hOQNw4dTQBzp4pGq9q1p9nmyg/dv8Ad9vaqVAEmm/8hCH/AK6D+danij/kHp/11H8jWZpv/IQh/wCug/nWn4o/5B6/9dR/I0AYDU1qe3SmNQAw9aaae1NagBlNPSnN1ppoAbQelFFADW6UxqeelNbpQAxqa3WnNTWoAYetNp7daYetADT0ptOptADW6Uxqeaa3SgBjU1qc1NagBjdaKVqSgBtNbpTjTT0oAbRRRQAL1p60xetPWgBy0tItLQA5elOpq9KdQA6nL1ptOXrQA9actNWnLQA5actNWnLQA9elOpq9KdQA6nL1ptOXrQA9aWkWloAVactNWnLQA9elOpq9KdQA6nL1po609aAHLXSx/wDIFX/r3H/oNc0tdLH/AMgVf+vcf+g0Ac8tWdLi868RD0zk/QVXXpV/w7/x/H/cP9KAJNdnLXAhB+VOv1qkKddktdSE/wB8/wA6bQA4CiilJoAawqSymMF0smeM4b6VG1NagDd1OITWTrjJA3L9RXOnrXT253W6HPVR/Kuak4kIHrQA/Tv+QhD/AL4rU8Tf8eCf9dR/I1maf/yEIf8AfH860/E3/Hgn/XUfyNAGAaa3SnGmnpQAxqa1OamtQA1qY3WntTG60ANooooAbTW6U401ulADGprU5qa1ADWpjdae1MbrQA2m06m0ANprdKdTW6UAMamtTmprUANakpWpKAG02nU2gBtFFFAAvWnrTKcvWgB60tItLQA5elOpi9KeOlADqcvWm04daAHrTlpq9aVetAD1py01actAD16U6mLTx0oAdTl602nCgB60tNXrTqAFWnLTV605aAHr0pwpi09elADqcOtNHSnUAPWulj/5Aq/9e4/9BrmRXTR/8gVf+vcf+g0Ac8tXdEkEeoLno2VqiKepKsGBwQcg0AWdSj8u+kX1bI/HmolNX7oC+s1uY/8AWRjDrWeDQA8GjNNzRmgBSaaaM0sal2wOB1J9BQBILi4S38tZWCt29qrU+ZgW+Xp0A9qYaAJdO/5CEP8AvitTxN/x4J/11H8jWVpv/IQh/wCug/nWp4o/5B6f9dR/I0AYJprdKVqa1ADWprU5qa3WgBrUw9acetNoAbRRRQA2mt0px6UxqAGtTWpzU1qAGtTG605utNNADabTqbQA2mt0px6U1ulADGprU5qa1ADWpKG60UANptONNbpQA2iiigApw602nUAPXrS00dadQAq09elMWnLQA8dKdTV6U4dKAHDrThTadQA5etPWmU4daAHrTlpq9actAD16U4UxactAD6dTV6U4UAFOHWm04UAPWnLTBTqAHrTlplOFAD1rp4/+QGv/AF7j/wBBrlxXURc6IuP+fcf+g0Ac4tOBo8qX/nm//fJpfLl/55v/AN8mgCWzuJLaXfGfqD0NXGjtr354HEMp6o3Q/SqAjk/55t/3zR5cn/PNv++aAJ5rW5iOGhb6gZH6UwRyngRsf+AmnRyXkYwjTADtzStPfN1eb9aAD7M6jdOwiX/a+9+VMmlXb5cQ2p3z1b60xklJyUc/gaTy5P8Anm3/AHzQA2mk08xy/wDPNv8AvmkMcv8Azzf/AL5NAEmm/wDIRh/66D+danij/kHp/wBdR/I1mabHINQhJjYfOO1afir/AJB6f9dR/I0Ac+aaacaa1ADTTaVqa1ACGmnpStTWoAShulFI1ADWprU5qYetACNTG60402gBpptOPSmt0oAaelNPSlamt0oARulManNTWoAa1NbrTm60w9aAGnrRRQelADT0prdKc3SmNQAlFFFAAKcOlMXpTloAfTqavSnDpQAL1p60ynCgB605aYOtPWgB69KcOlMWnLQA8dKcKYtOWgB9OFMWnigBw609aYKcKAHrTlplOoAdSrSUUAPWnLTKcKAHrTlNMFOBoAeproLPVLOOzijaRtyxqD8p6gVzwNKDQB0v9rWP/PVv++DS/wBrWX/PRv8Avk1zQNOzQB0f9q2X/PRv++TR/atl/wA9G/75Nc7mlzQB0X9qWf8Az0b/AL5NH9qWf/PRv++TXO5NGTQB0X9qWf8Az0b/AL5NJ/atl/z0b/vk1z1GaAOh/tWy/wCejf8AfJpP7Wsf+ejf98mudzQTQB0X9rWP/PRv++DVHXr+2ubNY4XJYSAnKkcYP+NZOaaTQAE000pNNY0AIaaaVjTWoAQ02lakoAKaac1MagBKaaVqa1ACHpTGpzU1qAGtTWpW6000AI1Nalpp60AI3WmHrTqaaAG00049Ka3SgBtI3SlpGoAa1NanN1ph60AFFNbrRQAq05aYOtOoAetOWmDrT1oAWnDpTaVaAHinCmLTloAeKcvWminCgB1OHWm04UAOWnrTBThQA9actMFOoAetOWmU6gB60tNp1ACqaUGm0qmgB4NOpgNKDQBIDSg0ynA0APBpc0zNLmgB+aXNMzRmgB+aM03IozQA7NJmkyKTNAC5ozTc0ZoACaQmkzSE0ABNITQTTaAAmmmgmmk0AFFFIxoAQ000rU1qAENNNK1NagBDTTStTWoAQ009KVqa1ACU09KVqa1ACN0pjU5qY1ACNTWpTTaACmnrTqaaAGmm049KaaAG0UUUAAp1MWnLQA8U4UxactAD6KRaWgBw605aaKcKAHrTlpgpwoAetOWmU6gB605aYKcKAHrTlpgpwNAD1py0wU4GgB4NKDTAacpoAfRSA0tACg04GmUoNAD807NRg07NAD80uaZmlzQA7Jpc0zNLmgB2aM03NGaAHZozTc0ZNAC5pM0maTNAC5pCaTNJmgBSaaTRmmk0AKTSUUUABppNFNJoAKbQTSMaAEptKxprGgBDTTStTWoASm0rU1qAENNpWprUAIaaaVqa1ACHpTaVqSgBGprUrdaaaAEamtS009aAEJopKKAAU4U1acKAHU4U0U5aAHCnU0U4UAKtOWmU4UAPWnLTBThQA9actMFOFADhThTRSrQA8U4GmKacpoAeDTgaYppQaAJAacDUYNOoAeDTgaYDSg0APopoNOzQAZp2abRQA7NLmmZpc0APoyabmjJoAfmjNMyaMmgB+TSZNNyaM0AOzSZpM0maAFzSZpKKACiikJoAXNNoJppNAATSE0E00mgAY0hNBNNoACaaTRTSaAA000GmmgApppWprUAIabStTWoAQ02lamtQAlFFI1ACGmt0pWprUAIaaaVqa1ACUUhNFACLT1pgpwoAetKKaKdQA4U9aYKcKAHUq0gooAetOU0wU4GgBwNOFMU05TQA8U6mKacpoAeKcDUdOoAeDTlNMBpQaAJAaUGmA0oNAEgNKDTKXNAD807NR5p2aAH5paZmlzQA6im5NLmgBaKMiigAzRmiigAooooAKKMikzQAtGabmkzQAuaTNJmkzQAtNJopCaAAmkJoJptABTSaCaQmgAJprGgmkJoARjSGimmgANNNBNNNAAaaaCaRjQAhptK1JQAU00rU1qAENNpWprUAJTaVqa1ACUUmaKABactMFOFAD1py0wU4UAOFOFNFKtADwadTFpymgBacKbSqaAH04VGDTgaAJAacDUYNOoAeppQaaDSg0APpwNRg04GgB4NKDTQaUGgB9KDTM07NADs07NR5p2aAH5pc1HmlzQA/NLmmZpc0APzRmmZpcigB2aM+9NyKMigB2aMim5FJmgB2aM03NJk0AOpM0maTNAC5pM0maTNAC0hNJSE0AKTTaCaaTQApNNJoJpCaAAmm0UhNACE0jGhjTSaABjTWNKTTSaAEY0hNBNNoAKDRTSaAA000GmmgAptK1NagBKaaVqa1ACUUmaKAEFOFMWnLQA8U4UxactADxTqYppymgB4pwqMGnA0ASA0U0U6gBVNOU0ynA0APBpQaYDTgaAHg04GowadQA8GlpoNKDQA8GlBplLmgB+admo807NADs07NR5pc0APzS5pmaXNAD80ZNNzRmgB+aM03JozQA7NGabmjNADs0ZpuaM0AOzSZpuTRmgB2aTNNzRmgBc0maTNJmgBc0maTNJmgBc03NGabmgBSaSjNNzQAE0hNBNNJoACaQmgmm0ABNNJoJpGNACE0UUhNAAxprGlJppNACMaQ0U0mgANNNBppoADTTQaaaACikJooASnCmKacpoAfTqYppQaAJBTgajBpwNAEgNKpplOoAeDSg0xTTgaAH0U0GnUAOBpQaZTgaAHA06mA0oNAEgNKDTAaXNAD807NR5p2aAHUuabmlzQA7NLmmUuaAH0uaZmjJoAkzRTM0uRQA7JpcmmZoyaAH5ozTMmjJoAfmkyabk0ZNADs0ZpuaMigBc0mTSZpM0AOzSZpM0maAFpM0lJmgBaTNJmkzQAuaaTRmm5oAUmkJpCaQmgAJppNBNITQAE0lFBNAATTSaKaTQAE02gmkY0ADGmsaUmmk0AIxprUpNNNACMaRqKaaACim0UAANOBqMGnCgCQGlU0wU4GgB6mnKaYDTgaAHA04GmA05TQA+lBpgNOoAeDSg0wGnA0APopoNOoAUGlBptANAEmaUGmUoNAD807NR5p2aAH5pc1HmnZoAdmlzTM0uaAH0ZNNzRk0APzRmm5pcigB2aM03NFADs0ZptFADs0ZptFADsikzSZpM0AOzSUmaTJoAdSZpM0maAFzSZpKTNAC5pM0lJmgBc00mjNITQAE0hNBNNoACaKKQmgBSabQTTSaAAmkJoJpCaAAmmk0U2gAppNBNITQAhNNJpWNNY0ADGmsaGNITQAmaKSigBFNOU0wGlBoAeDTgaYppwNAD6cKjBpwNAEgNKpplOBoAeDSg0wGnA0APpQaYDTqAHA06mA0oNAEgNFNBpc0ALS5pKKAHZp2ajzTs0AOzS5pmaXNAD80uaZS5oAfmjJpuaM0APzRmm5NGaAH5FGaZmlyKAHZozTcijIoAdmjNNyKM0AOyKTNNzRmgB2TSU3JozQA7NJmm5pM0AOzSZpM0maAFzSZpKTNAC5pM0lFABRRmmk0AKTSE0hNITQAE00mikJoAUmm0E02gAJppNBNITQAE01jQTSE0ABNNJoppNABTaCaaTQAUUmaKAEpwpimlFAEgNKDTKcDQA9TTgaYDSg0APBp1MBpQaAJAaUGmA0oNADwacDTAaXNAEgNGabmlBoAeDSg0ylBoAfmlzTM0uaAH0U3NLmgBaXNJRQA7NLmmUZNAD80uaZmlyKAHZNLk0zNGTQA/NGabmjNADs0ZpuaM0AOzRmm5ozQA7NGTTcmkyaAHUZpuaM0ALmkzSZpKAHZpM0lFABRRSZoAWkzSZpM0ALmm5ozTc0AKTSUZppNACk0hNITSE0AFNJoJpCaAAmmk0E0hNAATTaKaTQAE0hNDGmk0ADGmsaUmm0AFFNzRQAA0qmmU4GgBwNOpgNKDQBIDTgajpwNADwaUGmA04GgB+acDUYNOBoAeDS5pgNKDQBIDSg0zNLmgB+aXNMzS5oAfS5pmadmgB1LmmUuaAH5pc0zNLmgB+aKZmlzQA6ikyaM0ALRRkUZoAMmlyaSigBc0ZpKKAFzSZNFFABk0UUZoAKKTNGaAFopuTRmgBc0mTSZpM0AOzSZpM0maAFzSZpKTNAC0maSkzQAuabmjNNzQApNITSZpM0ABNITSE0hNACk02gmmk0ABNITQTTSaAAmkJoJptABTSaUmmsaADNFJRQAUUimloAcDSg0ynA0AOBp2aYDS0ASA0oNMBpQaAH5pwNRg06gB4NLmmA0oNAEmaXNMzS5oAfmlzTM0uaAH5p2ajzS5oAfmlzTM0uaAH0ZNNzS5oAdmlzTM0tADsmlzTKXJoAdmlyKZmjNAD80ZpuRRkUAOzRmm5ozQA7NGabmjIoAdmjIpuRSZoAdmjJpuaTJoAdmjNNozQAuaSkzSZNADs0maTNJmgBaTNJSZoAWkzSZpM0ALmm5ozTc0AKTSUZpuaAFJppNBNITQAU0mimk0AKTSE0hNJQAUhNITSE0ABNJRRQAUU2igAWlWiigBaKKKAHUq0UUALTqKKAFWloooAdSrRRQAtOFFFABTqKKACnUUUAFOFFFABRk0UUAOooooAM0uaKKAFooooAKKKKACiiigAooooAKKKKAA03JoooAKKKKAEJpKKKACkJoooASkaiigBKRqKKAEpGNFFACU2iigBGpKKKAG0jUUUAJTTRRQAjUlFFABTaKKAEJooooA//2Q==";return{restrict:"A",link:function(scope,element,attr){element[0].src=attr.loadingSrc?attr.loadingSrc:loadingDefault;var img=angular.element("<img />");img.src=scope.ngSrc,img.on("load",function(){element[0].src=img.src})}}})}),define("app/modules/home/controllers/main",["require"],function(){"use strict";var controller=["$scope","$sce","feedFactory",function(){}];return controller}),define("text!app/common/directives/feed/templates/feedList.html",[],function(){return'<div class="feed-list">\n  <div class="horizontal-line"></div>\n  <div class="horizontal-line-gallery"></div>\n\n  <div class="row" infinite-scroll="loadFeeds(\'main\')" infinite-scroll-distance="2"\n       infinite-scroll-disabled=\'onLoading\' class="feed-list">\n      <div class="feed" feed="f" ng-repeat="f in feeds"></div>\n  </div>\n  <div ng-hide="feeds.length">No feeds</div>\n</div>\n\n'}),function(undefined){function dfl(a,b,c){switch(arguments.length){case 2:return null!=a?a:b;case 3:return null!=a?a:null!=b?b:c;default:throw new Error("Implement me")}}function hasOwnProp(a,b){return hasOwnProperty.call(a,b)}function defaultParsingFlags(){return{empty:!1,unusedTokens:[],unusedInput:[],overflow:-2,charsLeftOver:0,nullInput:!1,invalidMonth:null,invalidFormat:!1,userInvalidated:!1,iso:!1}}function printMsg(msg){moment.suppressDeprecationWarnings===!1&&"undefined"!=typeof console&&console.warn&&console.warn("Deprecation warning: "+msg)}function deprecate(msg,fn){var firstTime=!0;return extend(function(){return firstTime&&(printMsg(msg),firstTime=!1),fn.apply(this,arguments)},fn)}function deprecateSimple(name,msg){deprecations[name]||(printMsg(msg),deprecations[name]=!0)}function padToken(func,count){return function(a){return leftZeroFill(func.call(this,a),count)}}function ordinalizeToken(func,period){return function(a){return this.localeData().ordinal(func.call(this,a),period)}}function monthDiff(a,b){var anchor2,adjust,wholeMonthDiff=12*(b.year()-a.year())+(b.month()-a.month()),anchor=a.clone().add(wholeMonthDiff,"months");return 0>b-anchor?(anchor2=a.clone().add(wholeMonthDiff-1,"months"),adjust=(b-anchor)/(anchor-anchor2)):(anchor2=a.clone().add(wholeMonthDiff+1,"months"),adjust=(b-anchor)/(anchor2-anchor)),-(wholeMonthDiff+adjust)}function meridiemFixWrap(locale,hour,meridiem){var isPm;return null==meridiem?hour:null!=locale.meridiemHour?locale.meridiemHour(hour,meridiem):null!=locale.isPM?(isPm=locale.isPM(meridiem),isPm&&12>hour&&(hour+=12),isPm||12!==hour||(hour=0),hour):hour}function Locale(){}function Moment(config,skipOverflow){skipOverflow!==!1&&checkOverflow(config),copyConfig(this,config),this._d=new Date(+config._d),updateInProgress===!1&&(updateInProgress=!0,moment.updateOffset(this),updateInProgress=!1)}function Duration(duration){var normalizedInput=normalizeObjectUnits(duration),years=normalizedInput.year||0,quarters=normalizedInput.quarter||0,months=normalizedInput.month||0,weeks=normalizedInput.week||0,days=normalizedInput.day||0,hours=normalizedInput.hour||0,minutes=normalizedInput.minute||0,seconds=normalizedInput.second||0,milliseconds=normalizedInput.millisecond||0;this._milliseconds=+milliseconds+1e3*seconds+6e4*minutes+36e5*hours,this._days=+days+7*weeks,this._months=+months+3*quarters+12*years,this._data={},this._locale=moment.localeData(),this._bubble()}function extend(a,b){for(var i in b)hasOwnProp(b,i)&&(a[i]=b[i]);return hasOwnProp(b,"toString")&&(a.toString=b.toString),hasOwnProp(b,"valueOf")&&(a.valueOf=b.valueOf),a}function copyConfig(to,from){var i,prop,val;if("undefined"!=typeof from._isAMomentObject&&(to._isAMomentObject=from._isAMomentObject),"undefined"!=typeof from._i&&(to._i=from._i),"undefined"!=typeof from._f&&(to._f=from._f),"undefined"!=typeof from._l&&(to._l=from._l),"undefined"!=typeof from._strict&&(to._strict=from._strict),"undefined"!=typeof from._tzm&&(to._tzm=from._tzm),"undefined"!=typeof from._isUTC&&(to._isUTC=from._isUTC),"undefined"!=typeof from._offset&&(to._offset=from._offset),"undefined"!=typeof from._pf&&(to._pf=from._pf),"undefined"!=typeof from._locale&&(to._locale=from._locale),momentProperties.length>0)for(i in momentProperties)prop=momentProperties[i],val=from[prop],"undefined"!=typeof val&&(to[prop]=val);return to}function absRound(number){return 0>number?Math.ceil(number):Math.floor(number)}function leftZeroFill(number,targetLength,forceSign){for(var output=""+Math.abs(number),sign=number>=0;output.length<targetLength;)output="0"+output;return(sign?forceSign?"+":"":"-")+output}function positiveMomentsDifference(base,other){var res={milliseconds:0,months:0};return res.months=other.month()-base.month()+12*(other.year()-base.year()),base.clone().add(res.months,"M").isAfter(other)&&--res.months,res.milliseconds=+other-+base.clone().add(res.months,"M"),res}function momentsDifference(base,other){var res;return other=makeAs(other,base),base.isBefore(other)?res=positiveMomentsDifference(base,other):(res=positiveMomentsDifference(other,base),res.milliseconds=-res.milliseconds,res.months=-res.months),res}function createAdder(direction,name){return function(val,period){var dur,tmp;return null===period||isNaN(+period)||(deprecateSimple(name,"moment()."+name+"(period, number) is deprecated. Please use moment()."+name+"(number, period)."),tmp=val,val=period,period=tmp),val="string"==typeof val?+val:val,dur=moment.duration(val,period),addOrSubtractDurationFromMoment(this,dur,direction),this}}function addOrSubtractDurationFromMoment(mom,duration,isAdding,updateOffset){var milliseconds=duration._milliseconds,days=duration._days,months=duration._months;updateOffset=null==updateOffset?!0:updateOffset,milliseconds&&mom._d.setTime(+mom._d+milliseconds*isAdding),days&&rawSetter(mom,"Date",rawGetter(mom,"Date")+days*isAdding),months&&rawMonthSetter(mom,rawGetter(mom,"Month")+months*isAdding),updateOffset&&moment.updateOffset(mom,days||months)}function isArray(input){return"[object Array]"===Object.prototype.toString.call(input)}function isDate(input){return"[object Date]"===Object.prototype.toString.call(input)||input instanceof Date}function compareArrays(array1,array2,dontConvert){var i,len=Math.min(array1.length,array2.length),lengthDiff=Math.abs(array1.length-array2.length),diffs=0;for(i=0;len>i;i++)(dontConvert&&array1[i]!==array2[i]||!dontConvert&&toInt(array1[i])!==toInt(array2[i]))&&diffs++;return diffs+lengthDiff}function normalizeUnits(units){if(units){var lowered=units.toLowerCase().replace(/(.)s$/,"$1");units=unitAliases[units]||camelFunctions[lowered]||lowered}return units}function normalizeObjectUnits(inputObject){var normalizedProp,prop,normalizedInput={};for(prop in inputObject)hasOwnProp(inputObject,prop)&&(normalizedProp=normalizeUnits(prop),normalizedProp&&(normalizedInput[normalizedProp]=inputObject[prop]));return normalizedInput}function makeList(field){var count,setter;if(0===field.indexOf("week"))count=7,setter="day";else{if(0!==field.indexOf("month"))return;count=12,setter="month"}moment[field]=function(format,index){var i,getter,method=moment._locale[field],results=[];if("number"==typeof format&&(index=format,format=undefined),getter=function(i){var m=moment().utc().set(setter,i);return method.call(moment._locale,m,format||"")},null!=index)return getter(index);for(i=0;count>i;i++)results.push(getter(i));return results}}function toInt(argumentForCoercion){var coercedNumber=+argumentForCoercion,value=0;return 0!==coercedNumber&&isFinite(coercedNumber)&&(value=coercedNumber>=0?Math.floor(coercedNumber):Math.ceil(coercedNumber)),value}function daysInMonth(year,month){return new Date(Date.UTC(year,month+1,0)).getUTCDate()}function weeksInYear(year,dow,doy){return weekOfYear(moment([year,11,31+dow-doy]),dow,doy).week}function daysInYear(year){return isLeapYear(year)?366:365}function isLeapYear(year){return year%4===0&&year%100!==0||year%400===0}function checkOverflow(m){var overflow;m._a&&-2===m._pf.overflow&&(overflow=m._a[MONTH]<0||m._a[MONTH]>11?MONTH:m._a[DATE]<1||m._a[DATE]>daysInMonth(m._a[YEAR],m._a[MONTH])?DATE:m._a[HOUR]<0||m._a[HOUR]>24||24===m._a[HOUR]&&(0!==m._a[MINUTE]||0!==m._a[SECOND]||0!==m._a[MILLISECOND])?HOUR:m._a[MINUTE]<0||m._a[MINUTE]>59?MINUTE:m._a[SECOND]<0||m._a[SECOND]>59?SECOND:m._a[MILLISECOND]<0||m._a[MILLISECOND]>999?MILLISECOND:-1,m._pf._overflowDayOfYear&&(YEAR>overflow||overflow>DATE)&&(overflow=DATE),m._pf.overflow=overflow)}function isValid(m){return null==m._isValid&&(m._isValid=!isNaN(m._d.getTime())&&m._pf.overflow<0&&!m._pf.empty&&!m._pf.invalidMonth&&!m._pf.nullInput&&!m._pf.invalidFormat&&!m._pf.userInvalidated,m._strict&&(m._isValid=m._isValid&&0===m._pf.charsLeftOver&&0===m._pf.unusedTokens.length&&m._pf.bigHour===undefined)),m._isValid}function normalizeLocale(key){return key?key.toLowerCase().replace("_","-"):key}function chooseLocale(names){for(var j,next,locale,split,i=0;i<names.length;){for(split=normalizeLocale(names[i]).split("-"),j=split.length,next=normalizeLocale(names[i+1]),next=next?next.split("-"):null;j>0;){if(locale=loadLocale(split.slice(0,j).join("-")))return locale;if(next&&next.length>=j&&compareArrays(split,next,!0)>=j-1)break;j--}i++}return null}function loadLocale(name){var oldLocale=null;if(!locales[name]&&hasModule)try{oldLocale=moment.locale(),require("./locale/"+name),moment.locale(oldLocale)}catch(e){}return locales[name]}function makeAs(input,model){var res,diff;return model._isUTC?(res=model.clone(),diff=(moment.isMoment(input)||isDate(input)?+input:+moment(input))-+res,res._d.setTime(+res._d+diff),moment.updateOffset(res,!1),res):moment(input).local()}function removeFormattingTokens(input){return input.match(/\[[\s\S]/)?input.replace(/^\[|\]$/g,""):input.replace(/\\/g,"")}function makeFormatFunction(format){var i,length,array=format.match(formattingTokens);for(i=0,length=array.length;length>i;i++)array[i]=formatTokenFunctions[array[i]]?formatTokenFunctions[array[i]]:removeFormattingTokens(array[i]);return function(mom){var output="";for(i=0;length>i;i++)output+=array[i]instanceof Function?array[i].call(mom,format):array[i];return output}}function formatMoment(m,format){return m.isValid()?(format=expandFormat(format,m.localeData()),formatFunctions[format]||(formatFunctions[format]=makeFormatFunction(format)),formatFunctions[format](m)):m.localeData().invalidDate()}function expandFormat(format,locale){function replaceLongDateFormatTokens(input){return locale.longDateFormat(input)||input}var i=5;for(localFormattingTokens.lastIndex=0;i>=0&&localFormattingTokens.test(format);)format=format.replace(localFormattingTokens,replaceLongDateFormatTokens),localFormattingTokens.lastIndex=0,i-=1;return format}function getParseRegexForToken(token,config){var a,strict=config._strict;switch(token){case"Q":return parseTokenOneDigit;case"DDDD":return parseTokenThreeDigits;case"YYYY":case"GGGG":case"gggg":return strict?parseTokenFourDigits:parseTokenOneToFourDigits;case"Y":case"G":case"g":return parseTokenSignedNumber;case"YYYYYY":case"YYYYY":case"GGGGG":case"ggggg":return strict?parseTokenSixDigits:parseTokenOneToSixDigits;case"S":if(strict)return parseTokenOneDigit;case"SS":if(strict)return parseTokenTwoDigits;case"SSS":if(strict)return parseTokenThreeDigits;case"DDD":return parseTokenOneToThreeDigits;case"MMM":case"MMMM":case"dd":case"ddd":case"dddd":return parseTokenWord;case"a":case"A":return config._locale._meridiemParse;case"x":return parseTokenOffsetMs;case"X":return parseTokenTimestampMs;case"Z":case"ZZ":return parseTokenTimezone;case"T":return parseTokenT;case"SSSS":return parseTokenDigits;case"MM":case"DD":case"YY":case"GG":case"gg":case"HH":case"hh":case"mm":case"ss":case"ww":case"WW":return strict?parseTokenTwoDigits:parseTokenOneOrTwoDigits;case"M":case"D":case"d":case"H":case"h":case"m":case"s":case"w":case"W":case"e":case"E":return parseTokenOneOrTwoDigits;case"Do":return strict?config._locale._ordinalParse:config._locale._ordinalParseLenient;default:return a=new RegExp(regexpEscape(unescapeFormat(token.replace("\\","")),"i"))}}function utcOffsetFromString(string){string=string||"";var possibleTzMatches=string.match(parseTokenTimezone)||[],tzChunk=possibleTzMatches[possibleTzMatches.length-1]||[],parts=(tzChunk+"").match(parseTimezoneChunker)||["-",0,0],minutes=+(60*parts[1])+toInt(parts[2]);return"+"===parts[0]?minutes:-minutes}function addTimeToArrayFromToken(token,input,config){var a,datePartArray=config._a;switch(token){case"Q":null!=input&&(datePartArray[MONTH]=3*(toInt(input)-1));break;case"M":case"MM":null!=input&&(datePartArray[MONTH]=toInt(input)-1);break;case"MMM":case"MMMM":a=config._locale.monthsParse(input,token,config._strict),null!=a?datePartArray[MONTH]=a:config._pf.invalidMonth=input;break;case"D":case"DD":null!=input&&(datePartArray[DATE]=toInt(input));break;case"Do":null!=input&&(datePartArray[DATE]=toInt(parseInt(input.match(/\d{1,2}/)[0],10)));break;case"DDD":case"DDDD":null!=input&&(config._dayOfYear=toInt(input));break;case"YY":datePartArray[YEAR]=moment.parseTwoDigitYear(input);break;case"YYYY":case"YYYYY":case"YYYYYY":datePartArray[YEAR]=toInt(input);break;case"a":case"A":config._meridiem=input;break;case"h":case"hh":config._pf.bigHour=!0;case"H":case"HH":datePartArray[HOUR]=toInt(input);break;case"m":case"mm":datePartArray[MINUTE]=toInt(input);break;case"s":case"ss":datePartArray[SECOND]=toInt(input);break;case"S":case"SS":case"SSS":case"SSSS":datePartArray[MILLISECOND]=toInt(1e3*("0."+input));break;case"x":config._d=new Date(toInt(input));break;case"X":config._d=new Date(1e3*parseFloat(input));break;case"Z":case"ZZ":config._useUTC=!0,config._tzm=utcOffsetFromString(input);break;case"dd":case"ddd":case"dddd":a=config._locale.weekdaysParse(input),null!=a?(config._w=config._w||{},config._w.d=a):config._pf.invalidWeekday=input;break;case"w":case"ww":case"W":case"WW":case"d":case"e":case"E":token=token.substr(0,1);case"gggg":case"GGGG":case"GGGGG":token=token.substr(0,2),input&&(config._w=config._w||{},config._w[token]=toInt(input));break;case"gg":case"GG":config._w=config._w||{},config._w[token]=moment.parseTwoDigitYear(input)}}function dayOfYearFromWeekInfo(config){var w,weekYear,week,weekday,dow,doy,temp;w=config._w,null!=w.GG||null!=w.W||null!=w.E?(dow=1,doy=4,weekYear=dfl(w.GG,config._a[YEAR],weekOfYear(moment(),1,4).year),week=dfl(w.W,1),weekday=dfl(w.E,1)):(dow=config._locale._week.dow,doy=config._locale._week.doy,weekYear=dfl(w.gg,config._a[YEAR],weekOfYear(moment(),dow,doy).year),week=dfl(w.w,1),null!=w.d?(weekday=w.d,dow>weekday&&++week):weekday=null!=w.e?w.e+dow:dow),temp=dayOfYearFromWeeks(weekYear,week,weekday,doy,dow),config._a[YEAR]=temp.year,config._dayOfYear=temp.dayOfYear}function dateFromConfig(config){var i,date,currentDate,yearToUse,input=[];if(!config._d){for(currentDate=currentDateArray(config),config._w&&null==config._a[DATE]&&null==config._a[MONTH]&&dayOfYearFromWeekInfo(config),config._dayOfYear&&(yearToUse=dfl(config._a[YEAR],currentDate[YEAR]),config._dayOfYear>daysInYear(yearToUse)&&(config._pf._overflowDayOfYear=!0),date=makeUTCDate(yearToUse,0,config._dayOfYear),config._a[MONTH]=date.getUTCMonth(),config._a[DATE]=date.getUTCDate()),i=0;3>i&&null==config._a[i];++i)config._a[i]=input[i]=currentDate[i];for(;7>i;i++)config._a[i]=input[i]=null==config._a[i]?2===i?1:0:config._a[i];24===config._a[HOUR]&&0===config._a[MINUTE]&&0===config._a[SECOND]&&0===config._a[MILLISECOND]&&(config._nextDay=!0,config._a[HOUR]=0),config._d=(config._useUTC?makeUTCDate:makeDate).apply(null,input),null!=config._tzm&&config._d.setUTCMinutes(config._d.getUTCMinutes()-config._tzm),config._nextDay&&(config._a[HOUR]=24)}}function dateFromObject(config){var normalizedInput;config._d||(normalizedInput=normalizeObjectUnits(config._i),config._a=[normalizedInput.year,normalizedInput.month,normalizedInput.day||normalizedInput.date,normalizedInput.hour,normalizedInput.minute,normalizedInput.second,normalizedInput.millisecond],dateFromConfig(config))}function currentDateArray(config){var now=new Date;return config._useUTC?[now.getUTCFullYear(),now.getUTCMonth(),now.getUTCDate()]:[now.getFullYear(),now.getMonth(),now.getDate()]}function makeDateFromStringAndFormat(config){if(config._f===moment.ISO_8601)return void parseISO(config);config._a=[],config._pf.empty=!0;var i,parsedInput,tokens,token,skipped,string=""+config._i,stringLength=string.length,totalParsedInputLength=0;for(tokens=expandFormat(config._f,config._locale).match(formattingTokens)||[],i=0;i<tokens.length;i++)token=tokens[i],parsedInput=(string.match(getParseRegexForToken(token,config))||[])[0],parsedInput&&(skipped=string.substr(0,string.indexOf(parsedInput)),skipped.length>0&&config._pf.unusedInput.push(skipped),string=string.slice(string.indexOf(parsedInput)+parsedInput.length),totalParsedInputLength+=parsedInput.length),formatTokenFunctions[token]?(parsedInput?config._pf.empty=!1:config._pf.unusedTokens.push(token),addTimeToArrayFromToken(token,parsedInput,config)):config._strict&&!parsedInput&&config._pf.unusedTokens.push(token);config._pf.charsLeftOver=stringLength-totalParsedInputLength,string.length>0&&config._pf.unusedInput.push(string),config._pf.bigHour===!0&&config._a[HOUR]<=12&&(config._pf.bigHour=undefined),config._a[HOUR]=meridiemFixWrap(config._locale,config._a[HOUR],config._meridiem),dateFromConfig(config),checkOverflow(config)}function unescapeFormat(s){return s.replace(/\\(\[)|\\(\])|\[([^\]\[]*)\]|\\(.)/g,function(matched,p1,p2,p3,p4){return p1||p2||p3||p4})}function regexpEscape(s){return s.replace(/[-\/\\^$*+?.()|[\]{}]/g,"\\$&")}function makeDateFromStringAndArray(config){var tempConfig,bestMoment,scoreToBeat,i,currentScore;if(0===config._f.length)return config._pf.invalidFormat=!0,void(config._d=new Date(0/0));for(i=0;i<config._f.length;i++)currentScore=0,tempConfig=copyConfig({},config),null!=config._useUTC&&(tempConfig._useUTC=config._useUTC),tempConfig._pf=defaultParsingFlags(),tempConfig._f=config._f[i],makeDateFromStringAndFormat(tempConfig),isValid(tempConfig)&&(currentScore+=tempConfig._pf.charsLeftOver,currentScore+=10*tempConfig._pf.unusedTokens.length,tempConfig._pf.score=currentScore,(null==scoreToBeat||scoreToBeat>currentScore)&&(scoreToBeat=currentScore,bestMoment=tempConfig));extend(config,bestMoment||tempConfig)}function parseISO(config){var i,l,string=config._i,match=isoRegex.exec(string);if(match){for(config._pf.iso=!0,i=0,l=isoDates.length;l>i;i++)if(isoDates[i][1].exec(string)){config._f=isoDates[i][0]+(match[6]||" ");break}for(i=0,l=isoTimes.length;l>i;i++)if(isoTimes[i][1].exec(string)){config._f+=isoTimes[i][0];break}string.match(parseTokenTimezone)&&(config._f+="Z"),makeDateFromStringAndFormat(config)}else config._isValid=!1}function makeDateFromString(config){parseISO(config),config._isValid===!1&&(delete config._isValid,moment.createFromInputFallback(config))}function map(arr,fn){var i,res=[];for(i=0;i<arr.length;++i)res.push(fn(arr[i],i));return res}function makeDateFromInput(config){var matched,input=config._i;input===undefined?config._d=new Date:isDate(input)?config._d=new Date(+input):null!==(matched=aspNetJsonRegex.exec(input))?config._d=new Date(+matched[1]):"string"==typeof input?makeDateFromString(config):isArray(input)?(config._a=map(input.slice(0),function(obj){return parseInt(obj,10)}),dateFromConfig(config)):"object"==typeof input?dateFromObject(config):"number"==typeof input?config._d=new Date(input):moment.createFromInputFallback(config)}function makeDate(y,m,d,h,M,s,ms){var date=new Date(y,m,d,h,M,s,ms);return 1970>y&&date.setFullYear(y),date}function makeUTCDate(y){var date=new Date(Date.UTC.apply(null,arguments));return 1970>y&&date.setUTCFullYear(y),date}function parseWeekday(input,locale){if("string"==typeof input)if(isNaN(input)){if(input=locale.weekdaysParse(input),"number"!=typeof input)return null}else input=parseInt(input,10);return input}function substituteTimeAgo(string,number,withoutSuffix,isFuture,locale){return locale.relativeTime(number||1,!!withoutSuffix,string,isFuture)
}function relativeTime(posNegDuration,withoutSuffix,locale){var duration=moment.duration(posNegDuration).abs(),seconds=round(duration.as("s")),minutes=round(duration.as("m")),hours=round(duration.as("h")),days=round(duration.as("d")),months=round(duration.as("M")),years=round(duration.as("y")),args=seconds<relativeTimeThresholds.s&&["s",seconds]||1===minutes&&["m"]||minutes<relativeTimeThresholds.m&&["mm",minutes]||1===hours&&["h"]||hours<relativeTimeThresholds.h&&["hh",hours]||1===days&&["d"]||days<relativeTimeThresholds.d&&["dd",days]||1===months&&["M"]||months<relativeTimeThresholds.M&&["MM",months]||1===years&&["y"]||["yy",years];return args[2]=withoutSuffix,args[3]=+posNegDuration>0,args[4]=locale,substituteTimeAgo.apply({},args)}function weekOfYear(mom,firstDayOfWeek,firstDayOfWeekOfYear){var adjustedMoment,end=firstDayOfWeekOfYear-firstDayOfWeek,daysToDayOfWeek=firstDayOfWeekOfYear-mom.day();return daysToDayOfWeek>end&&(daysToDayOfWeek-=7),end-7>daysToDayOfWeek&&(daysToDayOfWeek+=7),adjustedMoment=moment(mom).add(daysToDayOfWeek,"d"),{week:Math.ceil(adjustedMoment.dayOfYear()/7),year:adjustedMoment.year()}}function dayOfYearFromWeeks(year,week,weekday,firstDayOfWeekOfYear,firstDayOfWeek){var daysToAdd,dayOfYear,d=makeUTCDate(year,0,1).getUTCDay();return d=0===d?7:d,weekday=null!=weekday?weekday:firstDayOfWeek,daysToAdd=firstDayOfWeek-d+(d>firstDayOfWeekOfYear?7:0)-(firstDayOfWeek>d?7:0),dayOfYear=7*(week-1)+(weekday-firstDayOfWeek)+daysToAdd+1,{year:dayOfYear>0?year:year-1,dayOfYear:dayOfYear>0?dayOfYear:daysInYear(year-1)+dayOfYear}}function makeMoment(config){var res,input=config._i,format=config._f;return config._locale=config._locale||moment.localeData(config._l),null===input||format===undefined&&""===input?moment.invalid({nullInput:!0}):("string"==typeof input&&(config._i=input=config._locale.preparse(input)),moment.isMoment(input)?new Moment(input,!0):(format?isArray(format)?makeDateFromStringAndArray(config):makeDateFromStringAndFormat(config):makeDateFromInput(config),res=new Moment(config),res._nextDay&&(res.add(1,"d"),res._nextDay=undefined),res))}function pickBy(fn,moments){var res,i;if(1===moments.length&&isArray(moments[0])&&(moments=moments[0]),!moments.length)return moment();for(res=moments[0],i=1;i<moments.length;++i)moments[i][fn](res)&&(res=moments[i]);return res}function rawMonthSetter(mom,value){var dayOfMonth;return"string"==typeof value&&(value=mom.localeData().monthsParse(value),"number"!=typeof value)?mom:(dayOfMonth=Math.min(mom.date(),daysInMonth(mom.year(),value)),mom._d["set"+(mom._isUTC?"UTC":"")+"Month"](value,dayOfMonth),mom)}function rawGetter(mom,unit){return mom._d["get"+(mom._isUTC?"UTC":"")+unit]()}function rawSetter(mom,unit,value){return"Month"===unit?rawMonthSetter(mom,value):mom._d["set"+(mom._isUTC?"UTC":"")+unit](value)}function makeAccessor(unit,keepTime){return function(value){return null!=value?(rawSetter(this,unit,value),moment.updateOffset(this,keepTime),this):rawGetter(this,unit)}}function daysToYears(days){return 400*days/146097}function yearsToDays(years){return 146097*years/400}function makeDurationGetter(name){moment.duration.fn[name]=function(){return this._data[name]}}function makeGlobal(shouldDeprecate){"undefined"==typeof ender&&(oldGlobalMoment=globalScope.moment,globalScope.moment=shouldDeprecate?deprecate("Accessing Moment through the global scope is deprecated, and will be removed in an upcoming release.",moment):moment)}for(var moment,oldGlobalMoment,i,VERSION="2.9.0",globalScope="undefined"==typeof global||"undefined"!=typeof window&&window!==global.window?this:global,round=Math.round,hasOwnProperty=Object.prototype.hasOwnProperty,YEAR=0,MONTH=1,DATE=2,HOUR=3,MINUTE=4,SECOND=5,MILLISECOND=6,locales={},momentProperties=[],hasModule="undefined"!=typeof module&&module&&module.exports,aspNetJsonRegex=/^\/?Date\((\-?\d+)/i,aspNetTimeSpanJsonRegex=/(\-)?(?:(\d*)\.)?(\d+)\:(\d+)(?:\:(\d+)\.?(\d{3})?)?/,isoDurationRegex=/^(-)?P(?:(?:([0-9,.]*)Y)?(?:([0-9,.]*)M)?(?:([0-9,.]*)D)?(?:T(?:([0-9,.]*)H)?(?:([0-9,.]*)M)?(?:([0-9,.]*)S)?)?|([0-9,.]*)W)$/,formattingTokens=/(\[[^\[]*\])|(\\)?(Mo|MM?M?M?|Do|DDDo|DD?D?D?|ddd?d?|do?|w[o|w]?|W[o|W]?|Q|YYYYYY|YYYYY|YYYY|YY|gg(ggg?)?|GG(GGG?)?|e|E|a|A|hh?|HH?|mm?|ss?|S{1,4}|x|X|zz?|ZZ?|.)/g,localFormattingTokens=/(\[[^\[]*\])|(\\)?(LTS|LT|LL?L?L?|l{1,4})/g,parseTokenOneOrTwoDigits=/\d\d?/,parseTokenOneToThreeDigits=/\d{1,3}/,parseTokenOneToFourDigits=/\d{1,4}/,parseTokenOneToSixDigits=/[+\-]?\d{1,6}/,parseTokenDigits=/\d+/,parseTokenWord=/[0-9]*['a-z\u00A0-\u05FF\u0700-\uD7FF\uF900-\uFDCF\uFDF0-\uFFEF]+|[\u0600-\u06FF\/]+(\s*?[\u0600-\u06FF]+){1,2}/i,parseTokenTimezone=/Z|[\+\-]\d\d:?\d\d/gi,parseTokenT=/T/i,parseTokenOffsetMs=/[\+\-]?\d+/,parseTokenTimestampMs=/[\+\-]?\d+(\.\d{1,3})?/,parseTokenOneDigit=/\d/,parseTokenTwoDigits=/\d\d/,parseTokenThreeDigits=/\d{3}/,parseTokenFourDigits=/\d{4}/,parseTokenSixDigits=/[+-]?\d{6}/,parseTokenSignedNumber=/[+-]?\d+/,isoRegex=/^\s*(?:[+-]\d{6}|\d{4})-(?:(\d\d-\d\d)|(W\d\d$)|(W\d\d-\d)|(\d\d\d))((T| )(\d\d(:\d\d(:\d\d(\.\d+)?)?)?)?([\+\-]\d\d(?::?\d\d)?|\s*Z)?)?$/,isoFormat="YYYY-MM-DDTHH:mm:ssZ",isoDates=[["YYYYYY-MM-DD",/[+-]\d{6}-\d{2}-\d{2}/],["YYYY-MM-DD",/\d{4}-\d{2}-\d{2}/],["GGGG-[W]WW-E",/\d{4}-W\d{2}-\d/],["GGGG-[W]WW",/\d{4}-W\d{2}/],["YYYY-DDD",/\d{4}-\d{3}/]],isoTimes=[["HH:mm:ss.SSSS",/(T| )\d\d:\d\d:\d\d\.\d+/],["HH:mm:ss",/(T| )\d\d:\d\d:\d\d/],["HH:mm",/(T| )\d\d:\d\d/],["HH",/(T| )\d\d/]],parseTimezoneChunker=/([\+\-]|\d\d)/gi,unitMillisecondFactors=("Date|Hours|Minutes|Seconds|Milliseconds".split("|"),{Milliseconds:1,Seconds:1e3,Minutes:6e4,Hours:36e5,Days:864e5,Months:2592e6,Years:31536e6}),unitAliases={ms:"millisecond",s:"second",m:"minute",h:"hour",d:"day",D:"date",w:"week",W:"isoWeek",M:"month",Q:"quarter",y:"year",DDD:"dayOfYear",e:"weekday",E:"isoWeekday",gg:"weekYear",GG:"isoWeekYear"},camelFunctions={dayofyear:"dayOfYear",isoweekday:"isoWeekday",isoweek:"isoWeek",weekyear:"weekYear",isoweekyear:"isoWeekYear"},formatFunctions={},relativeTimeThresholds={s:45,m:45,h:22,d:26,M:11},ordinalizeTokens="DDD w W M D d".split(" "),paddedTokens="M D H h m s w W".split(" "),formatTokenFunctions={M:function(){return this.month()+1},MMM:function(format){return this.localeData().monthsShort(this,format)},MMMM:function(format){return this.localeData().months(this,format)},D:function(){return this.date()},DDD:function(){return this.dayOfYear()},d:function(){return this.day()},dd:function(format){return this.localeData().weekdaysMin(this,format)},ddd:function(format){return this.localeData().weekdaysShort(this,format)},dddd:function(format){return this.localeData().weekdays(this,format)},w:function(){return this.week()},W:function(){return this.isoWeek()},YY:function(){return leftZeroFill(this.year()%100,2)},YYYY:function(){return leftZeroFill(this.year(),4)},YYYYY:function(){return leftZeroFill(this.year(),5)},YYYYYY:function(){var y=this.year(),sign=y>=0?"+":"-";return sign+leftZeroFill(Math.abs(y),6)},gg:function(){return leftZeroFill(this.weekYear()%100,2)},gggg:function(){return leftZeroFill(this.weekYear(),4)},ggggg:function(){return leftZeroFill(this.weekYear(),5)},GG:function(){return leftZeroFill(this.isoWeekYear()%100,2)},GGGG:function(){return leftZeroFill(this.isoWeekYear(),4)},GGGGG:function(){return leftZeroFill(this.isoWeekYear(),5)},e:function(){return this.weekday()},E:function(){return this.isoWeekday()},a:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!0)},A:function(){return this.localeData().meridiem(this.hours(),this.minutes(),!1)},H:function(){return this.hours()},h:function(){return this.hours()%12||12},m:function(){return this.minutes()},s:function(){return this.seconds()},S:function(){return toInt(this.milliseconds()/100)},SS:function(){return leftZeroFill(toInt(this.milliseconds()/10),2)},SSS:function(){return leftZeroFill(this.milliseconds(),3)},SSSS:function(){return leftZeroFill(this.milliseconds(),3)},Z:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+":"+leftZeroFill(toInt(a)%60,2)},ZZ:function(){var a=this.utcOffset(),b="+";return 0>a&&(a=-a,b="-"),b+leftZeroFill(toInt(a/60),2)+leftZeroFill(toInt(a)%60,2)},z:function(){return this.zoneAbbr()},zz:function(){return this.zoneName()},x:function(){return this.valueOf()},X:function(){return this.unix()},Q:function(){return this.quarter()}},deprecations={},lists=["months","monthsShort","weekdays","weekdaysShort","weekdaysMin"],updateInProgress=!1;ordinalizeTokens.length;)i=ordinalizeTokens.pop(),formatTokenFunctions[i+"o"]=ordinalizeToken(formatTokenFunctions[i],i);for(;paddedTokens.length;)i=paddedTokens.pop(),formatTokenFunctions[i+i]=padToken(formatTokenFunctions[i],2);formatTokenFunctions.DDDD=padToken(formatTokenFunctions.DDD,3),extend(Locale.prototype,{set:function(config){var prop,i;for(i in config)prop=config[i],"function"==typeof prop?this[i]=prop:this["_"+i]=prop;this._ordinalParseLenient=new RegExp(this._ordinalParse.source+"|"+/\d{1,2}/.source)},_months:"January_February_March_April_May_June_July_August_September_October_November_December".split("_"),months:function(m){return this._months[m.month()]},_monthsShort:"Jan_Feb_Mar_Apr_May_Jun_Jul_Aug_Sep_Oct_Nov_Dec".split("_"),monthsShort:function(m){return this._monthsShort[m.month()]},monthsParse:function(monthName,format,strict){var i,mom,regex;for(this._monthsParse||(this._monthsParse=[],this._longMonthsParse=[],this._shortMonthsParse=[]),i=0;12>i;i++){if(mom=moment.utc([2e3,i]),strict&&!this._longMonthsParse[i]&&(this._longMonthsParse[i]=new RegExp("^"+this.months(mom,"").replace(".","")+"$","i"),this._shortMonthsParse[i]=new RegExp("^"+this.monthsShort(mom,"").replace(".","")+"$","i")),strict||this._monthsParse[i]||(regex="^"+this.months(mom,"")+"|^"+this.monthsShort(mom,""),this._monthsParse[i]=new RegExp(regex.replace(".",""),"i")),strict&&"MMMM"===format&&this._longMonthsParse[i].test(monthName))return i;if(strict&&"MMM"===format&&this._shortMonthsParse[i].test(monthName))return i;if(!strict&&this._monthsParse[i].test(monthName))return i}},_weekdays:"Sunday_Monday_Tuesday_Wednesday_Thursday_Friday_Saturday".split("_"),weekdays:function(m){return this._weekdays[m.day()]},_weekdaysShort:"Sun_Mon_Tue_Wed_Thu_Fri_Sat".split("_"),weekdaysShort:function(m){return this._weekdaysShort[m.day()]},_weekdaysMin:"Su_Mo_Tu_We_Th_Fr_Sa".split("_"),weekdaysMin:function(m){return this._weekdaysMin[m.day()]},weekdaysParse:function(weekdayName){var i,mom,regex;for(this._weekdaysParse||(this._weekdaysParse=[]),i=0;7>i;i++)if(this._weekdaysParse[i]||(mom=moment([2e3,1]).day(i),regex="^"+this.weekdays(mom,"")+"|^"+this.weekdaysShort(mom,"")+"|^"+this.weekdaysMin(mom,""),this._weekdaysParse[i]=new RegExp(regex.replace(".",""),"i")),this._weekdaysParse[i].test(weekdayName))return i},_longDateFormat:{LTS:"h:mm:ss A",LT:"h:mm A",L:"MM/DD/YYYY",LL:"MMMM D, YYYY",LLL:"MMMM D, YYYY LT",LLLL:"dddd, MMMM D, YYYY LT"},longDateFormat:function(key){var output=this._longDateFormat[key];return!output&&this._longDateFormat[key.toUpperCase()]&&(output=this._longDateFormat[key.toUpperCase()].replace(/MMMM|MM|DD|dddd/g,function(val){return val.slice(1)}),this._longDateFormat[key]=output),output},isPM:function(input){return"p"===(input+"").toLowerCase().charAt(0)},_meridiemParse:/[ap]\.?m?\.?/i,meridiem:function(hours,minutes,isLower){return hours>11?isLower?"pm":"PM":isLower?"am":"AM"},_calendar:{sameDay:"[Today at] LT",nextDay:"[Tomorrow at] LT",nextWeek:"dddd [at] LT",lastDay:"[Yesterday at] LT",lastWeek:"[Last] dddd [at] LT",sameElse:"L"},calendar:function(key,mom,now){var output=this._calendar[key];return"function"==typeof output?output.apply(mom,[now]):output},_relativeTime:{future:"in %s",past:"%s ago",s:"a few seconds",m:"a minute",mm:"%d minutes",h:"an hour",hh:"%d hours",d:"a day",dd:"%d days",M:"a month",MM:"%d months",y:"a year",yy:"%d years"},relativeTime:function(number,withoutSuffix,string,isFuture){var output=this._relativeTime[string];return"function"==typeof output?output(number,withoutSuffix,string,isFuture):output.replace(/%d/i,number)},pastFuture:function(diff,output){var format=this._relativeTime[diff>0?"future":"past"];return"function"==typeof format?format(output):format.replace(/%s/i,output)},ordinal:function(number){return this._ordinal.replace("%d",number)},_ordinal:"%d",_ordinalParse:/\d{1,2}/,preparse:function(string){return string},postformat:function(string){return string},week:function(mom){return weekOfYear(mom,this._week.dow,this._week.doy).week},_week:{dow:0,doy:6},firstDayOfWeek:function(){return this._week.dow},firstDayOfYear:function(){return this._week.doy},_invalidDate:"Invalid date",invalidDate:function(){return this._invalidDate}}),moment=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._i=input,c._f=format,c._l=locale,c._strict=strict,c._isUTC=!1,c._pf=defaultParsingFlags(),makeMoment(c)},moment.suppressDeprecationWarnings=!1,moment.createFromInputFallback=deprecate("moment construction falls back to js Date. This is discouraged and will be removed in upcoming major release. Please refer to https://github.com/moment/moment/issues/1407 for more info.",function(config){config._d=new Date(config._i+(config._useUTC?" UTC":""))}),moment.min=function(){var args=[].slice.call(arguments,0);return pickBy("isBefore",args)},moment.max=function(){var args=[].slice.call(arguments,0);return pickBy("isAfter",args)},moment.utc=function(input,format,locale,strict){var c;return"boolean"==typeof locale&&(strict=locale,locale=undefined),c={},c._isAMomentObject=!0,c._useUTC=!0,c._isUTC=!0,c._l=locale,c._i=input,c._f=format,c._strict=strict,c._pf=defaultParsingFlags(),makeMoment(c).utc()},moment.unix=function(input){return moment(1e3*input)},moment.duration=function(input,key){var sign,ret,parseIso,diffRes,duration=input,match=null;return moment.isDuration(input)?duration={ms:input._milliseconds,d:input._days,M:input._months}:"number"==typeof input?(duration={},key?duration[key]=input:duration.milliseconds=input):(match=aspNetTimeSpanJsonRegex.exec(input))?(sign="-"===match[1]?-1:1,duration={y:0,d:toInt(match[DATE])*sign,h:toInt(match[HOUR])*sign,m:toInt(match[MINUTE])*sign,s:toInt(match[SECOND])*sign,ms:toInt(match[MILLISECOND])*sign}):(match=isoDurationRegex.exec(input))?(sign="-"===match[1]?-1:1,parseIso=function(inp){var res=inp&&parseFloat(inp.replace(",","."));return(isNaN(res)?0:res)*sign},duration={y:parseIso(match[2]),M:parseIso(match[3]),d:parseIso(match[4]),h:parseIso(match[5]),m:parseIso(match[6]),s:parseIso(match[7]),w:parseIso(match[8])}):null==duration?duration={}:"object"==typeof duration&&("from"in duration||"to"in duration)&&(diffRes=momentsDifference(moment(duration.from),moment(duration.to)),duration={},duration.ms=diffRes.milliseconds,duration.M=diffRes.months),ret=new Duration(duration),moment.isDuration(input)&&hasOwnProp(input,"_locale")&&(ret._locale=input._locale),ret},moment.version=VERSION,moment.defaultFormat=isoFormat,moment.ISO_8601=function(){},moment.momentProperties=momentProperties,moment.updateOffset=function(){},moment.relativeTimeThreshold=function(threshold,limit){return relativeTimeThresholds[threshold]===undefined?!1:limit===undefined?relativeTimeThresholds[threshold]:(relativeTimeThresholds[threshold]=limit,!0)},moment.lang=deprecate("moment.lang is deprecated. Use moment.locale instead.",function(key,value){return moment.locale(key,value)}),moment.locale=function(key,values){var data;return key&&(data="undefined"!=typeof values?moment.defineLocale(key,values):moment.localeData(key),data&&(moment.duration._locale=moment._locale=data)),moment._locale._abbr},moment.defineLocale=function(name,values){return null!==values?(values.abbr=name,locales[name]||(locales[name]=new Locale),locales[name].set(values),moment.locale(name),locales[name]):(delete locales[name],null)},moment.langData=deprecate("moment.langData is deprecated. Use moment.localeData instead.",function(key){return moment.localeData(key)}),moment.localeData=function(key){var locale;if(key&&key._locale&&key._locale._abbr&&(key=key._locale._abbr),!key)return moment._locale;if(!isArray(key)){if(locale=loadLocale(key))return locale;key=[key]}return chooseLocale(key)},moment.isMoment=function(obj){return obj instanceof Moment||null!=obj&&hasOwnProp(obj,"_isAMomentObject")},moment.isDuration=function(obj){return obj instanceof Duration};for(i=lists.length-1;i>=0;--i)makeList(lists[i]);moment.normalizeUnits=function(units){return normalizeUnits(units)},moment.invalid=function(flags){var m=moment.utc(0/0);return null!=flags?extend(m._pf,flags):m._pf.userInvalidated=!0,m},moment.parseZone=function(){return moment.apply(null,arguments).parseZone()},moment.parseTwoDigitYear=function(input){return toInt(input)+(toInt(input)>68?1900:2e3)},moment.isDate=isDate,extend(moment.fn=Moment.prototype,{clone:function(){return moment(this)},valueOf:function(){return+this._d-6e4*(this._offset||0)},unix:function(){return Math.floor(+this/1e3)},toString:function(){return this.clone().locale("en").format("ddd MMM DD YYYY HH:mm:ss [GMT]ZZ")},toDate:function(){return this._offset?new Date(+this):this._d},toISOString:function(){var m=moment(this).utc();return 0<m.year()&&m.year()<=9999?"function"==typeof Date.prototype.toISOString?this.toDate().toISOString():formatMoment(m,"YYYY-MM-DD[T]HH:mm:ss.SSS[Z]"):formatMoment(m,"YYYYYY-MM-DD[T]HH:mm:ss.SSS[Z]")},toArray:function(){var m=this;return[m.year(),m.month(),m.date(),m.hours(),m.minutes(),m.seconds(),m.milliseconds()]},isValid:function(){return isValid(this)},isDSTShifted:function(){return this._a?this.isValid()&&compareArrays(this._a,(this._isUTC?moment.utc(this._a):moment(this._a)).toArray())>0:!1},parsingFlags:function(){return extend({},this._pf)},invalidAt:function(){return this._pf.overflow},utc:function(keepLocalTime){return this.utcOffset(0,keepLocalTime)},local:function(keepLocalTime){return this._isUTC&&(this.utcOffset(0,keepLocalTime),this._isUTC=!1,keepLocalTime&&this.subtract(this._dateUtcOffset(),"m")),this},format:function(inputString){var output=formatMoment(this,inputString||moment.defaultFormat);return this.localeData().postformat(output)},add:createAdder(1,"add"),subtract:createAdder(-1,"subtract"),diff:function(input,units,asFloat){var diff,output,that=makeAs(input,this),zoneDiff=6e4*(that.utcOffset()-this.utcOffset());return units=normalizeUnits(units),"year"===units||"month"===units||"quarter"===units?(output=monthDiff(this,that),"quarter"===units?output/=3:"year"===units&&(output/=12)):(diff=this-that,output="second"===units?diff/1e3:"minute"===units?diff/6e4:"hour"===units?diff/36e5:"day"===units?(diff-zoneDiff)/864e5:"week"===units?(diff-zoneDiff)/6048e5:diff),asFloat?output:absRound(output)},from:function(time,withoutSuffix){return moment.duration({to:this,from:time}).locale(this.locale()).humanize(!withoutSuffix)},fromNow:function(withoutSuffix){return this.from(moment(),withoutSuffix)},calendar:function(time){var now=time||moment(),sod=makeAs(now,this).startOf("day"),diff=this.diff(sod,"days",!0),format=-6>diff?"sameElse":-1>diff?"lastWeek":0>diff?"lastDay":1>diff?"sameDay":2>diff?"nextDay":7>diff?"nextWeek":"sameElse";return this.format(this.localeData().calendar(format,this,moment(now)))},isLeapYear:function(){return isLeapYear(this.year())},isDST:function(){return this.utcOffset()>this.clone().month(0).utcOffset()||this.utcOffset()>this.clone().month(5).utcOffset()},day:function(input){var day=this._isUTC?this._d.getUTCDay():this._d.getDay();return null!=input?(input=parseWeekday(input,this.localeData()),this.add(input-day,"d")):day},month:makeAccessor("Month",!0),startOf:function(units){switch(units=normalizeUnits(units)){case"year":this.month(0);case"quarter":case"month":this.date(1);case"week":case"isoWeek":case"day":this.hours(0);case"hour":this.minutes(0);case"minute":this.seconds(0);case"second":this.milliseconds(0)}return"week"===units?this.weekday(0):"isoWeek"===units&&this.isoWeekday(1),"quarter"===units&&this.month(3*Math.floor(this.month()/3)),this},endOf:function(units){return units=normalizeUnits(units),units===undefined||"millisecond"===units?this:this.startOf(units).add(1,"isoWeek"===units?"week":units).subtract(1,"ms")},isAfter:function(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+this>+input):(inputMs=moment.isMoment(input)?+input:+moment(input),inputMs<+this.clone().startOf(units))},isBefore:function(input,units){var inputMs;return units=normalizeUnits("undefined"!=typeof units?units:"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+input>+this):(inputMs=moment.isMoment(input)?+input:+moment(input),+this.clone().endOf(units)<inputMs)},isBetween:function(from,to,units){return this.isAfter(from,units)&&this.isBefore(to,units)},isSame:function(input,units){var inputMs;return units=normalizeUnits(units||"millisecond"),"millisecond"===units?(input=moment.isMoment(input)?input:moment(input),+this===+input):(inputMs=+moment(input),+this.clone().startOf(units)<=inputMs&&inputMs<=+this.clone().endOf(units))},min:deprecate("moment().min is deprecated, use moment.min instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),this>other?this:other}),max:deprecate("moment().max is deprecated, use moment.max instead. https://github.com/moment/moment/issues/1548",function(other){return other=moment.apply(null,arguments),other>this?this:other}),zone:deprecate("moment().zone is deprecated, use moment().utcOffset instead. https://github.com/moment/moment/issues/1779",function(input,keepLocalTime){return null!=input?("string"!=typeof input&&(input=-input),this.utcOffset(input,keepLocalTime),this):-this.utcOffset()}),utcOffset:function(input,keepLocalTime){var localAdjust,offset=this._offset||0;return null!=input?("string"==typeof input&&(input=utcOffsetFromString(input)),Math.abs(input)<16&&(input=60*input),!this._isUTC&&keepLocalTime&&(localAdjust=this._dateUtcOffset()),this._offset=input,this._isUTC=!0,null!=localAdjust&&this.add(localAdjust,"m"),offset!==input&&(!keepLocalTime||this._changeInProgress?addOrSubtractDurationFromMoment(this,moment.duration(input-offset,"m"),1,!1):this._changeInProgress||(this._changeInProgress=!0,moment.updateOffset(this,!0),this._changeInProgress=null)),this):this._isUTC?offset:this._dateUtcOffset()},isLocal:function(){return!this._isUTC},isUtcOffset:function(){return this._isUTC},isUtc:function(){return this._isUTC&&0===this._offset},zoneAbbr:function(){return this._isUTC?"UTC":""},zoneName:function(){return this._isUTC?"Coordinated Universal Time":""},parseZone:function(){return this._tzm?this.utcOffset(this._tzm):"string"==typeof this._i&&this.utcOffset(utcOffsetFromString(this._i)),this},hasAlignedHourOffset:function(input){return input=input?moment(input).utcOffset():0,(this.utcOffset()-input)%60===0},daysInMonth:function(){return daysInMonth(this.year(),this.month())},dayOfYear:function(input){var dayOfYear=round((moment(this).startOf("day")-moment(this).startOf("year"))/864e5)+1;return null==input?dayOfYear:this.add(input-dayOfYear,"d")},quarter:function(input){return null==input?Math.ceil((this.month()+1)/3):this.month(3*(input-1)+this.month()%3)},weekYear:function(input){var year=weekOfYear(this,this.localeData()._week.dow,this.localeData()._week.doy).year;return null==input?year:this.add(input-year,"y")},isoWeekYear:function(input){var year=weekOfYear(this,1,4).year;return null==input?year:this.add(input-year,"y")},week:function(input){var week=this.localeData().week(this);return null==input?week:this.add(7*(input-week),"d")},isoWeek:function(input){var week=weekOfYear(this,1,4).week;return null==input?week:this.add(7*(input-week),"d")},weekday:function(input){var weekday=(this.day()+7-this.localeData()._week.dow)%7;return null==input?weekday:this.add(input-weekday,"d")},isoWeekday:function(input){return null==input?this.day()||7:this.day(this.day()%7?input:input-7)},isoWeeksInYear:function(){return weeksInYear(this.year(),1,4)},weeksInYear:function(){var weekInfo=this.localeData()._week;return weeksInYear(this.year(),weekInfo.dow,weekInfo.doy)},get:function(units){return units=normalizeUnits(units),this[units]()},set:function(units,value){var unit;if("object"==typeof units)for(unit in units)this.set(unit,units[unit]);else units=normalizeUnits(units),"function"==typeof this[units]&&this[units](value);return this},locale:function(key){var newLocaleData;return key===undefined?this._locale._abbr:(newLocaleData=moment.localeData(key),null!=newLocaleData&&(this._locale=newLocaleData),this)},lang:deprecate("moment().lang() is deprecated. Instead, use moment().localeData() to get the language configuration. Use moment().locale() to change languages.",function(key){return key===undefined?this.localeData():this.locale(key)}),localeData:function(){return this._locale},_dateUtcOffset:function(){return 15*-Math.round(this._d.getTimezoneOffset()/15)}}),moment.fn.millisecond=moment.fn.milliseconds=makeAccessor("Milliseconds",!1),moment.fn.second=moment.fn.seconds=makeAccessor("Seconds",!1),moment.fn.minute=moment.fn.minutes=makeAccessor("Minutes",!1),moment.fn.hour=moment.fn.hours=makeAccessor("Hours",!0),moment.fn.date=makeAccessor("Date",!0),moment.fn.dates=deprecate("dates accessor is deprecated. Use date instead.",makeAccessor("Date",!0)),moment.fn.year=makeAccessor("FullYear",!0),moment.fn.years=deprecate("years accessor is deprecated. Use year instead.",makeAccessor("FullYear",!0)),moment.fn.days=moment.fn.day,moment.fn.months=moment.fn.month,moment.fn.weeks=moment.fn.week,moment.fn.isoWeeks=moment.fn.isoWeek,moment.fn.quarters=moment.fn.quarter,moment.fn.toJSON=moment.fn.toISOString,moment.fn.isUTC=moment.fn.isUtc,extend(moment.duration.fn=Duration.prototype,{_bubble:function(){var seconds,minutes,hours,milliseconds=this._milliseconds,days=this._days,months=this._months,data=this._data,years=0;data.milliseconds=milliseconds%1e3,seconds=absRound(milliseconds/1e3),data.seconds=seconds%60,minutes=absRound(seconds/60),data.minutes=minutes%60,hours=absRound(minutes/60),data.hours=hours%24,days+=absRound(hours/24),years=absRound(daysToYears(days)),days-=absRound(yearsToDays(years)),months+=absRound(days/30),days%=30,years+=absRound(months/12),months%=12,data.days=days,data.months=months,data.years=years},abs:function(){return this._milliseconds=Math.abs(this._milliseconds),this._days=Math.abs(this._days),this._months=Math.abs(this._months),this._data.milliseconds=Math.abs(this._data.milliseconds),this._data.seconds=Math.abs(this._data.seconds),this._data.minutes=Math.abs(this._data.minutes),this._data.hours=Math.abs(this._data.hours),this._data.months=Math.abs(this._data.months),this._data.years=Math.abs(this._data.years),this},weeks:function(){return absRound(this.days()/7)},valueOf:function(){return this._milliseconds+864e5*this._days+this._months%12*2592e6+31536e6*toInt(this._months/12)},humanize:function(withSuffix){var output=relativeTime(this,!withSuffix,this.localeData());return withSuffix&&(output=this.localeData().pastFuture(+this,output)),this.localeData().postformat(output)},add:function(input,val){var dur=moment.duration(input,val);return this._milliseconds+=dur._milliseconds,this._days+=dur._days,this._months+=dur._months,this._bubble(),this},subtract:function(input,val){var dur=moment.duration(input,val);return this._milliseconds-=dur._milliseconds,this._days-=dur._days,this._months-=dur._months,this._bubble(),this},get:function(units){return units=normalizeUnits(units),this[units.toLowerCase()+"s"]()},as:function(units){var days,months;if(units=normalizeUnits(units),"month"===units||"year"===units)return days=this._days+this._milliseconds/864e5,months=this._months+12*daysToYears(days),"month"===units?months:months/12;switch(days=this._days+Math.round(yearsToDays(this._months/12)),units){case"week":return days/7+this._milliseconds/6048e5;case"day":return days+this._milliseconds/864e5;case"hour":return 24*days+this._milliseconds/36e5;case"minute":return 24*days*60+this._milliseconds/6e4;case"second":return 24*days*60*60+this._milliseconds/1e3;case"millisecond":return Math.floor(24*days*60*60*1e3)+this._milliseconds;default:throw new Error("Unknown unit "+units)}},lang:moment.fn.lang,locale:moment.fn.locale,toIsoString:deprecate("toIsoString() is deprecated. Please use toISOString() instead (notice the capitals)",function(){return this.toISOString()}),toISOString:function(){var years=Math.abs(this.years()),months=Math.abs(this.months()),days=Math.abs(this.days()),hours=Math.abs(this.hours()),minutes=Math.abs(this.minutes()),seconds=Math.abs(this.seconds()+this.milliseconds()/1e3);return this.asSeconds()?(this.asSeconds()<0?"-":"")+"P"+(years?years+"Y":"")+(months?months+"M":"")+(days?days+"D":"")+(hours||minutes||seconds?"T":"")+(hours?hours+"H":"")+(minutes?minutes+"M":"")+(seconds?seconds+"S":""):"P0D"},localeData:function(){return this._locale},toJSON:function(){return this.toISOString()}}),moment.duration.fn.toString=moment.duration.fn.toISOString;for(i in unitMillisecondFactors)hasOwnProp(unitMillisecondFactors,i)&&makeDurationGetter(i.toLowerCase());moment.duration.fn.asMilliseconds=function(){return this.as("ms")},moment.duration.fn.asSeconds=function(){return this.as("s")},moment.duration.fn.asMinutes=function(){return this.as("m")},moment.duration.fn.asHours=function(){return this.as("h")},moment.duration.fn.asDays=function(){return this.as("d")},moment.duration.fn.asWeeks=function(){return this.as("weeks")},moment.duration.fn.asMonths=function(){return this.as("M")},moment.duration.fn.asYears=function(){return this.as("y")},moment.locale("en",{ordinalParse:/\d{1,2}(th|st|nd|rd)/,ordinal:function(number){var b=number%10,output=1===toInt(number%100/10)?"th":1===b?"st":2===b?"nd":3===b?"rd":"th";return number+output}}),hasModule?module.exports=moment:"function"==typeof define&&define.amd?(define("moment",["require","exports","module"],function(require,exports,module){return module.config&&module.config()&&module.config().noGlobal===!0&&(globalScope.moment=oldGlobalMoment),moment}),makeGlobal(!0)):makeGlobal()}.call(this),function(){"use strict";function angularMoment(angular,moment){return angular.module("angularMoment",[]).constant("angularMomentConfig",{preprocess:null,timezone:"",format:null,statefulFilters:!0}).constant("moment",moment).constant("amTimeAgoConfig",{withoutSuffix:!1,serverTime:null,titleFormat:null}).directive("amTimeAgo",["$window","moment","amMoment","amTimeAgoConfig","angularMomentConfig",function($window,moment,amMoment,amTimeAgoConfig,angularMomentConfig){return function(scope,element,attr){function getNow(){var now;if(amTimeAgoConfig.serverTime){var localNow=(new Date).getTime(),nowMillis=localNow-localDate+amTimeAgoConfig.serverTime;now=moment(nowMillis)}else now=moment();return now}function cancelTimer(){activeTimeout&&($window.clearTimeout(activeTimeout),activeTimeout=null)}function updateTime(momentInstance){if(element.text(momentInstance.from(getNow(),withoutSuffix)),titleFormat&&!element.attr("title")&&element.attr("title",momentInstance.local().format(titleFormat)),!isBindOnce){var howOld=Math.abs(getNow().diff(momentInstance,"minute")),secondsUntilUpdate=3600;1>howOld?secondsUntilUpdate=1:60>howOld?secondsUntilUpdate=30:180>howOld&&(secondsUntilUpdate=300),activeTimeout=$window.setTimeout(function(){updateTime(momentInstance)},1e3*secondsUntilUpdate)}}function updateDateTimeAttr(value){isTimeElement&&element.attr("datetime",value)}function updateMoment(){if(cancelTimer(),currentValue){var momentValue=amMoment.preprocessDate(currentValue,preprocess,currentFormat);updateTime(momentValue),updateDateTimeAttr(momentValue.toISOString())}}var currentValue,unwatchChanges,activeTimeout=null,currentFormat=angularMomentConfig.format,withoutSuffix=amTimeAgoConfig.withoutSuffix,titleFormat=amTimeAgoConfig.titleFormat,localDate=(new Date).getTime(),preprocess=angularMomentConfig.preprocess,modelName=attr.amTimeAgo.replace(/^::/,""),isBindOnce=0===attr.amTimeAgo.indexOf("::"),isTimeElement="TIME"===element[0].nodeName.toUpperCase();
unwatchChanges=scope.$watch(modelName,function(value){return"undefined"==typeof value||null===value||""===value?(cancelTimer(),void(currentValue&&(element.text(""),updateDateTimeAttr(""),currentValue=null))):(currentValue=value,updateMoment(),void(void 0!==value&&isBindOnce&&unwatchChanges()))}),angular.isDefined(attr.amWithoutSuffix)&&scope.$watch(attr.amWithoutSuffix,function(value){"boolean"==typeof value?(withoutSuffix=value,updateMoment()):withoutSuffix=amTimeAgoConfig.withoutSuffix}),attr.$observe("amFormat",function(format){"undefined"!=typeof format&&(currentFormat=format,updateMoment())}),attr.$observe("amPreprocess",function(newValue){preprocess=newValue,updateMoment()}),scope.$on("$destroy",function(){cancelTimer()}),scope.$on("amMoment:localeChanged",function(){updateMoment()})}}]).service("amMoment",["moment","$rootScope","$log","angularMomentConfig",function(moment,$rootScope,$log,angularMomentConfig){this.preprocessors={utc:moment.utc,unix:moment.unix},this.changeLocale=function(locale){var result=moment.locale(locale);return angular.isDefined(locale)&&$rootScope.$broadcast("amMoment:localeChanged"),result},this.preprocessDate=function(value,preprocess,format){return angular.isUndefined(preprocess)&&(preprocess=angularMomentConfig.preprocess),this.preprocessors[preprocess]?this.preprocessors[preprocess](value,format):(preprocess&&$log.warn("angular-moment: Ignoring unsupported value for preprocess: "+preprocess),!isNaN(parseFloat(value))&&isFinite(value)?moment(parseInt(value,10)):moment(value,format))},this.applyTimezone=function(aMoment){var timezone=angularMomentConfig.timezone;return aMoment&&timezone&&(aMoment.tz?aMoment=aMoment.tz(timezone):$log.warn("angular-moment: timezone specified but moment.tz() is undefined. Did you forget to include moment-timezone.js?")),aMoment}}]).filter("amCalendar",["moment","amMoment","angularMomentConfig",function(moment,amMoment,angularMomentConfig){function amCalendarFilter(value,preprocess){if("undefined"==typeof value||null===value)return"";value=amMoment.preprocessDate(value,preprocess);var date=moment(value);return date.isValid()?amMoment.applyTimezone(date).calendar():""}return amCalendarFilter.$stateful=angularMomentConfig.statefulFilters,amCalendarFilter}]).filter("amDateFormat",["moment","amMoment","angularMomentConfig",function(moment,amMoment,angularMomentConfig){function amDateFormatFilter(value,format,preprocess){if("undefined"==typeof value||null===value)return"";value=amMoment.preprocessDate(value,preprocess);var date=moment(value);return date.isValid()?amMoment.applyTimezone(date).format(format):""}return amDateFormatFilter.$stateful=angularMomentConfig.statefulFilters,amDateFormatFilter}]).filter("amDurationFormat",["moment","angularMomentConfig",function(moment,angularMomentConfig){function amDurationFormatFilter(value,format,suffix){return"undefined"==typeof value||null===value?"":moment.duration(value,format).humanize(suffix)}return amDurationFormatFilter.$stateful=angularMomentConfig.statefulFilters,amDurationFormatFilter}]).filter("amTimeAgo",["moment","amMoment","angularMomentConfig",function(moment,amMoment,angularMomentConfig){function amTimeAgoFilter(value,preprocess,suffix){if("undefined"==typeof value||null===value)return"";value=amMoment.preprocessDate(value,preprocess);var date=moment(value);return date.isValid()?amMoment.applyTimezone(date).fromNow(suffix):""}return amTimeAgoFilter.$stateful=angularMomentConfig.statefulFilters,amTimeAgoFilter}])}"function"==typeof define&&define.amd?define("angular-moment",["angular","moment"],angularMoment):"undefined"!=typeof module&&module&&module.exports?angularMoment(angular,require("moment")):angularMoment(angular,window.moment)}(),define("text!app/common/directives/feed/templates/feed.html",[],function(){return'<div class="gallery-item-wrapper">\n    <div class="info-line">\n        <div class="pull-left">\n            <i class="fa fa-database"></i> ${{feed.balance}}\n        </div>\n\n        <div class="pull-right">\n            <a href voteup model="feed"><i class="fa fa-arrow-up fa-fw post-vote-up"></i></a>\n            <span>{{feed.votessum}}</span>\n            <a href votedown model="feed"><i class="fa fa-arrow-down fa-fw post-vote-down"></i></a>\n            <span like model="feed"></span>\n            <span refresh model="feed"></span>\n            <span share model="feed"></span>\n        </div>\n    </div>\n    <div class="clearfix"></div>\n    <div class="image-wrapper">\n        <a href="/post/{{feed.id}}">\n            <img alt="Post image" ng-if="feed.thumb" ng-src="{{feed.thumb}}">\n            <img alt="Post image" ng-if="!feed.thumb" ng-src="/img/not-found-image.jpg">\n        </a>\n        <div class="post-type-icon" ng-switch="feed.type">\n            <i ng-switch-when="text" class="fa fa-pencil"></i>\n            <i ng-switch-when="image" class="fa fa-camera"></i>\n            <i ng-switch-when="video" class="fa fa-video-camera"></i>\n            <i ng-switch-when="audio" class="fa fa-headphones"></i>\n        </div>\n    </div>\n    <div class="clearfix"></div>\n    <div class="description-name-wrapper">\n        <div class="item-description">\n            <a href="/post/{{feed.id}}">{{feed.title}}</a>\n        </div>\n    </div>\n    <div class="clearfix"></div>\n</div>\n\n'}),define("app/common/services/voteService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";return angular.module("ernr.voteService",["common.resources.constant"]).factory("voteFactory",["$http","apiDomain",function($http,constant){return{up:function(id){return $http.get(constant.domain+"/vote/up/"+id)},down:function(id){return $http.get(constant.domain+"/vote/down/"+id)}}}])}),define("app/common/directives/voteup",["angular","angularBootstrap","text!./../../modules/navbar/templates/signin.html","./../../modules/navbar/controllers/signInModalController","app/common/context/user","app/common/services/voteService"],function(angular,angularBootstrap,signInTemplate,signInController){"use strict";var module=angular.module("ernr.directives.voteup",["ui.bootstrap","ernr.userService","ernr.voteService"]).directive("voteup",function(){return{restrict:"A",scope:{model:"="},controller:["$scope","$modal","userFactory","voteFactory",function($scope,$modal,currentUser,vote){function voteup(){vote.up($scope.model.id).success(function(data){$scope.model.votessum=data.result.votessum,$scope.model.votesdown=data.result.votesdown,$scope.model.votesup=data.result.votesup,$scope.model.balance=data.result.balance})}function openSignInModal(m){var modalInstance=$modal.open({template:signInTemplate,controller:signInController,backdrop:"static",keyboard:!1});modalInstance.result.then(function(){voteup(m)},function(){})}$scope.action=function(){currentUser.isLoggedIn?voteup():openSignInModal()}}],link:function(scope,element){element.on("click",scope.action)}}});return module}),define("app/common/directives/votedown",["angular","angularBootstrap","text!./../../modules/navbar/templates/signin.html","./../../modules/navbar/controllers/signInModalController","app/common/context/user","app/common/services/voteService"],function(angular,angularBootstrap,signInTemplate,signInController){"use strict";var module=angular.module("ernr.directives.votedown",["ui.bootstrap","ernr.userService","ernr.voteService"]).directive("votedown",function(){return{restrict:"A",scope:{model:"="},controller:["$scope","$modal","userFactory","voteFactory",function($scope,$modal,currentUser,vote){function votedown(){vote.down($scope.model.id).success(function(data){$scope.model.votessum=data.result.votessum,$scope.model.votesdown=data.result.votesdown,$scope.model.votesup=data.result.votesup,$scope.model.balance=data.result.balance})}function openSignInModal(m){var modalInstance=$modal.open({template:signInTemplate,controller:signInController,backdrop:"static",keyboard:!1});modalInstance.result.then(function(){votedown(m)},function(){})}$scope.action=function(){currentUser.isLoggedIn?votedown():openSignInModal()}}],link:function(scope,element){element.on("click",scope.action)}}});return module}),define("text!app/common/directives/share/templates/share.html",[],function(){return'<div class="message-popup">\n  <form ng-submit="send()" name="shareTo" novalidate>\n    <div class="report-reason text-center">\n      <h3>Direct Share</h3>\n    </div>\n\n    <hr />\n    \n    <div class="mention-input">\n      <mention-input ng-model="data.mention" name="mention" type="text"\n        placeholder="enter @usernames here"></mention-input>\n    </div>\n\n    <hr />\n\n    <div class="message-info row">\n      <div class="col-md-7 separator">\n        <i class="fa fa-pencil"></i>\n        Comment\n      </div>\n      <div class="col-md-5">\n        200 character max\n      </div>\n    </div>\n\n    <textarea name="message" ng-model="data.message" ng-maxlength="200"\n      placeholder="write here" required></textarea>\n\n    <div class="form-actions">\n      <button type="button" ng-click="closeDialog()">Cancel</button>\n      <button type="submit">Submit</button>\n    </div>\n  </form>\n</div>\n'}),define("app/common/directives/share/controllers/share",["require"],function(){"use strict";function controller($scope,$modalInstance){$scope.data={},$scope.send=function(){$modalInstance.close($scope.data)},$scope.closeDialog=function(){$modalInstance.dismiss("cancel")}}return["$scope","$modalInstance",controller]}),define("app/common/directives/share/share",["angular","angularBootstrap","text!./../../../modules/navbar/templates/signin.html","./../../../modules/navbar/controllers/signInModalController","text!./templates/share.html","./controllers/share","app/common/context/user","app/common/services/postService"],function(angular,angularBootstrap,signInTemplate,signInController,shareTemplate,shareController){"use strict";var module=angular.module("ernr.directives.share",["ui.bootstrap","ernr.userService","ernr.postService"]).directive("share",function(){return{restrict:"A",transclude:!0,scope:{model:"="},controller:["$scope","$modal","userFactory","postFactory",function($scope,$modal,currentUser,posts){function share(mention){var reg=new RegExp("@([a-zA-Z0-9])*","g"),isHasUsername=reg.test(mention);if(mention&&isHasUsername){var userId=mention.replace(/@/g,"");posts.shareTo($scope.model.id,userId).success(function(data){console.log(data)})}}function openSignInModal(){var modalInstance=$modal.open({template:signInTemplate,controller:signInController,backdrop:"static",keyboard:!1});modalInstance.result.then(function(){share($scope.model)},function(){})}function openModal(){if(!$scope.isMe){var modalInstance=$modal.open({template:shareTemplate,controller:shareController,backdrop:"static",keyboard:!1});modalInstance.result.then(function(data){share(data.mention)})}}$scope.isMe=$scope.model.user_id===currentUser.getInfo().id,$scope.action=function(){currentUser.isLoggedIn?openModal():openSignInModal()}}],template:'<a href ng-class="{ \'disable-is-me\': isMe }" ng-click="action()"><i class="fa fa fa-share post-share"></i></a>'}});return module}),define("app/common/directives/refresh",["angular","angularBootstrap","text!./../../modules/navbar/templates/signin.html","./../../modules/navbar/controllers/signInModalController","app/common/context/user","app/common/services/postService"],function(angular,angularBootstrap,signInTemplate,signInController){"use strict";var module=angular.module("ernr.directives.refresh",["ui.bootstrap","ernr.userService","ernr.postService"]).directive("refresh",function(){return{restrict:"A",transclude:!0,scope:{model:"="},controller:["$scope","$modal","userFactory","postFactory",function($scope,$modal,currentUser,posts){function refresh(){$scope.isMe||posts.share($scope.model.id).success(function(data){$scope.model.reshare=data.result.reshare,$scope.model.balance=data.result.balance,$scope.model.reshareUsers=data.result.reshareUsers})}function openSignInModal(m){var modalInstance=$modal.open({template:signInTemplate,controller:signInController,backdrop:"static",keyboard:!1});modalInstance.result.then(function(){refresh(m)},function(){})}$scope.isMe=$scope.model.user_id===currentUser.getInfo().id,$scope.action=function(model){currentUser.isLoggedIn?refresh(model):openSignInModal(model)}}],template:'<a ng-class="{ \'disable-is-me\': isMe }" ng-click="action(model)"><i class="fa fa-refresh fa-fw post-refresh"></i></a>'}});return module}),define("app/common/services/favoritesService",["angular","lodash","angularLocalStorage","app/common/resources/constants/constants"],function(angular,_){"use strict";return angular.module("ernr.favoritesService",["angularLocalStorage","common.resources.constant"]).factory("favoritesFactory",["$http","apiDomain","storage",function($http,constant,storage){var isLike=function(id){return _.indexOf(storage.get("favorites"),id)>=0},sync=function(id,type){var ids=storage.get("favorites"),isIncluded=isLike(id);"add"!==type||isIncluded?"remove"===type&&isIncluded&&_.remove(ids,function(n){return n===id}):ids.push(id),storage.set("favorites",ids)};return{get:function(params){return $http.get(constant.domain+"/favorites",{params:params})},add:function(id){return $http.post(constant.domain+"/favorites",{postid:id}).success(sync.bind(this,id,"add"))},remove:function(id){return $http["delete"](constant.domain+"/favorites/"+id).success(sync.bind(this,id,"remove"))},loadToLocalStorage:function(){this.get({per_page:0}).success(function(resp){var ids=resp.result.items.map(function(e){return e.id});storage.set("favorites",ids)})},isLike:function(id){return isLike(id)}}}])}),define("app/common/directives/like",["angular","angularBootstrap","text!./../../modules/navbar/templates/signin.html","./../../modules/navbar/controllers/signInModalController","app/common/context/user","app/common/services/favoritesService"],function(angular,angularBootstrap,signInTemplate,signInController){"use strict";var module=angular.module("ernr.directives.like",["ui.bootstrap","ernr.userService","ernr.favoritesService"]).directive("like",function(){return{restrict:"A",transclude:!0,scope:{model:"="},controller:["$scope","$modal","userFactory","favoritesFactory",function($scope,$modal,currentUser,favorites){function like(model){favorites.add(model.id).success(function(data){$scope.isLike=!0,$scope.model.favorites=data.result.favorites})}function unlike(model){favorites.remove(model.id).success(function(){$scope.isLike=!1,$scope.model.favorites-=1})}function openSignInModal(m){var modalInstance=$modal.open({template:signInTemplate,controller:signInController,backdrop:"static",keyboard:!1});modalInstance.result.then(function(){like(m)},function(){})}$scope.isLike=favorites.isLike($scope.model.id),$scope.action=function(model){currentUser.isLoggedIn&&!$scope.isLike?like(model):currentUser.isLoggedIn&&$scope.isLike?unlike(model):openSignInModal(model)}}],template:'<a ng-click="action(model)"><i class="fa fa-fw post-like" ng-class="{ \'fa-heart\': isLike, \'fa-heart-o\': !isLike }"></i></a>'}});return module}),define("app/common/directives/mentionsLink",["angular"],function(angular){"use strict";var module=angular.module("ernr.directives.mentionsLink",[]).directive("mentionsLink",function(){return{restrict:"E",scope:{text:"="},link:function(scope,el){var reg=new RegExp("@([a-zA-Z0-9])*","g"),text=scope.text.replace(reg,function(str){var name=str.replace(/@/g,"");return'<a href="/users/'+name+'"><b>'+str+"</b></a>"});el.html(text)}}});return module}),define("app/common/directives/feed/feed",["angular","angular-moment","text!./templates/feed.html","app/common/directives/voteup","app/common/directives/votedown","app/common/directives/share/share","app/common/directives/refresh","app/common/directives/like","app/common/directives/mentionsLink"],function(angular,angularMoment,template){"use strict";var module=angular.module("ernr.directives.feed",["angularMoment","ernr.directives.voteup","ernr.directives.votedown","ernr.directives.share","ernr.directives.refresh","ernr.directives.like","ernr.directives.mentionsLink"]).directive("feed",function(){return{restrict:"A",replace:!0,scope:{feed:"="},template:template,controller:["$scope","$sce",function($scope,$sce){$scope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)}}]}});return module}),define("app/common/directives/feed/feedList",["angular","text!./templates/feedList.html","app/common/directives/feed/feed","app/common/services/feedService","app/common/services/notificationsService"],function(angular,template){"use strict";var module=angular.module("ernr.directives.feedList",["ernr.directives.feed","ernr.feedService","ernr.notifications"]).directive("feedsList",function(){return{restrict:"A",scope:{feedDatestamp:"=",feedType:"=",currentTopic:"=",feedTopic:"="},template:template,controller:["$scope","feedFactory","notifications","$timeout",function($scope,feedFactory,notifications,$timeout){function loadFeeds(){if(!($scope.onLoading||$scope.stopLoadMore||angular.isDefined($scope.currentTopic)&&$scope.currentTopic!==$scope.filter.topic&&!init)){var params={page:$scope.filter.page,per_page:$scope.filter.per_page,datestamp:$scope.filter.datestamp,type:$scope.filter.type,topic:$scope.filter.topic};$scope.onLoading=!0,feedFactory.search(params).then(function(resp){$scope.feeds.push.apply($scope.feeds,resp.data.result.items),$scope.stopLoadMore=resp.data.result.items.length<$scope.filter.per_page,$scope.filter.page++},function(){})["finally"](function(){$timeout(function(){$scope.onLoading=!1},500),init=!1})}}function clearFeeds(){$scope.feeds.splice(0,$scope.feeds.length)}function updateFilters(){$scope.filter.page=1,$scope.filter.datestamp=$scope.feedDatestamp,$scope.filter.type=$scope.feedType}var init=!0;$scope.filter={page:1,per_page:20,datestamp:$scope.feedDatestamp,type:$scope.feedType,topic:$scope.feedTopic},$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.feeds=[],$scope.loadFeeds=loadFeeds,$scope.$watch("feedDatestamp",function(o,n){o!==n&&($scope.stopLoadMore=!1,init=!0,clearFeeds(),updateFilters(),loadFeeds())}),$scope.$watch("feedType",function(o,n){o!==n&&($scope.stopLoadMore=!1,init=!0,clearFeeds(),updateFilters(),loadFeeds())}),notifications.onNewFeedAdded($scope,function(newFeed){newFeed&&$scope.feeds.unshift(newFeed)})}],link:function(){}}});return module}),define("text!app/common/directives/feedFilters/templates/feedFilters.html",[],function(){return'<div class="filter-panel">\n    <div class="container">\n      <div class="filter-text">FILTER:</div>\n      <div class="ernr-btn-group pull-left">\n        <div class="vertical-line-20-15"></div>\n        <button\n            type="button"\n            class="btn ernr-btn-light"\n            ng-class="{ active: filter.type === \'video\' }"\n            ng-click="changeType(\'video\')">\n            <i class="fa fa-video-camera"></i>\n        </button>\n        <div class="vertical-line-20-15"></div>\n        <button\n            type="button"\n            class="btn ernr-btn-light"\n            ng-class="{ active: filter.type === \'image\' }"\n            ng-click="changeType(\'image\')">\n            <i class="fa fa-camera"></i>\n        </button>\n        <div class="vertical-line-20-15"></div>\n        <button\n            type="button"\n            class="btn ernr-btn-light"\n            ng-class="{ active: filter.type === \'text\' }"\n            ng-click="changeType(\'text\')">\n            <i class="fa fa-pencil"></i>\n        </button>\n        <div class="vertical-line-20-15"></div>\n        <button\n            type="button"\n            class="btn ernr-btn-light"\n            ng-class="{ active: filter.type === \'audio\' }"\n            ng-click="changeType(\'audio\')">\n            <i class="fa fa-headphones"></i>\n        </button>\n      </div>\n\n      <div class="ernr-btn-group pull-right">\n        <button\n            type="button"\n            class="btn ernr-btn-light"\n            ng-class="{ active: filter.datestamp === \'\' }"\n            ng-click="changeDate(\'recent\')">Most Recent</button>\n        <button\n            type="button"\n            class="btn ernr-btn-light"\n            ng-class="{ active: filter.datestamp === \'activity\' }"\n            ng-click="changeDate(\'activity\')">By Activity</button>\n        <button\n            type="button"\n            class="btn ernr-btn-light"\n            ng-class="{ active: filter.datestamp === \'popularity\' }"\n            ng-click="changeDate(\'popularity\')">By Popularity</button>\n      </div>\n    </div>\n</div>\n'}),define("app/common/directives/feedFilters/feedFilters",["angular","text!./templates/feedFilters.html"],function(angular,feedFiltersTemplate){return angular.module("ernr.directives.feedFilters",[]).directive("feedFilters",function(){return{restrict:"E",replace:!0,scope:{filter:"=ngModel"},controller:["$scope",function($scope){$scope.filter||($scope.filter={type:"",datestamp:""}),$scope.changeType=function(type){$scope.filter.type=type===$scope.filter.type?"":type},$scope.changeDate=function(datestamp){$scope.filter.datestamp=datestamp===$scope.filter.datestamp||"recent"===datestamp?"":datestamp}}],template:feedFiltersTemplate}})}),define("app/modules/home/home",["angular","angularScroll","angularRoute","app/common/services/feedService","text!./home.html","./../../libs/angular.dcb-img-fallback","./controllers/main","app/common/directives/feed/feedList","app/common/directives/feedFilters/feedFilters"],function(angular,angularScroll,angularRoute,feedServiceModule,template,libimgfallback,maincontroller){"use strict";var module=angular.module("ernr.home",["ngRoute","libs.img-fallback","infinite-scroll","ernr.feedService","ernr.directives.feedList","ernr.directives.feedFilters"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("home",template)}]),angular.module("ernr.home").config(["$routeProvider","$locationProvider","$httpProvider",function($routeProvider){$routeProvider.when("/",{template:template,controller:"HomeController"}).when("/trending/:site?/:sector?/:direction?",{template:template,controller:"HomeController"})}]).controller("HomeController",maincontroller),module}),define("text!app/modules/profile/profile.html",[],function(){return'<div ng-if="isLoggedIn">\n  <div class="profile row">\n    <div class="container">\n      <div class="col col-md-4 col-sm-4">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-8 col-sm-8">\n        <form role="form" name="editProfile" class="row" novalidate ng-submit="save($event)">\n          <div class="col col-md-12 avatar">\n            <div class="avatar-wrapper">\n              <!-- <img ng-src="{{avatar.url}}" class="img-circle" height="80" alt="" />  -->\n              <thumb-editor ng-model="avatar" as-blob="true"></thumb-editor>\n            </div>\n          </div>\n\n          <div class="col col-md-12 bio">\n            <div class="bio-wrapper">\n              <label for="user-bio">\n                <i class="fa fa-pencil ng-scope"></i>Bio:\n              </label>\n              <textarea ng-model="info.bio"></textarea>\n            </div>\n          </div>\n\n          <div class="col col-md-12 field">\n            <label for="user-email">E-mail:</label>\n            <input type="email" id="user-email" disabled placeholder="Email" ng-model="info.email">\n            <hr />\n          </div>\n\n          <div class="col col-md-12 field">\n            <label for="user-name">Username:</label>\n            <input type="text" id="user-name" disabled placeholder="Username" ng-model="info.username">\n            <hr />\n          </div>\n\n          <div class="col col-md-12 field">\n            <label for="user-country">Country:</label>\n            <input type="text" id="user-country" placeholder="country" ng-model="info.country">\n            <hr />\n          </div>\n\n          <div class="col col-md-12 field">\n            <label for="user-language">Language:</label>\n            <input type="text" id="user-language" placeholder="language" ng-model="info.language">\n            <hr />\n          </div>\n\n          <div class="col col-md-12 field">\n            <label for="user-language">Timezone:</label>\n            <input type="text" id="user-timezone" placeholder="timezone" ng-model="info.timezone">\n            <hr />\n          </div>\n\n          <div class="col col-md-12 field actions">\n            <button ng-if="!isPending" type="submit" class="pull-right">Save</button>\n            <button ng-if="isPending" class="pull-right">Loading...</button>\n          </div>\n        </form>\n      </div>\n    </div>\n  </div>\n</div>\n\n<div ng-if="!isLoggedIn">\n  Please Login\n</div>\n'}),define("app/modules/profile/controllers/main",[],function(){"use strict";var controller=["$scope","$routeParams","profileFactory","userFactory","uploadFileFactory","$window",function($scope,$routeParams,profileFactory,currentUser,uploadFile,$window){function saveProfile(){profileFactory.setProfile($scope.info).success(function(data){$scope.isPending=!1,currentUser.fillInfo(data.result)})}$scope.currentUser=currentUser,$scope.isPending=!1,$scope.avatar={},$scope.isFileAPISupported=!!($window.File&&$window.FileReader&&$window.FileList&&$window.Blob),$scope.save=function(e){return e.preventDefault(),$scope.isPending=!0,$scope.avatar.blob?void uploadFile.uploadAvatar($scope.avatar.blob).success(function(data){$scope.info.avatar=data.result.url,saveProfile()}):(saveProfile(),!1)},$scope.$watch("currentUser.isLoggedIn",function(newValue){$scope.isLoggedIn=newValue,$scope.info=currentUser.getInfo(),$scope.avatar={url:$scope.info.avatar}})}];return controller}),RGraph=window.RGraph||{isRGraph:!0},function(win,doc,undefined){var RG=RGraph,ua=navigator.userAgent,ma=Math;RG.Highlight={},RG.Registry={},RG.Registry.store=[],RG.Registry.store["chart.event.handlers"]=[],RG.Registry.store.__rgraph_event_listeners__=[],RG.Background={},RG.background={},RG.objects=[],RG.Resizing={},RG.events=[],RG.cursor=[],RG.Effects=RG.Effects||{},RG.cache=[],RG.ObjectRegistry={},RG.ObjectRegistry.objects={},RG.ObjectRegistry.objects.byUID=[],RG.ObjectRegistry.objects.byCanvasID=[],RG.PI=ma.PI,RG.HALFPI=RG.PI/2,RG.TWOPI=2*RG.PI,RG.ISFF=-1!=ua.indexOf("Firefox"),RG.ISOPERA=-1!=ua.indexOf("Opera"),RG.ISCHROME=-1!=ua.indexOf("Chrome"),RG.ISSAFARI=-1!=ua.indexOf("Safari")&&!RG.ISCHROME,RG.ISWEBKIT=-1!=ua.indexOf("WebKit"),RG.ISIE=ua.indexOf("Trident")>0||navigator.userAgent.indexOf("MSIE")>0,RG.ISIE6=ua.indexOf("MSIE 6")>0,RG.ISIE7=ua.indexOf("MSIE 7")>0,RG.ISIE8=ua.indexOf("MSIE 8")>0,RG.ISIE9=ua.indexOf("MSIE 9")>0,RG.ISIE10=ua.indexOf("MSIE 10")>0,RG.ISOLD=RGraph.ISIE6||RGraph.ISIE7||RGraph.ISIE8,RG.ISIE11UP=-1==ua.indexOf("MSIE")&&ua.indexOf("Trident")>0,RG.ISIE10UP=RG.ISIE10||RG.ISIE11UP,RG.ISIE9UP=RG.ISIE9||RG.ISIE10UP,RG.getScale=function(max,obj){if(0==max)return["0.2","0.4","0.6","0.8","1.0"];var original_max=max;if(1>=max){if(max>.5)return[.2,.4,.6,.8,Number(1).toFixed(1)];if(max>=.1)return obj.Get("chart.scale.round")?[.2,.4,.6,.8,1]:[.1,.2,.3,.4,.5];for(var tmp=max,exp=0;1.01>tmp;)exp+=1,tmp*=10;var ret=["2e-"+exp,"4e-"+exp,"6e-"+exp,"8e-"+exp,"10e-"+exp];return"5e-"+exp>=max&&(ret=["1e-"+exp,"2e-"+exp,"3e-"+exp,"4e-"+exp,"5e-"+exp]),ret}String(max).indexOf(".")>0&&(max=String(max).replace(/\.\d+$/,""));for(var interval=ma.pow(10,Number(String(Number(max)).length-1)),topValue=interval;max>topValue;)topValue+=interval/2;return Number(original_max)>Number(topValue)&&(topValue+=interval/2),10>max&&(topValue=Number(original_max)<=5?5:10),obj&&"boolean"==typeof obj.Get("chart.scale.round")&&obj.Get("chart.scale.round")&&(topValue=10*interval),[.2*topValue,.4*topValue,.6*topValue,.8*topValue,topValue]},RG.getScale2=function(obj,opt){var prop=(obj.canvas,obj.context,obj.properties),numlabels="number"==typeof opt["ylabels.count"]?opt["ylabels.count"]:5,units_pre="string"==typeof opt["units.pre"]?opt["units.pre"]:"",units_post="string"==typeof opt["units.post"]?opt["units.post"]:"",max=Number(opt.max),min="number"==typeof opt.min?opt.min:0,strict=opt.strict,decimals=Number(opt["scale.decimals"]),point=opt["scale.point"],thousand=opt["scale.thousand"],original_max=max,round=opt["scale.round"],scale={max:1,labels:[]};if(max)if(1>=max&&!strict)if(max>.5){max=1,min=min,scale.min=min;for(var i=0;numlabels>i;++i){var label=((max-min)/numlabels*(i+1)+min).toFixed(decimals);scale.labels.push(units_pre+label+units_post)}}else if(max>=.1){max=.5,min=min,scale={max:.5,min:min,labels:[]};for(var i=0;numlabels>i;++i){var label=(((max-min)/numlabels+min)*(i+1)).toFixed(decimals);scale.labels.push(units_pre+label+units_post)}}else{scale={min:min,labels:[]};var max_str=String(max);if(max_str.indexOf("e")>0)var numdecimals=ma.abs(max_str.substring(max_str.indexOf("e")+1));else var numdecimals=String(max).length-2;for(var max=1/ma.pow(10,numdecimals-1),i=0;numlabels>i;++i){var label=((max-min)/numlabels+min)*(i+1);label=label.toExponential(),label=label.split(/e/),label[0]=ma.round(label[0]),label=label.join("e"),scale.labels.push(label)}tmp=scale.labels[scale.labels.length-1].split(/e/),tmp[0]+=0,tmp[1]=Number(tmp[1])-1,tmp=tmp[0]+"e"+tmp[1],scale.labels[scale.labels.length-1]=tmp;for(var i=0;i<scale.labels.length;++i)scale.labels[i]=units_pre+scale.labels[i]+units_post;scale.max=Number(max)}else if(strict){if("number"==typeof max&&strict){for(var i=0;numlabels>i;++i)scale.labels.push(RG.number_format(obj,((i+1)/numlabels*(max-min)+min).toFixed(decimals),units_pre,units_post));scale.max=max}}else{max=ma.ceil(max);for(var interval=ma.pow(10,ma.max(1,Number(String(Number(max)-Number(min)).length-1))),topValue=interval;max>topValue;)topValue+=interval/2;Number(original_max)>Number(topValue)&&(topValue+=interval/2),10>=max&&(topValue=Number(original_max)<=5?5:10),obj&&"boolean"==typeof round&&round&&(topValue=10*interval),scale.max=topValue;var tmp_point=prop["chart.scale.point"],tmp_thousand=prop["chart.scale.thousand"];obj.Set("chart.scale.thousand",thousand),obj.Set("chart.scale.point",point);for(var i=0;numlabels>i;++i)scale.labels.push(RG.number_format(obj,((i+1)/numlabels*(topValue-min)+min).toFixed(decimals),units_pre,units_post));obj.Set("chart.scale.thousand",tmp_thousand),obj.Set("chart.scale.point",tmp_point)}else for(var max=1,scale={max:1,min:0,labels:[]},i=0;numlabels>i;++i){var label=(((max-min)/numlabels+min)*(i+1)).toFixed(decimals);scale.labels.push(units_pre+label+units_post)}return scale.units_pre=units_pre,scale.units_post=units_post,scale.point=point,scale.decimals=decimals,scale.thousand=thousand,scale.numlabels=numlabels,scale.round=Boolean(round),scale.min=min,scale},RG.arrayClone=RG.array_clone=function(obj){if(null===obj||"object"!=typeof obj)return obj;for(var temp=[],i=0,len=obj.length;len>i;++i)temp[i]="number"==typeof obj[i]?function(arg){return Number(arg)}(obj[i]):"string"==typeof obj[i]?function(arg){return String(arg)}(obj[i]):"function"==typeof obj[i]?obj[i]:RG.array_clone(obj[i]);return temp},RG.arrayMax=RG.array_max=function(arr){var max=null,ma=Math;if("number"==typeof arr)return arr;if(RG.is_null(arr))return 0;for(var i=0,len=arr.length;len>i;++i)if("number"==typeof arr[i]){var val=arguments[1]?ma.abs(arr[i]):arr[i];max="number"==typeof max?ma.max(max,val):val}return max},RG.arrayPad=RG.array_pad=function(arr,len){if(arr.length<len)for(var val=arguments[2]?arguments[2]:null,i=arr.length;len>i;i+=1)arr[i]=val;return arr},RG.arraySum=RG.array_sum=function(arr){if("number"==typeof arr)return arr;if(RG.is_null(arr))return 0;var i,sum,len=arr.length;for(i=0,sum=0;len>i;sum+=arr[i++]);return sum},RG.arrayLinearize=RG.array_linearize=function(){for(var arr=[],args=arguments,i=0,len=args.length;len>i;++i)if("object"==typeof args[i]&&args[i])for(var j=0,len2=args[i].length;len2>j;++j)for(var sub=RG.array_linearize(args[i][j]),k=0,len3=sub.length;len3>k;++k)arr.push(sub[k]);else arr.push(args[i]);return arr},RG.arrayShift=RG.array_shift=function(arr){for(var ret=[],i=1,len=arr.length;len>i;++i)ret.push(arr[i]);
return ret},RG.arrayReverse=RG.array_reverse=function(arr){for(var newarr=[],i=arr.length-1;i>=0;i-=1)newarr.push(arr[i]);return newarr},RG.clear=RG.Clear=function(ca){var obj=ca.__object__,co=ca.getContext("2d"),color=arguments[1]||obj&&obj.get("clearto");if(ca){if(RG.FireCustomEvent(obj,"onbeforeclear"),RG.ISIE8&&!color&&(color="white"),!color||color&&"rgba(0,0,0,0)"===color||"transparent"===color?(co.clearRect(0,0,ca.width,ca.height),co.globalCompositeOperation="source-over"):(co.fillStyle=color,co.beginPath(),RG.ISIE8?co.fillRect(0,0,ca.width,ca.height):co.fillRect(-10,-10,ca.width+20,ca.height+20),co.fill()),RG.Registry.Get("chart.background.image."+ca.id)){var img=RG.Registry.Get("chart.background.image."+ca.id);img.style.position="absolute",img.style.left="-10000px",img.style.top="-10000px"}RG.Registry.Get("chart.tooltip")&&RG.HideTooltip(ca),ca.style.cursor="default",RG.FireCustomEvent(obj,"onclear")}},RG.drawTitle=RG.DrawTitle=function(obj,text,gutterTop){var ca=canvas=obj.canvas,co=context=obj.context,prop=obj.properties;if(arguments[5])var ca=canvas=arguments[5].canvas,co=context=arguments[5].context;var gutterLeft=prop["chart.gutter.left"],gutterRight=prop["chart.gutter.right"],gutterTop=gutterTop,gutterBottom=prop["chart.gutter.bottom"],size=arguments[4]?arguments[4]:12,bold=prop["chart.title.bold"],centerx=arguments[3]?arguments[3]:(ca.width-gutterLeft-gutterRight)/2+gutterLeft,keypos=prop["chart.key.position"],vpos=prop["chart.title.vpos"],hpos=prop["chart.title.hpos"],bgcolor=prop["chart.title.background"],x=prop["chart.title.x"],y=prop["chart.title.y"],halign="center",valign="center";if("bar"==obj.type&&"3d"==prop["chart.variant"]&&(keypos="gutter"),co.beginPath(),co.fillStyle=prop["chart.text.color"]?prop["chart.text.color"]:"black",keypos&&"gutter"!=keypos)var valign="center";else if(keypos)var valign="bottom";else var valign="center";if("number"==typeof prop["chart.title.vpos"]?(vpos=prop["chart.title.vpos"]*gutterTop,"top"===prop["chart.xaxispos"]&&(vpos=prop["chart.title.vpos"]*gutterBottom+gutterTop+(ca.height-gutterTop-gutterBottom))):(vpos=gutterTop-size-5,"top"===prop["chart.xaxispos"]&&(vpos=ca.height-gutterBottom+size+5)),"number"==typeof hpos&&(centerx=hpos*ca.width),"number"==typeof x&&(centerx=x),"number"==typeof y&&(vpos=y),"string"==typeof prop["chart.title.halign"]&&(halign=prop["chart.title.halign"]),"string"==typeof prop["chart.title.valign"]&&(valign=prop["chart.title.valign"]),null!==typeof prop["chart.title.color"]){var oldColor=co.fillStyle,newColor=prop["chart.title.color"];co.fillStyle=newColor?newColor:"black"}var font=prop["chart.text.font"];"string"==typeof prop["chart.title.font"]&&(font=prop["chart.title.font"]),RG.Text2(co,{font:font,size:size,x:centerx,y:vpos,text:text,valign:valign,halign:halign,bounding:null!=bgcolor,"bounding.fill":bgcolor,bold:bold,tag:"title"}),co.fillStyle=oldColor},RG.getMouseXY=function(e){var x,y,el=e.target,ca=el,caStyle=ca.style,offsetX=0,offsetY=0,ISFIXED="fixed"==ca.style.position,borderLeft=parseInt(caStyle.borderLeftWidth)||0,borderTop=parseInt(caStyle.borderTopWidth)||0,paddingLeft=parseInt(caStyle.paddingLeft)||0,paddingTop=parseInt(caStyle.paddingTop)||0,additionalX=borderLeft+paddingLeft,additionalY=borderTop+paddingTop;if("number"==typeof e.offsetX&&"number"==typeof e.offsetY)ISFIXED?RG.ISOPERA?(x=e.offsetX,y=e.offsetY):RG.ISWEBKIT?(x=e.offsetX-paddingLeft-borderLeft,y=e.offsetY-paddingTop-borderTop):RG.ISIE?(x=e.offsetX-paddingLeft,y=e.offsetY-paddingTop):(x=e.offsetX,y=e.offsetY):RG.ISIE||RG.ISOPERA?RG.ISIE?(x=e.offsetX-paddingLeft,y=e.offsetY-paddingTop):(x=e.offsetX,y=e.offsetY):(x=e.offsetX-borderLeft-paddingLeft,y=e.offsetY-borderTop-paddingTop);else{if("undefined"!=typeof el.offsetParent)do offsetX+=el.offsetLeft,offsetY+=el.offsetTop;while(el=el.offsetParent);x=e.pageX-offsetX-additionalX,y=e.pageY-offsetY-additionalY,x-=2*(parseInt(document.body.style.borderLeftWidth)||0),y-=2*(parseInt(document.body.style.borderTopWidth)||0)}return[x,y]},RG.getCanvasXY=function(canvas){var x=0,y=0,el=canvas;do x+=el.offsetLeft,y+=el.offsetTop,"table"==el.tagName.toLowerCase()&&(RG.ISCHROME||RG.ISSAFARI)&&(x+=parseInt(el.border)||0,y+=parseInt(el.border)||0),el=el.offsetParent;while(el&&"body"!=el.tagName.toLowerCase());var paddingLeft=canvas.style.paddingLeft?parseInt(canvas.style.paddingLeft):0,paddingTop=canvas.style.paddingTop?parseInt(canvas.style.paddingTop):0,borderLeft=canvas.style.borderLeftWidth?parseInt(canvas.style.borderLeftWidth):0,borderTop=canvas.style.borderTopWidth?parseInt(canvas.style.borderTopWidth):0;return navigator.userAgent.indexOf("Firefox")>0&&(x+=parseInt(document.body.style.borderLeftWidth)||0,y+=parseInt(document.body.style.borderTopWidth)||0),[x+paddingLeft+borderLeft,y+paddingTop+borderTop]},RG.isFixed=function(canvas){for(var obj=canvas,i=0;obj&&"body"!=obj.tagName.toLowerCase()&&99>i;){if("fixed"==obj.style.position)return obj;obj=obj.offsetParent}return!1},RG.register=RG.Register=function(obj){obj.Get("chart.noregister")||(RGraph.ObjectRegistry.Add(obj),obj.Set("chart.noregister",!0))},RG.redraw=RG.Redraw=function(){for(var objectRegistry=RGraph.ObjectRegistry.objects.byCanvasID,tags=document.getElementsByTagName("canvas"),i=0,len=tags.length;len>i;++i)tags[i].__object__&&tags[i].__object__.isRGraph&&(tags[i].noclear||RGraph.clear(tags[i],arguments[0]?arguments[0]:null));for(var i=0,len=objectRegistry.length;len>i;++i)if(objectRegistry[i]){{objectRegistry[i][0]}objectRegistry[i][1].Draw()}},RG.redrawCanvas=RG.RedrawCanvas=function(ca){var objects=RG.ObjectRegistry.getObjectsByCanvasID(ca.id);if(!arguments[1]||"boolean"==typeof arguments[1]&&0==!arguments[1]){var color=arguments[2]||ca.__object__.get("clearto")||"transparent";RG.clear(ca,color)}for(var i=0,len=objects.length;len>i;++i)objects[i]&&objects[i]&&objects[i].isRGraph&&objects[i].Draw()},RG.Background.draw=RG.background.draw=RG.background.Draw=function(obj){var func=function(obj,canvas,context){var ca=canvas,co=context,prop=obj.properties,height=0,gutterLeft=obj.gutterLeft,gutterRight=obj.gutterRight,gutterTop=obj.gutterTop,gutterBottom=obj.gutterBottom,variant=prop["chart.variant"];if(co.fillStyle=prop["chart.text.color"],"3d"==variant&&(co.save(),co.translate(10,-5)),"string"==typeof prop["chart.title.xaxis"]&&prop["chart.title.xaxis"].length){var size=prop["chart.text.size"]+2,font=prop["chart.text.font"],bold=prop["chart.title.xaxis.bold"];"number"==typeof prop["chart.title.xaxis.size"]&&(size=prop["chart.title.xaxis.size"]),"string"==typeof prop["chart.title.xaxis.font"]&&(font=prop["chart.title.xaxis.font"]);var hpos=(ca.width-gutterLeft-gutterRight)/2+gutterLeft,vpos=ca.height-gutterBottom+25;"number"==typeof prop["chart.title.xaxis.pos"]&&(vpos=ca.height-gutterBottom*prop["chart.title.xaxis.pos"]),"number"==typeof prop["chart.title.xaxis.x"]&&(hpos=prop["chart.title.xaxis.x"]),"number"==typeof prop["chart.title.xaxis.y"]&&(vpos=prop["chart.title.xaxis.y"]),RG.Text2(co,{font:font,size:size,x:hpos,y:vpos,text:prop["chart.title.xaxis"],halign:"center",valign:"center",bold:bold,tag:"title xaxis"})}if("string"==typeof prop["chart.title.yaxis"]&&prop["chart.title.yaxis"].length){var size=prop["chart.text.size"]+2,font=prop["chart.text.font"],angle=270,bold=prop["chart.title.yaxis.bold"],color=prop["chart.title.yaxis.color"];if("number"==typeof prop["chart.title.yaxis.pos"])var yaxis_title_pos=prop["chart.title.yaxis.pos"]*gutterLeft;else var yaxis_title_pos=(gutterLeft-25)/gutterLeft*gutterLeft;"number"==typeof prop["chart.title.yaxis.size"]&&(size=prop["chart.title.yaxis.size"]),"string"==typeof prop["chart.title.yaxis.font"]&&(font=prop["chart.title.yaxis.font"]),"right"==prop["chart.title.yaxis.align"]||"right"==prop["chart.title.yaxis.position"]||"hbar"===obj.type&&"right"===prop["chart.yaxispos"]&&"undefined"==typeof prop["chart.title.yaxis.align"]&&"undefined"==typeof prop["chart.title.yaxis.position"]?(angle=90,yaxis_title_pos=prop["chart.title.yaxis.pos"]?ca.width-gutterRight+prop["chart.title.yaxis.pos"]*gutterRight:ca.width-gutterRight+prop["chart.text.size"]+5):yaxis_title_pos=yaxis_title_pos;var y=(ca.height-gutterTop-gutterBottom)/2+gutterTop;"number"==typeof prop["chart.title.yaxis.x"]&&(yaxis_title_pos=prop["chart.title.yaxis.x"]),"number"==typeof prop["chart.title.yaxis.y"]&&(y=prop["chart.title.yaxis.y"]),co.fillStyle=color,RG.text2(co,{font:font,size:size,x:yaxis_title_pos,y:y,valign:"center",halign:"center",angle:angle,bold:bold,text:prop["chart.title.yaxis"],tag:"title yaxis"})}var bgcolor=prop["chart.background.color"];bgcolor&&(co.fillStyle=bgcolor,co.fillRect(gutterLeft+.5,gutterTop+.5,ca.width-gutterLeft-gutterRight,ca.height-gutterTop-gutterBottom));var numbars=prop["chart.ylabels.count"]||5,barHeight=(ca.height-gutterBottom-gutterTop)/numbars;co.beginPath(),co.fillStyle=prop["chart.background.barcolor1"],co.strokeStyle=co.fillStyle,height=ca.height-gutterBottom;for(var i=0;numbars>i;i+=2)co.rect(gutterLeft,i*barHeight+gutterTop,ca.width-gutterLeft-gutterRight,barHeight);co.fill(),co.beginPath(),co.fillStyle=prop["chart.background.barcolor2"],co.strokeStyle=co.fillStyle;for(var i=1;numbars>i;i+=2)co.rect(gutterLeft,i*barHeight+gutterTop,ca.width-gutterLeft-gutterRight,barHeight);if(co.fill(),co.beginPath(),prop["chart.background.grid"]){if(prop["chart.background.grid.autofit"]){prop["chart.background.grid.autofit.align"]&&(obj.Set("chart.background.grid.autofit.numhlines",prop["chart.ylabels.count"]),"line"===obj.type?prop["chart.labels"]&&prop["chart.labels"].length?obj.Set("chart.background.grid.autofit.numvlines",prop["chart.labels"].length-1):obj.Set("chart.background.grid.autofit.numvlines",obj.data[0].length-1):("bar"===obj.type||"scatter"===obj.type)&&prop["chart.labels"]&&prop["chart.labels"].length&&obj.Set("chart.background.grid.autofit.numvlines",prop["chart.labels"].length));var vsize=(ca.width-gutterLeft-gutterRight)/prop["chart.background.grid.autofit.numvlines"],hsize=(ca.height-gutterTop-gutterBottom)/prop["chart.background.grid.autofit.numhlines"];obj.Set("chart.background.grid.vsize",vsize),obj.Set("chart.background.grid.hsize",hsize)}if(co.beginPath(),co.lineWidth=prop["chart.background.grid.width"]?prop["chart.background.grid.width"]:1,co.strokeStyle=prop["chart.background.grid.color"],prop["chart.background.grid.dashed"]&&"function"==typeof co.setLineDash&&co.setLineDash([3,2]),prop["chart.background.grid.dotted"]&&"function"==typeof co.setLineDash&&co.setLineDash([1,2]),prop["chart.background.grid.hlines"]){height=ca.height-gutterBottom;var hsize=prop["chart.background.grid.hsize"];for(y=gutterTop;height>y;y+=hsize)context.moveTo(gutterLeft,ma.round(y)),context.lineTo(ca.width-gutterRight,ma.round(y))}if(prop["chart.background.grid.vlines"]){var width=ca.width-gutterRight,vsize=prop["chart.background.grid.vsize"];for(x=gutterLeft;x<=width;x+=vsize)co.moveTo(ma.round(x),gutterTop),co.lineTo(ma.round(x),ca.height-gutterBottom)}prop["chart.background.grid.border"]&&(co.strokeStyle=prop["chart.background.grid.color"],co.strokeRect(ma.round(gutterLeft),ma.round(gutterTop),ca.width-gutterLeft-gutterRight,ca.height-gutterTop-gutterBottom))}context.stroke(),"function"==typeof co.setLineDash&&co.setLineDash([1,0]),"3d"==variant&&co.restore(),"string"==typeof prop["chart.title"]&&("gantt"==obj.type&&(gutterTop-=10),RG.DrawTitle(obj,prop["chart.title"],gutterTop,null,prop["chart.title.size"]?prop["chart.title.size"]:prop["chart.text.size"]+2,{canvas:ca,context:co})),co.stroke()};RG.ISOLD?func(obj,obj.canvas,obj.context):RG.cachedDraw(obj,obj.uid+"_background",func)},RG.numberFormat=RG.number_format=function(obj,num){var i,prop=(obj.canvas,obj.context,obj.properties),prepend=arguments[2]?String(arguments[2]):"",append=arguments[3]?String(arguments[3]):"",output="",decimal="",decimal_seperator="string"==typeof prop["chart.scale.point"]?prop["chart.scale.point"]:".",thousand_seperator="string"==typeof prop["chart.scale.thousand"]?prop["chart.scale.thousand"]:",";RegExp.$1="";var i,j;if("function"==typeof prop["chart.scale.formatter"])return prop["chart.scale.formatter"](obj,num);if(String(num).indexOf("e")>0)return String(prepend+String(num)+append);if(num=String(num),num.indexOf(".")>0){var tmp=num;num=num.replace(/\.(.*)/,""),decimal=tmp.replace(/(.*)\.(.*)/,"$2")}var seperator=thousand_seperator;for(i=num.length-1,j=0;i>=0;j++,i--){var character=num.charAt(i);j%3==0&&0!=j&&(output+=seperator),output+=character}var rev=output;for(output="",i=rev.length-1;i>=0;i--)output+=rev.charAt(i);return 0==output.indexOf("-"+prop["chart.scale.thousand"])&&(output="-"+output.substr(("-"+prop["chart.scale.thousand"]).length)),decimal.length&&(output=output+decimal_seperator+decimal,decimal="",RegExp.$1=""),"-"==output.charAt(0)&&(output=output.replace(/-/,""),prepend="-"+prepend),prepend+output+append},RG.drawBars=RG.DrawBars=function(obj){var prop=obj.properties,co=obj.context,ca=obj.canvas,hbars=prop["chart.background.hbars"];if(null!==hbars)for(co.beginPath(),i=0,len=hbars.length;i<len;++i){var start=hbars[i][0],length=hbars[i][1],color=hbars[i][2];RG.is_null(start)&&(start=obj.scale2.max),start>obj.scale2.max&&(start=obj.scale2.max),RG.is_null(length)&&(length=obj.scale2.max-start),start+length>obj.scale2.max&&(length=obj.scale2.max-start),start+length<-1*obj.scale2.max&&(length=-1*obj.scale2.max-start),"center"==prop["chart.xaxispos"]&&start==obj.scale2.max&&length<-2*obj.scale2.max&&(length=-2*obj.scale2.max);var x=prop["chart.gutter.left"],y=obj.getYCoord(start),w=ca.width-prop["chart.gutter.left"]-prop["chart.gutter.right"],h=obj.getYCoord(start+length)-y;-1!=RG.ISOPERA&&"center"==prop["chart.xaxispos"]&&0>h&&(h*=-1,y-=h),"top"==prop["chart.xaxispos"]&&(y=ca.height-y,h*=-1),co.fillStyle=color,co.fillRect(x,y,w,h)}},RG.drawInGraphLabels=RG.DrawInGraphLabels=function(obj){var co=(obj.canvas,obj.context),prop=obj.properties,labels=prop["chart.labels.ingraph"],labels_processed=[];if(labels){for(var i=0,len=labels.length;len>i;i+=1)if("number"==typeof labels[i])for(var j=0;j<labels[i];++j)labels_processed.push(null);else labels_processed.push("string"==typeof labels[i]||"object"==typeof labels[i]?labels[i]:"");if(RG.NoShadow(obj),labels_processed&&labels_processed.length>0)for(var i=0,len=labels_processed.length;len>i;i+=1)if(labels_processed[i]){var coords=obj.coords[i];if(coords&&coords.length>0){var x="bar"==obj.type?coords[0]+coords[2]/2:coords[0],y="bar"==obj.type?coords[1]+coords[3]/2:coords[1],length="number"==typeof labels_processed[i][4]?labels_processed[i][4]:25;if(co.beginPath(),co.fillStyle="black",co.strokeStyle="black","bar"===obj.type){if("top"==obj.Get("chart.xaxispos")&&(length*=-1),"dot"==prop["chart.variant"]){co.moveTo(ma.round(x),obj.coords[i][1]-5),co.lineTo(ma.round(x),obj.coords[i][1]-5-length);var text_x=ma.round(x),text_y=obj.coords[i][1]-5-length}else if("arrow"==prop["chart.variant"]){co.moveTo(ma.round(x),obj.coords[i][1]-5),co.lineTo(ma.round(x),obj.coords[i][1]-5-length);var text_x=ma.round(x),text_y=obj.coords[i][1]-5-length}else{co.arc(ma.round(x),y,2.5,0,6.28,0),co.moveTo(ma.round(x),y),co.lineTo(ma.round(x),y-length);var text_x=ma.round(x),text_y=y-length}co.stroke(),co.fill()}else if("line"==obj.type){if("object"==typeof labels_processed[i]&&"number"==typeof labels_processed[i][3]&&-1==labels_processed[i][3]){co.moveTo(ma.round(x),y+5),co.lineTo(ma.round(x),y+5+length),co.stroke(),co.beginPath(),co.moveTo(ma.round(x),y+5),co.lineTo(ma.round(x)-3,y+10),co.lineTo(ma.round(x)+3,y+10),co.closePath();var text_x=x,text_y=y+5+length}else{var text_x=x,text_y=y-5-length;co.moveTo(ma.round(x),y-5),co.lineTo(ma.round(x),y-5-length),co.stroke(),co.beginPath(),co.moveTo(ma.round(x),y-5),co.lineTo(ma.round(x)-3,y-10),co.lineTo(ma.round(x)+3,y-10),co.closePath()}co.fill()}co.beginPath(),co.fillStyle="object"==typeof labels_processed[i]&&"string"==typeof labels_processed[i][1]?labels_processed[i][1]:"black",RG.Text2(obj,{font:prop["chart.text.font"],size:prop["chart.text.size"],x:text_x,y:text_y,text:"object"==typeof labels_processed[i]&&"string"==typeof labels_processed[i][0]?labels_processed[i][0]:labels_processed[i],valign:"bottom",halign:"center",bounding:!0,"bounding.fill":"object"==typeof labels_processed[i]&&"string"==typeof labels_processed[i][2]?labels_processed[i][2]:"white",tag:"labels ingraph"}),co.fill()}}}},RG.fixEventObject=RG.FixEventObject=function(e){if(RG.ISOLD){var e=event;e.pageX=event.clientX+doc.body.scrollLeft,e.pageY=event.clientY+doc.body.scrollTop,e.target=event.srcElement,!doc.body.scrollTop&&doc.documentElement.scrollTop&&(e.pageX+=parseInt(doc.documentElement.scrollLeft),e.pageY+=parseInt(doc.documentElement.scrollTop))}return e.stopPropagation||(e.stopPropagation=function(){window.event.cancelBubble=!0}),e},RG.hideCrosshairCoords=RG.HideCrosshairCoords=function(){var div=RG.Registry.Get("chart.coordinates.coords.div");if(div&&1==div.style.opacity&&div.__object__.Get("chart.crosshairs.coords.fadeout")){var style=RG.Registry.Get("chart.coordinates.coords.div").style;setTimeout(function(){style.opacity=.9},25),setTimeout(function(){style.opacity=.8},50),setTimeout(function(){style.opacity=.7},75),setTimeout(function(){style.opacity=.6},100),setTimeout(function(){style.opacity=.5},125),setTimeout(function(){style.opacity=.4},150),setTimeout(function(){style.opacity=.3},175),setTimeout(function(){style.opacity=.2},200),setTimeout(function(){style.opacity=.1},225),setTimeout(function(){style.opacity=0},250),setTimeout(function(){style.display="none"},275)}},RG.draw3DAxes=RG.Draw3DAxes=function(obj){var prop=obj.properties,co=obj.context,ca=obj.canvas,gutterLeft=prop["chart.gutter.left"],gutterRight=prop["chart.gutter.right"],gutterTop=prop["chart.gutter.top"],gutterBottom=prop["chart.gutter.bottom"];co.strokeStyle="#aaa",co.fillStyle="#ddd",co.beginPath(),co.moveTo(gutterLeft,gutterTop),co.lineTo(gutterLeft+10,gutterTop-5),co.lineTo(gutterLeft+10,ca.height-gutterBottom-5),co.lineTo(gutterLeft,ca.height-gutterBottom),co.moveTo(gutterLeft,ca.height-gutterBottom),co.lineTo(gutterLeft+10,ca.height-gutterBottom-5),co.lineTo(ca.width-gutterRight+10,ca.height-gutterBottom-5),co.lineTo(ca.width-gutterRight,ca.height-gutterBottom),co.closePath(),co.stroke(),co.fill()},RG.strokedCurvyRect=function(co,x,y,w,h){var r=arguments[5]?arguments[5]:3,corner_tl=arguments[6]||null==arguments[6]?!0:!1,corner_tr=arguments[7]||null==arguments[7]?!0:!1,corner_br=arguments[8]||null==arguments[8]?!0:!1,corner_bl=arguments[9]||null==arguments[9]?!0:!1;co.beginPath(),co.moveTo(x+(corner_tl?r:0),y),co.lineTo(x+w-(corner_tr?r:0),y),corner_tr&&co.arc(x+w-r,y+r,r,RG.PI+RG.HALFPI,RG.TWOPI,!1),co.lineTo(x+w,y+h-(corner_br?r:0)),corner_br&&co.arc(x+w-r,y-r+h,r,RG.TWOPI,RG.HALFPI,!1),co.lineTo(x+(corner_bl?r:0),y+h),corner_bl&&co.arc(x+r,y-r+h,r,RG.HALFPI,RG.PI,!1),co.lineTo(x,y+(corner_tl?r:0)),corner_tl&&co.arc(x+r,y+r,r,RG.PI,RG.PI+RG.HALFPI,!1),co.stroke()},RG.filledCurvyRect=function(co,x,y,w,h){var r=arguments[5]?arguments[5]:3,corner_tl=arguments[6]||null==arguments[6]?!0:!1,corner_tr=arguments[7]||null==arguments[7]?!0:!1,corner_br=arguments[8]||null==arguments[8]?!0:!1,corner_bl=arguments[9]||null==arguments[9]?!0:!1;co.beginPath(),corner_tl?(co.moveTo(x+r,y+r),co.arc(x+r,y+r,r,RG.PI,RG.PI+RG.HALFPI,!1)):co.fillRect(x,y,r,r),corner_tr?(co.moveTo(x+w-r,y+r),co.arc(x+w-r,y+r,r,RG.PI+RG.HALFPI,0,!1)):(co.moveTo(x+w-r,y),co.fillRect(x+w-r,y,r,r)),corner_br?(co.moveTo(x+w-r,y+h-r),co.arc(x+w-r,y-r+h,r,0,RG.HALFPI,!1)):(co.moveTo(x+w-r,y+h-r),co.fillRect(x+w-r,y+h-r,r,r)),corner_bl?(co.moveTo(x+r,y+h-r),co.arc(x+r,y-r+h,r,RG.HALFPI,RG.PI,!1)):(co.moveTo(x,y+h-r),co.fillRect(x,y+h-r,r,r)),co.fillRect(x+r,y,w-r-r,h),co.fillRect(x,y+r,r+1,h-r-r),co.fillRect(x+w-r-1,y+r,r+1,h-r-r),co.fill()},RG.hideZoomedCanvas=RG.HideZoomedCanvas=function(){var interval=10,frames=15;if("object"==typeof RG.zoom_image){var obj=RG.zoom_image.obj,prop=obj.properties;if(prop["chart.zoom.fade.out"]){for(var i=frames,j=1;i>=0;--i,++j)"object"==typeof RG.zoom_image&&setTimeout("RGraph.zoom_image.style.opacity = "+String(i/10),j*interval);"object"==typeof RG.zoom_background&&setTimeout("RGraph.zoom_background.style.opacity = "+String(i/frames),j*interval)}"object"==typeof RG.zoom_image&&setTimeout("RGraph.zoom_image.style.display = 'none'",prop["chart.zoom.fade.out"]?frames*interval+10:0),"object"==typeof RG.zoom_background&&setTimeout("RGraph.zoom_background.style.display = 'none'",prop["chart.zoom.fade.out"]?frames*interval+10:0)}},RG.addCustomEventListener=RG.AddCustomEventListener=function(obj,name,func){var RG=RGraph;return"undefined"==typeof RG.events[obj.uid]&&(RG.events[obj.uid]=[]),RG.events[obj.uid].push([obj,name,func]),RG.events[obj.uid].length-1},RG.fireCustomEvent=RG.FireCustomEvent=function(obj,name){if(obj&&obj.isRGraph){obj[name]&&obj[name](obj);var uid=obj.uid;if("string"==typeof uid&&"object"==typeof RG.events&&"object"==typeof RG.events[uid]&&RG.events[uid].length>0)for(var j=0;j<RG.events[uid].length;++j)RG.events[uid][j]&&RG.events[uid][j][1]==name&&RG.events[uid][j][2](obj)}},RGraph.removeAllCustomEventListeners=RGraph.RemoveAllCustomEventListeners=function(){var id=arguments[0];id&&RG.events[id]?RG.events[id]=[]:RG.events=[]},RG.removeCustomEventListener=RG.RemoveCustomEventListener=function(obj,i){"object"==typeof RG.events&&"object"==typeof RG.events[obj.id]&&"object"==typeof RG.events[obj.id][i]&&(RG.events[obj.id][i]=null)},RG.drawBackgroundImage=RG.DrawBackgroundImage=function(obj){var prop=obj.properties,ca=obj.canvas,co=obj.context;if("string"==typeof prop["chart.background.image"]){if("undefined"==typeof ca.__rgraph_background_image__){var img=new Image;img.__object__=obj,img.__canvas__=ca,img.__context__=co,img.src=obj.Get("chart.background.image"),ca.__rgraph_background_image__=img}else img=ca.__rgraph_background_image__;img.onload=function(){obj.__rgraph_background_image_loaded__=!0,RG.clear(ca),RG.redrawCanvas(ca)};var gutterLeft=obj.gutterLeft,gutterRight=obj.gutterRight,gutterTop=obj.gutterTop,gutterBottom=obj.gutterBottom,stretch=prop["chart.background.image.stretch"],align=prop["chart.background.image.align"];if("string"==typeof align){if(-1!=align.indexOf("right"))var x=ca.width-(prop["chart.background.image.w"]||img.width)-gutterRight;else var x=gutterLeft;if(-1!=align.indexOf("bottom"))var y=ca.height-(prop["chart.background.image.h"]||img.height)-gutterBottom;else var y=gutterTop}else var x=gutterLeft||25,y=gutterTop||25;var x="number"==typeof prop["chart.background.image.x"]?prop["chart.background.image.x"]:x,y="number"==typeof prop["chart.background.image.y"]?prop["chart.background.image.y"]:y,w=stretch?ca.width-gutterLeft-gutterRight:img.width,h=stretch?ca.height-gutterTop-gutterBottom:img.height;"number"==typeof prop["chart.background.image.w"]&&(w=prop["chart.background.image.w"]),"number"==typeof prop["chart.background.image.h"]&&(h=prop["chart.background.image.h"]),co.drawImage(img,x,y,w,h)}},RG.hasTooltips=function(obj){var prop=obj.properties;if("object"==typeof prop["chart.tooltips"]&&prop["chart.tooltips"]){for(var i=0,len=prop["chart.tooltips"].length;len>i;++i)if(!RG.is_null(obj.Get("chart.tooltips")[i]))return!0}else if("function"==typeof prop["chart.tooltips"])return!0;return!1},RG.createUID=RG.CreateUID=function(){return"xxxxxxxx-xxxx-4xxx-yxxx-xxxxxxxxxxxx".replace(/[xy]/g,function(c){var r=16*ma.random()|0,v="x"==c?r:3&r|8;return v.toString(16)})},RG.ObjectRegistry.add=RG.ObjectRegistry.Add=function(obj){var uid=obj.uid,id=obj.canvas.id;RG.ObjectRegistry.objects.byUID.push([uid,obj]),RG.ObjectRegistry.objects.byCanvasID.push([id,obj])},RG.ObjectRegistry.remove=RG.ObjectRegistry.Remove=function(obj){for(var uid=(obj.id,obj.uid),i=0;i<RG.ObjectRegistry.objects.byUID.length;++i)RG.ObjectRegistry.objects.byUID[i]&&RG.ObjectRegistry.objects.byUID[i][1].uid==uid&&(RG.ObjectRegistry.objects.byUID[i]=null);for(var i=0;i<RG.ObjectRegistry.objects.byCanvasID.length;++i)RG.ObjectRegistry.objects.byCanvasID[i]&&RG.ObjectRegistry.objects.byCanvasID[i][1]&&RG.ObjectRegistry.objects.byCanvasID[i][1].uid==uid&&(RG.ObjectRegistry.objects.byCanvasID[i]=null)},RG.ObjectRegistry.clear=RG.ObjectRegistry.Clear=function(){if(arguments[0])for(var id="object"==typeof arguments[0]?arguments[0].id:arguments[0],objects=RG.ObjectRegistry.getObjectsByCanvasID(id),i=0,len=objects.length;len>i;++i)RG.ObjectRegistry.remove(objects[i]);else RG.ObjectRegistry.objects={},RG.ObjectRegistry.objects.byUID=[],RG.ObjectRegistry.objects.byCanvasID=[]},RGraph.ObjectRegistry.list=RGraph.ObjectRegistry.List=function(){for(var list=[],i=0,len=RG.ObjectRegistry.objects.byUID.length;len>i;++i)RG.ObjectRegistry.objects.byUID[i]&&list.push(RG.ObjectRegistry.objects.byUID[i][1].type);return arguments[0]?list:void p(list)},RG.ObjectRegistry.clearByType=RG.ObjectRegistry.ClearByType=function(type){for(var objects=RG.ObjectRegistry.objects.byUID,i=0,len=objects.length;len>i;++i)if(objects[i]){var obj=(objects[i][0],objects[i][1]);obj&&obj.type==type&&RG.ObjectRegistry.remove(obj)}},RG.ObjectRegistry.iterate=RG.ObjectRegistry.Iterate=function(func){for(var objects=RGraph.ObjectRegistry.objects.byUID,i=0,len=objects.length;len>i;++i)if("string"==typeof arguments[1])for(var types=arguments[1].split(/,/),j=0,len2=types.length;len2>j;++j)types[j]==objects[i][1].type&&func(objects[i][1]);else func(objects[i][1])},RG.ObjectRegistry.getObjectsByCanvasID=function(id){for(var store=RG.ObjectRegistry.objects.byCanvasID,ret=[],i=0,len=store.length;len>i;++i)store[i]&&store[i][0]==id&&ret.push(store[i][1]);return ret},RG.ObjectRegistry.getFirstObjectByXY=RG.ObjectRegistry.getObjectByXY=function(e){for(var canvas=e.target,objects=RG.ObjectRegistry.getObjectsByCanvasID(canvas.id),i=objects.length-1;i>=0;--i){var obj=objects[i].getObjectByXY(e);if(obj)return obj}},RG.ObjectRegistry.getObjectsByXY=function(e){for(var canvas=e.target,ret=[],objects=RG.ObjectRegistry.getObjectsByCanvasID(canvas.id),i=objects.length-1;i>=0;--i){var obj=objects[i].getObjectByXY(e);obj&&ret.push(obj)}return ret},RG.ObjectRegistry.getObjectByUID=function(uid){for(var objects=RG.ObjectRegistry.objects.byUID,i=0,len=objects.length;len>i;++i)if(objects[i]&&objects[i][1].uid==uid)return objects[i][1]},RG.ObjectRegistry.bringToFront=function(obj){var redraw="undefined"==typeof arguments[1]?!0:arguments[1];RG.ObjectRegistry.remove(obj),RG.ObjectRegistry.add(obj),redraw&&RG.redrawCanvas(obj.canvas)},RG.ObjectRegistry.getObjectsByType=function(type){for(var objects=RG.ObjectRegistry.objects.byUID,ret=[],i=0,len=objects.length;len>i;++i)objects[i]&&objects[i][1]&&objects[i][1].type&&objects[i][1].type&&objects[i][1].type==type&&ret.push(objects[i][1]);return ret},RG.ObjectRegistry.getFirstObjectByType=function(type){for(var objects=RG.ObjectRegistry.objects.byUID,i=0,len=objects.length;len>i;++i)if(objects[i]&&objects[i][1]&&objects[i][1].type==type)return objects[i][1];return null},RG.getAngleByXY=function(cx,cy,x,y){var angle=ma.atan((y-cy)/(x-cx));return angle=ma.abs(angle),x>=cx&&y>=cy?angle+=RG.TWOPI:x>=cx&&cy>y?angle=RG.HALFPI-angle+(RG.PI+RG.HALFPI):cx>x&&cy>y?angle+=RG.PI:angle=RG.PI-angle,angle>RG.TWOPI&&(angle-=RG.TWOPI),angle},RG.getHypLength=function(x1,y1,x2,y2){var ret=ma.sqrt((x2-x1)*(x2-x1)+(y2-y1)*(y2-y1));return ret},RG.getRadiusEndPoint=function(cx,cy,angle,radius){var x=cx+ma.cos(angle)*radius,y=cy+ma.sin(angle)*radius;return[x,y]},RG.installEventListeners=RG.InstallEventListeners=function(obj){var prop=obj.properties;RG.ISOLD||(RG.installCanvasClickListener?(RG.installWindowMousedownListener(obj),RG.installWindowMouseupListener(obj),RG.installCanvasMousemoveListener(obj),RG.installCanvasMouseupListener(obj),RG.installCanvasMousedownListener(obj),RG.installCanvasClickListener(obj)):(RG.hasTooltips(obj)||prop["chart.adjustable"]||prop["chart.annotatable"]||prop["chart.contextmenu"]||prop["chart.resizable"]||prop["chart.key.interactive"]||prop["chart.events.click"]||prop["chart.events.mousemove"]||"function"==typeof obj.onclick||"function"==typeof obj.onmousemove)&&alert("[RGRAPH] You appear to have used dynamic features but not included the file: RGraph.common.dynamic.js"))},RG.pr=function(obj){var indent=arguments[2]?arguments[2]:"    ",str="",counter="number"==typeof arguments[3]?arguments[3]:0;if(counter>=5)return"";switch(typeof obj){case"string":str+=obj+" ("+typeof obj+", "+obj.length+")";break;case"number":str+=obj+" ("+typeof obj+")";break;case"boolean":str+=obj+" ("+typeof obj+")";break;case"function":str+="function () {}";break;case"undefined":str+="undefined";break;case"null":str+="null";break;case"object":if(RGraph.is_null(obj))str+=indent+"null\n";else{str+=indent+"Object {\n";for(j in obj)str+=indent+"    "+j+" => "+RGraph.pr(obj[j],!0,indent+"    ",counter+1)+"\n";str+=indent+"}"}break;default:str+="Unknown type: "+typeof obj}return arguments[1]||alert(str),str},RG.dashedLine=RG.DashedLine=function(co,x1,y1,x2,y2){var size=5;"number"==typeof arguments[5]&&(size=arguments[5]);var dx=x2-x1,dy=y2-y1,num=ma.floor(ma.sqrt(dx*dx+dy*dy)/size),xLen=dx/num,yLen=dy/num,count=0;do count%2==0&&count>0?co.lineTo(x1,y1):co.moveTo(x1,y1),x1+=xLen,y1+=yLen;while(count++<=num)},RG.AJAX=function(url,callback){if(window.XMLHttpRequest)var httpRequest=new XMLHttpRequest;else if(window.ActiveXObject)var httpRequest=new ActiveXObject("Microsoft.XMLHTTP");httpRequest.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=callback,this.__user_callback__(this.responseText))},httpRequest.open("GET",url,!0),httpRequest.send()},RG.AJAX.POST=function(url,data,callback){var crumbs=[];if(window.XMLHttpRequest)var httpRequest=new XMLHttpRequest;else if(window.ActiveXObject)var httpRequest=new ActiveXObject("Microsoft.XMLHTTP");httpRequest.onreadystatechange=function(){4==this.readyState&&200==this.status&&(this.__user_callback__=callback,this.__user_callback__(this.responseText))},httpRequest.open("POST",url,!0),httpRequest.setRequestHeader("Content-type","application/x-www-form-urlencoded");for(i in data)"string"==typeof i&&crumbs.push(i+"="+encodeURIComponent(data[i]));httpRequest.send(crumbs.join("&"))},RG.AJAX.getNumber=function(url,callback){RG.AJAX(url,function(){var num=parseFloat(this.responseText);callback(num)})},RG.AJAX.getString=function(url,callback){RG.AJAX(url,function(){var str=String(this.responseText);callback(str)})},RG.AJAX.getJSON=function(url,callback){RG.AJAX(url,function(){var json=eval("("+this.responseText+")");callback(json)})},RG.AJAX.getCSV=function(url,callback){var seperator=arguments[2]?arguments[2]:",";RG.AJAX(url,function(){for(var regexp=new RegExp(seperator),arr=this.responseText.split(regexp),i=0,len=arr.length;len>i;++i)arr[i]=parseFloat(arr[i]);callback(arr)})},RG.rotateCanvas=RG.RotateCanvas=function(ca,x,y,angle){var co=ca.getContext("2d");co.translate(x,y),co.rotate(angle),co.translate(0-x,0-y)},RG.measureText=RG.MeasureText=function(text,bold,font,size){"undefined"==typeof RGraph.measuretext_cache&&(RGraph.measuretext_cache=[]);var str=text+":"+bold+":"+font+":"+size;if("object"==typeof RGraph.measuretext_cache&&RGraph.measuretext_cache[str])return RGraph.measuretext_cache[str];if(RGraph.measuretext_cache["text-div"]){if(RGraph.measuretext_cache["text-div"])var div=RGraph.measuretext_cache["text-div"]}else{var div=document.createElement("DIV");div.style.position="absolute",div.style.top="-100px",div.style.left="-100px",document.body.appendChild(div),RGraph.measuretext_cache["text-div"]=div}div.innerHTML=text.replace(/\r\n/g,"<br />"),div.style.fontFamily=font,div.style.fontWeight=bold?"bold":"normal",div.style.fontSize=(size||12)+"pt";var size=[div.offsetWidth,div.offsetHeight];return RGraph.measuretext_cache[str]=size,size},RG.text2=RG.Text2=function(obj,opt){if(obj&&obj.isRGraph)var co=obj.context,ca=obj.canvas;else if("string"==typeof obj)var ca=document.getElementById(obj),co=ca.getContext("2d");else if("function"==typeof obj.getContext)var ca=obj,co=ca.getContext("2d");
else if(-1!=obj.toString().indexOf("CanvasRenderingContext2D")||RGraph.ISIE8&&obj.moveTo)var co=obj,ca=obj.canvas;else if(RG.ISOLD&&obj.fillText)var co=obj,ca=obj.canvas;var x=opt.x,y=opt.y,originalX=x,originalY=y,text=opt.text,text_multiline=text.split(/\r?\n/g),numlines=text_multiline.length,font=opt.font?opt.font:"Arial",size=opt.size?opt.size:10,size_pixels=1.5*size,halign=(opt.bold,opt.halign?opt.halign:"left"),valign=opt.valign?opt.valign:"bottom",tag="string"==typeof opt.tag&&opt.tag.length>0?opt.tag:"",angle=(opt.marker,opt.angle||0);"string"==typeof opt.boundingFill&&(opt["bounding.fill"]=opt.boundingFill),"string"==typeof opt.boundingStroke&&(opt["bounding.stroke"]=opt.boundingStroke);var bounding=opt.bounding,bounding_stroke=opt["bounding.stroke"]?opt["bounding.stroke"]:"black",bounding_fill=opt["bounding.fill"]?opt["bounding.fill"]:"rgba(255,255,255,0.7)",bounding_shadow=opt["bounding.shadow"],bounding_shadow_color=opt["bounding.shadow.color"]||"#ccc",bounding_shadow_blur=opt["bounding.shadow.blur"]||3,bounding_shadow_offsetx=opt["bounding.shadow.offsetx"]||3,bounding_shadow_offsety=opt["bounding.shadow.offsety"]||3,bounding_linewidth=opt["bounding.linewidth"]||1,ret={};if("number"==typeof text&&(text=String(text)),"string"!=typeof text)return void alert("[RGRAPH TEXT] The text given must a string or a number");0!=angle&&(co.save(),co.translate(x,y),co.rotate(ma.PI/180*angle),x=0,y=0),co.font=(opt.bold?"bold ":"")+size+"pt "+font;for(var width=0,i=0;numlines>i;++i)width=ma.max(width,co.measureText(text_multiline[i]).width);var height=size_pixels*numlines;if(opt.marker){var marker_size=10,strokestyle=co.strokeStyle;co.beginPath(),co.strokeStyle="red",co.moveTo(x,y-marker_size),co.lineTo(x,y+marker_size),co.moveTo(x-marker_size,y),co.lineTo(x+marker_size,y),co.stroke(),co.strokeStyle=strokestyle}if("center"==halign){co.textAlign="center";var boundingX=x-2-width/2}else if("right"==halign){co.textAlign="right";var boundingX=x-2-width}else{co.textAlign="left";var boundingX=x-2}if("center"==valign){co.textBaseline="middle",y-=1,y-=(numlines-1)/2*size_pixels;var boundingY=y-size_pixels/2-2}else if("top"==valign){co.textBaseline="top";var boundingY=y-2}else{co.textBaseline="bottom",numlines>1&&(y-=(numlines-1)*size_pixels);var boundingY=y-size_pixels-2}var boundingW=width+4,boundingH=height+4;if(bounding){var pre_bounding_linewidth=co.lineWidth,pre_bounding_strokestyle=co.strokeStyle,pre_bounding_fillstyle=co.fillStyle,pre_bounding_shadowcolor=co.shadowColor,pre_bounding_shadowblur=co.shadowBlur,pre_bounding_shadowoffsetx=co.shadowOffsetX,pre_bounding_shadowoffsety=co.shadowOffsetY;co.lineWidth=bounding_linewidth,co.strokeStyle=bounding_stroke,co.fillStyle=bounding_fill,bounding_shadow&&(co.shadowColor=bounding_shadow_color,co.shadowBlur=bounding_shadow_blur,co.shadowOffsetX=bounding_shadow_offsetx,co.shadowOffsetY=bounding_shadow_offsety),co.strokeRect(boundingX,boundingY,boundingW,boundingH),co.fillRect(boundingX,boundingY,boundingW,boundingH),co.lineWidth=pre_bounding_linewidth,co.strokeStyle=pre_bounding_strokestyle,co.fillStyle=pre_bounding_fillstyle,co.shadowColor=pre_bounding_shadowcolor,co.shadowBlur=pre_bounding_shadowblur,co.shadowOffsetX=pre_bounding_shadowoffsetx,co.shadowOffsetY=pre_bounding_shadowoffsety}if(numlines>1)for(var i=0;numlines>i;++i)co.fillText(text_multiline[i],x,y+size_pixels*i);else co.fillText(text,x,y);return 0!=angle&&(90==angle?"left"==halign?("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-height-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4)):"center"==halign?("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4)):"right"==halign&&("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4)):180==angle?"left"==halign?("bottom"==valign&&(boundingX=originalX-width-2,boundingY=originalY-2,boundingW=width+4,boundingH=height+4),"center"==valign&&(boundingX=originalX-width-2,boundingY=originalY-height/2-2,boundingW=width+4,boundingH=height+4),"top"==valign&&(boundingX=originalX-width-2,boundingY=originalY-height-2,boundingW=width+4,boundingH=height+4)):"center"==halign?("bottom"==valign&&(boundingX=originalX-width/2-2,boundingY=originalY-2,boundingW=width+4,boundingH=height+4),"center"==valign&&(boundingX=originalX-width/2-2,boundingY=originalY-height/2-2,boundingW=width+4,boundingH=height+4),"top"==valign&&(boundingX=originalX-width/2-2,boundingY=originalY-height-2,boundingW=width+4,boundingH=height+4)):"right"==halign&&("bottom"==valign&&(boundingX=originalX-2,boundingY=originalY-2,boundingW=width+4,boundingH=height+4),"center"==valign&&(boundingX=originalX-2,boundingY=originalY-height/2-2,boundingW=width+4,boundingH=height+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-height-2,boundingW=width+4,boundingH=height+4)):270==angle&&("left"==halign?("bottom"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-4,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-width-2,boundingW=height+4,boundingH=width+4)):"center"==halign?("bottom"==valign&&(boundingX=originalX-height-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-4,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-width/2-2,boundingW=height+4,boundingH=width+4)):"right"==halign&&("bottom"==valign&&(boundingX=originalX-height-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"center"==valign&&(boundingX=originalX-height/2-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4),"top"==valign&&(boundingX=originalX-2,boundingY=originalY-2,boundingW=height+4,boundingH=width+4))),co.restore()),co.textBaseline="alphabetic",co.textAlign="left",ret.x=boundingX,ret.y=boundingY,ret.width=boundingW,ret.height=boundingH,ret.object=obj,ret.text=text,ret.tag=tag,obj&&obj.isRGraph&&obj.coordsText&&obj.coordsText.push(ret),ret},RG.sequentialIndexToGrouped=function(index,data){for(var group=0,grouped_index=0;--index>=0;)RG.is_null(data[group])?(group++,grouped_index=0):"number"!=typeof data[group]?(grouped_index++,grouped_index>=data[group].length&&(group++,grouped_index=0)):(group++,grouped_index=0);return[group,grouped_index]},RG.Highlight.rect=RG.Highlight.Rect=function(obj,shape){var co=(obj.canvas,obj.context),prop=obj.properties;prop["chart.tooltips.highlight"]&&(co.lineWidth=1,co.beginPath(),co.strokeStyle=prop["chart.highlight.stroke"],co.fillStyle=prop["chart.highlight.fill"],co.rect(shape.x,shape.y,shape.width,shape.height),co.stroke(),co.fill())},RG.Highlight.point=RG.Highlight.Point=function(obj,shape){var prop=obj.properties,co=(obj.canvas,obj.context);if(prop["chart.tooltips.highlight"]){co.beginPath(),co.strokeStyle=prop["chart.highlight.stroke"],co.fillStyle=prop["chart.highlight.fill"];var radius=prop["chart.highlight.point.radius"]||2;co.arc(shape.x,shape.y,radius,0,RG.TWOPI,0),co.stroke(),co.fill()}},RG.parseDate=function(str){if(str=RG.trim(str),"now"===str&&(str=(new Date).toString()),str.match(/^(\d\d\d\d)(-|\/)(\d\d)(-|\/)(\d\d)( |T)(\d\d):(\d\d):(\d\d)$/)&&(str=RegExp.$1+"-"+RegExp.$3+"-"+RegExp.$5+"T"+RegExp.$7+":"+RegExp.$8+":"+RegExp.$9),str.match(/^\d\d\d\d-\d\d-\d\d$/)&&(str=str.replace(/-/g,"/")),str.match(/^\d\d:\d\d:\d\d$/)){var dateObj=new Date,date=dateObj.getDate(),month=dateObj.getMonth()+1,year=dateObj.getFullYear();1===String(month).length&&(month="0"+month),1===String(date).length&&(date="0"+date),str=year+"/"+month+"/"+date+" "+str}return Date.parse(str)},RG.resetColorsToOriginalValues=function(obj){if(obj.original_colors)for(var j in obj.original_colors)"string"==typeof j&&"chart."===j.substr(0,6)&&(obj.properties[j]=RG.arrayClone(obj.original_colors[j]));"function"==typeof obj.resetColorsToOriginalValues&&obj.resetColorsToOriginalValues(),obj.colorsParsed=!1},RG.path=RG.Path=function(obj,path){if(obj.isRGraph&&"string"==typeof obj.type)var co=obj.context;else var co=obj;"string"==typeof path&&(path=path.split(/ +/));for(var i=0,len=path.length;len>i;i+=1){var op=path[i];switch(op){case"b":co.beginPath();break;case"c":co.closePath();break;case"m":co.moveTo(parseFloat(path[i+1]),parseFloat(path[i+2])),i+=2;break;case"l":co.lineTo(parseFloat(path[i+1]),parseFloat(path[i+2])),i+=2;break;case"s":co.strokeStyle=path[i+1],co.stroke(),i+=1;break;case"f":co.fillStyle=path[i+1],co.fill(),i+=1;break;case"qc":co.quadraticCurveTo(parseFloat(path[i+1]),parseFloat(path[i+2]),parseFloat(path[i+3]),parseFloat(path[i+4])),i+=4;break;case"bc":co.bezierCurveTo(parseFloat(path[i+1]),parseFloat(path[i+2]),parseFloat(path[i+3]),parseFloat(path[i+4]),parseFloat(path[i+5]),parseFloat(path[i+6])),i+=6;break;case"r":co.rect(parseFloat(path[i+1]),parseFloat(path[i+2]),parseFloat(path[i+3]),parseFloat(path[i+4])),i+=4;break;case"a":co.arc(parseFloat(path[i+1]),parseFloat(path[i+2]),parseFloat(path[i+3]),parseFloat(path[i+4]),parseFloat(path[i+5]),"true"===path[i+6]||path[i+6]===!0?!0:!1),i+=6;break;case"at":co.arcTo(parseFloat(path[i+1]),parseFloat(path[i+2]),parseFloat(path[i+3]),parseFloat(path[i+4]),parseFloat(path[i+5])),i+=5;break;case"lw":co.lineWidth=parseFloat(path[i+1]),i+=1;break;case"lj":co.lineJoin=path[i+1],i+=1;break;case"lc":co.lineCap=path[i+1],i+=1;break;case"sc":co.shadowColor=path[i+1],i+=1;break;case"sb":co.shadowBlur=parseFloat(path[i+1]),i+=1;break;case"sx":co.shadowOffsetX=parseFloat(path[i+1]),i+=1;break;case"sy":co.shadowOffsetY=parseFloat(path[i+1]),i+=1;break;case"fu":path[i+1](obj),i+=1}}},RG.linearGradient=RG.LinearGradient=function(obj,x1,y1,x2,y2){for(var gradient=obj.context.createLinearGradient(x1,y1,x2,y2),numColors=arguments.length-5,i=5;i<arguments.length;++i){var color=arguments[i],stop=(i-5)/(numColors-1);gradient.addColorStop(stop,color)}return gradient},RG.radialGradient=RG.RadialGradient=function(obj,x1,y1,r1,x2,y2,r2){for(var gradient=obj.context.createRadialGradient(x1,y1,r1,x2,y2,r2),numColors=arguments.length-7,i=7;i<arguments.length;++i){var color=arguments[i],stop=(i-7)/(numColors-1);gradient.addColorStop(stop,color)}return gradient},RG.addEventListener=RG.AddEventListener=function(id,e,func){var type=arguments[3]?arguments[3]:"unknown";RG.Registry.get("chart.event.handlers").push([id,e,func,type])},RG.clearEventListeners=RG.ClearEventListeners=function(id){if(id&&"window"==id)window.removeEventListener("mousedown",window.__rgraph_mousedown_event_listener_installed__,!1),window.removeEventListener("mouseup",window.__rgraph_mouseup_event_listener_installed__,!1);else{var canvas=document.getElementById(id);canvas.removeEventListener("mouseup",canvas.__rgraph_mouseup_event_listener_installed__,!1),canvas.removeEventListener("mousemove",canvas.__rgraph_mousemove_event_listener_installed__,!1),canvas.removeEventListener("mousedown",canvas.__rgraph_mousedown_event_listener_installed__,!1),canvas.removeEventListener("click",canvas.__rgraph_click_event_listener_installed__,!1)}},RG.hidePalette=RG.HidePalette=function(){var div=RG.Registry.get("palette");"object"==typeof div&&div&&(div.style.visibility="hidden",div.style.display="none",RG.Registry.set("palette",null))},RG.random=function(min,max){var dp=arguments[2]?arguments[2]:0,r=ma.random();return Number(((max-min)*r+min).toFixed(dp))},RG.random.array=function(num,min,max){for(var arr=[],i=0;num>i;i+=1)arr.push(RG.random(min,max));return arr},RG.noShadow=RG.NoShadow=function(obj){var co=obj.context;co.shadowColor="rgba(0,0,0,0)",co.shadowBlur=0,co.shadowOffsetX=0,co.shadowOffsetY=0},RG.setShadow=RG.SetShadow=function(obj,color,offsetx,offsety,blur){var co=obj.context;co.shadowColor=color,co.shadowOffsetX=offsetx,co.shadowOffsetY=offsety,co.shadowBlur=blur},RG.Registry.set=RG.Registry.Set=function(name,value){return RG.Registry.store[name]=value,value},RG.Registry.get=RG.Registry.Get=function(name){return RG.Registry.store[name]},RG.degrees2Radians=function(deg){return deg*(RG.PI/180)},RG.log=function(n,base){return ma.log(n)/(base?ma.log(base):1)},RG.isArray=RG.is_array=function(obj){return null!=obj&&-1!=obj.constructor.toString().indexOf("Array")},RG.trim=function(str){return RG.ltrim(RG.rtrim(str))},RG.ltrim=function(str){return str.replace(/^(\s|\0)+/,"")},RG.rtrim=function(str){return str.replace(/(\s|\0)+$/,"")},RG.isNull=RG.is_null=function(arg){return null==arg||"object"==typeof arg&&!arg?!0:!1},RG.async=RG.Async=function(func){return setTimeout(func,arguments[1]?arguments[1]:1)},RG.reset=RG.Reset=function(ca){ca.width=ca.width,RG.ObjectRegistry.clear(ca),ca.__rgraph_aa_translated__=!1},RG.getCanvasTag=function(id){id="object"==typeof id?id.id:id;var canvas=doc.getElementById(id);return[id,canvas]},RG.Effects.updateCanvas=RG.Effects.UpdateCanvas=function(func){win.requestAnimationFrame=win.requestAnimationFrame||win.webkitRequestAnimationFrame||win.msRequestAnimationFrame||win.mozRequestAnimationFrame||function(func){setTimeout(func,16.666)},win.requestAnimationFrame(func)},RG.Effects.getEasingMultiplier=function(frames,frame){return ma.pow(ma.sin(frame/frames*RG.HALFPI),3)},RG.stringsToNumbers=function(str){var sep=arguments[1]||",";if("number"==typeof str)return str;if("string"==typeof str&&(str=-1!=str.indexOf(sep)?str.split(sep):parseFloat(str)),"object"==typeof str)for(var i=0,len=str.length;len>i;i+=1)str[i]=parseFloat(str[i]);return str},RG.cachedDraw=function(obj,id,func){RG.cache[id]||(RG.cache[id]={},RG.cache[id].object=obj,RG.cache[id].canvas=$("<canvas></canvas>").attr({width:obj.canvas.width,height:obj.canvas.height,id:"background_cached_canvas"+obj.canvas.id}).get(0),"object"==typeof G_vmlCanvasManager&&G_vmlCanvasManager.initElement&&G_vmlCanvasManager.initElement(RG.cache[id].canvas),RG.cache[id].context=RG.cache[id].canvas.getContext("2d"),RG.cache[id].context.translate(.5,.5),func(obj,RG.cache[id].canvas,RG.cache[id].context)),obj.context.drawImage(RG.cache[id].canvas,-.5,-.5)},RG.parseObjectStyleConfig=function(obj,config){var recurse=function(obj,config,name,settings){for(key in config){var isObject=!1,isArray=!1,value=config[key];!RG.isNull(value)&&value.constructor&&(isObject=value.constructor.toString().indexOf("Object")>0,isArray=value.constructor.toString().indexOf("Array")>0),isObject&&!isArray?recurse(obj,config[key],name+"."+key,settings):"self"===key?settings[name]=value:settings[name+"."+key]=value}return settings},settings=recurse(obj,config,"chart",{});for(key in settings)"string"==typeof key&&obj.set(key,settings[key])}}(window,document),window.$p=function(){RGraph.pr(arguments[0],arguments[1],arguments[3])},window.$a=function(v){alert(v)},window.$cl=function(v){return console.log(v)},define("app/libs/RGraph.common.core",function(){}),RGraph=window.RGraph||{isRGraph:!0},function(win){RGraph,navigator.userAgent,Math;RGraph.installWindowMousedownListener=RGraph.InstallWindowMousedownListener=function(){RGraph.window_mousedown_event_listener||(RGraph.window_mousedown_event_listener=function(e){navigator.userAgent.indexOf("Firefox")>=0&&(win.event=e),e=RGraph.FixEventObject(e),RGraph.HideTooltip&&RGraph.Registry.Get("chart.tooltip")&&(RGraph.clear(RGraph.Registry.Get("chart.tooltip").__canvas__),RGraph.redraw(),RGraph.hideTooltip())},win.addEventListener("mousedown",RGraph.window_mousedown_event_listener,!1))},RGraph.installWindowMouseupListener=RGraph.InstallWindowMouseupListener=function(){RGraph.window_mouseup_event_listener||(RGraph.window_mouseup_event_listener=function(e){if(navigator.userAgent.indexOf("Firefox")>=0&&(win.event=e),e=RGraph.FixEventObject(e),RGraph.Annotating_window_onmouseup)return void RGraph.Annotating_window_onmouseup(e);if(RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt")){var obj=RGraph.Registry.Get("chart.adjusting");obj&&"line"===obj.type&&(obj.data_arr=RGraph.arrayLinearize(obj.data)),RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend")}RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null);for(var tags=document.getElementsByTagName("canvas"),i=0;i<tags.length;++i)if(tags[i].__object__&&tags[i].__object__.isRGraph&&!tags[i].__object__.Get("chart.annotatable"))if(tags[i].__rgraph_trace_cover__||noredraw)var noredraw=!0;else RGraph.Clear(tags[i]);noredraw||RGraph.Redraw()},win.addEventListener("mouseup",RGraph.window_mouseup_event_listener,!1))},RGraph.installCanvasMouseupListener=RGraph.InstallCanvasMouseupListener=function(obj){obj.canvas.rgraph_mouseup_event_listener||(obj.canvas.rgraph_mouseup_event_listener=function(e){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=e),e=RGraph.FixEventObject(e);var objects=RGraph.ObjectRegistry.getObjectsByXY(e);if(objects)for(var i=0,len=objects.length;len>i;i+=1){var obj=objects[i],link=(objects[i].id,obj.Get("link"));if("drawing.text"==obj.type&&"string"==typeof link){var link_target=obj.Get("link.target"),link_options=obj.Get("link.options");window.open(link,link_target?link_target:null,link_options)}if(!RGraph.is_null(obj)&&RGraph.Tooltip){var shape=obj.getShape(e);if(shape&&shape.tooltip){var text=shape.tooltip;if(text){var type=shape.object.type;if("line"==type||"rscatter"==type||"scatter"==type&&!obj.Get("chart.boxplot")||"radar"==type)var canvasXY=RGraph.getCanvasXY(obj.canvas),x=canvasXY[0]+shape.x,y=canvasXY[1]+shape.y;else var x=e.pageX,y=e.pageY;return RGraph.Clear(obj.canvas),RGraph.Redraw(),obj.Highlight(shape),RGraph.Registry.Set("chart.tooltip.shape",shape),RGraph.Tooltip(obj,text,x,y,shape.index,e),RGraph.Registry.Get("chart.tooltip")&&(RGraph.Registry.Get("chart.tooltip").__shape__=shape,RGraph.EvaluateCursor(e)),e.cancelBubble=!0,e.stopPropagation(),!1}}}if((RGraph.Registry.Get("chart.adjusting")||RGraph.Registry.Get("chart.adjusting.gantt"))&&(obj&&"line"===obj.type&&(obj.data_arr=RGraph.arrayLinearize(obj.data)),RGraph.FireCustomEvent(RGraph.Registry.Get("chart.adjusting"),"onadjustend")),RGraph.Registry.Set("chart.adjusting",null),RGraph.Registry.Set("chart.adjusting.shape",null),RGraph.Registry.Set("chart.adjusting.gantt",null),shape||obj.overChartArea&&obj.overChartArea(e))break}},obj.canvas.addEventListener("mouseup",obj.canvas.rgraph_mouseup_event_listener,!1))},RGraph.installCanvasMousemoveListener=RGraph.InstallCanvasMousemoveListener=function(obj){obj.canvas.rgraph_mousemove_event_listener||(obj.canvas.rgraph_mousemove_event_listener=function(e){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=e),e=RGraph.FixEventObject(e);var objects=RGraph.ObjectRegistry.getObjectsByXY(e);if(objects&&objects.length>0)for(var i=0,len=objects.length;len>i;i+=1){{var obj=objects[i];obj.id}if(obj.getShape){var shape=obj.getShape(e),func=obj.Get("chart.events.mousemove");if(!func&&"function"==typeof obj.onmousemove)var func=obj.onmousemove;if(shape){var index="scatter"==shape.object.type?shape.index_adjusted:shape.index;if("object"==typeof obj["$"+index]&&"function"==typeof obj["$"+index].onmousemove)var func2=obj["$"+index].onmousemove}if(!shape||"function"!=typeof func&&"function"!=typeof func2&&"string"!=typeof obj.Get("link")?"string"==typeof obj.Get("chart.events.mousemove.revertto")&&(RGraph.cursor.push("default"),obj.Set("chart.events.mousemove.revertto",null)):(null==obj.Get("chart.events.mousemove.revertto")&&obj.Set("chart.events.mousemove.revertto",e.target.style.cursor),"function"==typeof func&&func(e,shape),"function"==typeof func2&&func2(e,shape)),shape&&(obj.Get("chart.tooltips")&&obj.Get("chart.tooltips")[shape.index]||shape.tooltip)&&("onmousemove"==obj.Get("chart.tooltips.event")||"mousemove"==obj.Get("chart.tooltips.event"))&&(RGraph.is_null(RGraph.Registry.Get("chart.tooltip"))||RGraph.Registry.Get("chart.tooltip").__index__!=shape.index||"number"==typeof shape.dataset&&shape.dataset!=RGraph.Registry.Get("chart.tooltip").__shape__.dataset||obj.uid!=RGraph.Registry.Get("chart.tooltip").__object__.uid))return RGraph.Clear(obj.canvas),RGraph.Redraw(),void obj.canvas.rgraph_mouseup_event_listener(e);if(obj&&obj.Get("chart.adjustable")&&obj.Adjusting_mousemove(e),shape||obj.overChartArea&&obj.overChartArea(e))break}}e.target&&e.target.__object__&&e.target.__object__.Get("chart.crosshairs")&&RGraph.DrawCrosshairs(e,e.target.__object__),e.target.__object__&&e.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousemove&&RGraph.Annotating_canvas_onmousemove(e),RGraph.EvaluateCursor(e)},obj.canvas.addEventListener("mousemove",obj.canvas.rgraph_mousemove_event_listener,!1))},RGraph.installCanvasMousedownListener=RGraph.InstallCanvasMousedownListener=function(obj){obj.canvas.rgraph_mousedown_event_listener||(obj.canvas.rgraph_mousedown_event_listener=function(e){if(navigator.userAgent.indexOf("Firefox")>=0&&(window.event=e),e=RGraph.FixEventObject(e),e.target.__object__&&e.target.__object__.Get("chart.annotatable")&&RGraph.Annotating_canvas_onmousedown)return void RGraph.Annotating_canvas_onmousedown(e);var obj=RGraph.ObjectRegistry.getObjectByXY(e);if(obj){{obj.id}if(obj&&obj.isRGraph&&obj.Get("chart.adjustable")){var obj=RGraph.ObjectRegistry.getObjectByXY(e);if(obj&&obj.isRGraph){switch(obj.type){case"bar":var shape=obj.getShapeByX(e);break;case"gantt":var shape=obj.getShape(e);if(shape){var mouseXY=RGraph.getMouseXY(e);RGraph.Registry.Set("chart.adjusting.gantt",{index:shape.index,object:obj,mousex:mouseXY[0],mousey:mouseXY[1],event_start:obj.data[shape.index][0],event_duration:obj.data[shape.index][1],mode:mouseXY[0]>shape.x+shape.width-5?"resize":"move",shape:shape})}break;case"line":var shape=obj.getShape(e);break;default:var shape=null}RGraph.Registry.Set("chart.adjusting.shape",shape),RGraph.FireCustomEvent(obj,"onadjustbegin"),RGraph.Registry.Set("chart.adjusting",obj),RGraph.Clear(obj.canvas),RGraph.Redraw(),obj.canvas.rgraph_mousemove_event_listener(e)}}RGraph.Clear(obj.canvas),RGraph.Redraw()}},obj.canvas.addEventListener("mousedown",obj.canvas.rgraph_mousedown_event_listener,!1))},RGraph.installCanvasClickListener=RGraph.InstallCanvasClickListener=function(obj){obj.canvas.rgraph_click_event_listener||(obj.canvas.rgraph_click_event_listener=function(e){navigator.userAgent.indexOf("Firefox")>=0&&(window.event=e),e=RGraph.FixEventObject(e);for(var objects=RGraph.ObjectRegistry.getObjectsByXY(e),i=0,len=objects.length;len>i;i+=1){var obj=objects[i],shape=(obj.id,obj.getShape(e)),func=obj.Get("chart.events.click");if(func||"function"!=typeof obj.onclick||(func=obj.onclick),shape&&"function"==typeof func)return void func(e,shape);if(shape){var index="scatter"==shape.object.type?shape.index_adjusted:shape.index;if("number"==typeof index&&obj["$"+index]){var func=obj["$"+index].onclick;if("function"==typeof func)return void func(e,shape)}}if(shape||obj.overChartArea&&obj.overChartArea(e))break}},obj.canvas.addEventListener("click",obj.canvas.rgraph_click_event_listener,!1))},RGraph.evaluateCursor=RGraph.EvaluateCursor=function(e){for(var obj=null,mouseXY=RGraph.getMouseXY(e),mouseX=mouseXY[0],mouseY=mouseXY[1],canvas=e.target,objects=RGraph.ObjectRegistry.getObjectsByCanvasID(canvas.id),i=0,len=objects.length;len>i;i+=1)if(objects[i].getShape&&objects[i].getShape(e)||objects[i].overChartArea&&objects[i].overChartArea(e)){var obj=objects[i];obj.id}if(!RGraph.is_null(obj)){if(obj.getShape&&obj.getShape(e)){var shape=obj.getShape(e);if(obj.Get("chart.tooltips")){var text=RGraph.parseTooltipText(obj.Get("chart.tooltips"),shape.index);if(!text&&"scatter"==shape.object.type&&shape.index_adjusted&&(text=RGraph.parseTooltipText(obj.Get("chart.tooltips"),shape.index_adjusted)),text)var pointer=!0}}if(!RGraph.is_null(obj)&&obj.Get("chart.key.interactive"))for(var j=0;j<obj.coords.key.length;++j)if(mouseX>obj.coords.key[j][0]&&mouseX<obj.coords.key[j][0]+obj.coords.key[j][2]&&mouseY>obj.coords.key[j][1]&&mouseY<obj.coords.key[j][1]+obj.coords.key[j][3])var pointer=!0}if(!RGraph.is_null(shape)&&!RGraph.is_null(obj)){if(!RGraph.is_null(obj.Get("chart.events.mousemove"))&&"function"==typeof obj.Get("chart.events.mousemove")){var str=obj.Get("chart.events.mousemove").toString();if(str.match(/pointer/)&&str.match(/cursor/)&&str.match(/style/))var pointer=!0}if(!RGraph.is_null(obj.onmousemove)&&"function"==typeof obj.onmousemove){var str=obj.onmousemove.toString();if(str.match(/pointer/)&&str.match(/cursor/)&&str.match(/style/))var pointer=!0}var index="scatter"==shape.object.type?shape.index_adjusted:shape.index;if(!RGraph.is_null(obj["$"+index])&&"function"==typeof obj["$"+index].onmousemove){var str=obj["$"+index].onmousemove.toString();if(str.match(/pointer/)&&str.match(/cursor/)&&str.match(/style/))var pointer=!0}}for(var objects=RGraph.ObjectRegistry.objects.byCanvasID,i=0,len=objects.length;len>i;i+=1)if(objects[i]&&objects[i][1].Get("chart.resizable"))var resizable=!0;resizable&&mouseX>e.target.width-32&&mouseY>e.target.height-16&&(pointer=!0),e.target.style.cursor=pointer?"pointer":"pointer"==e.target.style.cursor?"default":null,resizable&&mouseX>=e.target.width-15&&mouseY>=e.target.height-15?e.target.style.cursor="move":"move"===e.target.style.cursor&&(e.target.style.cursor="default"),"boolean"==typeof mouse_over_key&&mouse_over_key&&(e.target.style.cursor="pointer"),obj&&"line"==obj.type&&obj.Get("chart.adjustable")&&(e.target.style.cursor=obj.getShape&&obj.getShape(e)?"ns-resize":"default"),e.target.__object__&&e.target.__object__.Get("chart.annotatable")&&(e.target.style.cursor="crosshair"),obj&&"drawing.text"===obj.type&&shape&&"string"==typeof obj.Get("link")&&(e.target.style.cursor="pointer")},RGraph.parseTooltipText=function(tooltips,idx){if(!tooltips)return null;if("function"==typeof tooltips)var text=tooltips(idx);else if("string"==typeof tooltips)var text=tooltips;else if("object"==typeof tooltips&&"function"==typeof tooltips[idx])var text=tooltips[idx](idx);else if("string"==typeof tooltips[idx]&&tooltips[idx])var text=tooltips[idx];else var text="";return"undefined"==text?text="":"null"==text&&(text=""),RGraph.getTooltipTextFromDIV?RGraph.getTooltipTextFromDIV(text):text},RGraph.drawCrosshairs=RGraph.DrawCrosshairs=function(e,obj){var e=RGraph.FixEventObject(e),width=obj.canvas.width,height=obj.canvas.height,mouseXY=RGraph.getMouseXY(e),x=mouseXY[0],y=mouseXY[1],gutterLeft=obj.gutterLeft,gutterRight=obj.gutterRight,gutterTop=obj.gutterTop,gutterBottom=obj.gutterBottom,Mathround=Math.round,prop=obj.properties,co=obj.context,ca=obj.canvas;if(RGraph.RedrawCanvas(ca),x>=gutterLeft&&y>=gutterTop&&width-gutterRight>=x&&height-gutterBottom>=y){var linewidth=prop["chart.crosshairs.linewidth"]?prop["chart.crosshairs.linewidth"]:1;if(co.lineWidth=linewidth?linewidth:1,co.beginPath(),co.strokeStyle=prop["chart.crosshairs.color"],prop["chart.crosshairs.snap"]){var point=null,dist=null,len=null;if("line"==obj.type){for(var i=0;i<obj.coords.length;++i){var length=RGraph.getHypLength(obj.coords[i][0],obj.coords[i][1],x,y);if("number"!=typeof dist||dist>length)var point=i,dist=length}x=obj.coords[point][0],y=obj.coords[point][1];for(var dataset=0;dataset<obj.coords2.length;++dataset)for(var point=0;point<obj.coords2[dataset].length;++point)obj.coords2[dataset][point][0]==x&&obj.coords2[dataset][point][1]==y&&(ca.__crosshairs_snap_dataset__=dataset,ca.__crosshairs_snap_point__=point)}else{for(var i=0;i<obj.coords.length;++i)for(var j=0;j<obj.coords[i].length;++j){var len=RGraph.getHypLength(obj.coords[i][j][0],obj.coords[i][j][1],x,y);if("number"!=typeof dist||dist>len)var dataset=i,point=j,dist=len}ca.__crosshairs_snap_dataset__=dataset,ca.__crosshairs_snap_point__=point,x=obj.coords[dataset][point][0],y=obj.coords[dataset][point][1]}}if(prop["chart.crosshairs.vline"]&&(co.moveTo(Mathround(x),Mathround(gutterTop)),co.lineTo(Mathround(x),Mathround(height-gutterBottom))),prop["chart.crosshairs.hline"]&&(co.moveTo(Mathround(gutterLeft),Mathround(y)),co.lineTo(Mathround(width-gutterRight),Mathround(y))),co.stroke(),"scatter"==obj.type&&prop["chart.crosshairs.coords"]){var xCoord=(x-gutterLeft)/(width-gutterLeft-gutterRight)*(prop["chart.xmax"]-prop["chart.xmin"])+prop["chart.xmin"];xCoord=xCoord.toFixed(prop["chart.scale.decimals"]);var yCoord=obj.max-(y-prop["chart.gutter.top"])/(height-gutterTop-gutterBottom)*obj.max;"scatter"==obj.type&&"center"==obj.properties["chart.xaxispos"]&&(yCoord=2*(yCoord-obj.max/2)),yCoord=yCoord.toFixed(prop["chart.scale.decimals"]);var div=RGraph.Registry.Get("chart.coordinates.coords.div"),mouseXY=RGraph.getMouseXY(e),canvasXY=RGraph.getCanvasXY(ca);if(!div){var div=document.createElement("DIV");div.__object__=obj,div.style.position="absolute",div.style.backgroundColor="white",div.style.border="1px solid black",div.style.fontFamily="Arial, Verdana, sans-serif",div.style.fontSize="10pt",div.style.padding="2px",div.style.opacity=1,div.style.WebkitBorderRadius="3px",div.style.borderRadius="3px",div.style.MozBorderRadius="3px",document.body.appendChild(div),RGraph.Registry.Set("chart.coordinates.coords.div",div)}div.style.opacity=1,div.style.display="inline",prop["chart.crosshairs.coords.fixed"]?(div.style.left=canvasXY[0]+gutterLeft+3+"px",div.style.top=canvasXY[1]+gutterTop+3+"px"):(div.style.left=Math.max(2,e.pageX-div.offsetWidth-3)+"px",div.style.top=Math.max(2,e.pageY-div.offsetHeight-3)+"px"),div.innerHTML='<span style="color: #666">'+prop["chart.crosshairs.coords.labels.x"]+":</span> "+xCoord+'<br><span style="color: #666">'+prop["chart.crosshairs.coords.labels.y"]+":</span> "+yCoord,obj.canvas.addEventListener("mouseout",RGraph.HideCrosshairCoords,!1),ca.__crosshairs_labels__=div,ca.__crosshairs_x__=xCoord,ca.__crosshairs_y__=yCoord}else prop["chart.crosshairs.coords"]&&alert("[RGRAPH] Showing crosshair coordinates is only supported on the Scatter chart");RGraph.FireCustomEvent(obj,"oncrosshairs")}else RGraph.HideCrosshairCoords()}}(window,document),define("app/libs/RGraph.common.dynamic",function(){}),RGraph=window.RGraph||{isRGraph:!0},function(){{var RG=RGraph;navigator.userAgent,Math}RG.tooltips={},RG.tooltips.padding="3px",RG.tooltips.font_face="Tahoma",RG.tooltips.font_size="10pt",RG.tooltip=RG.Tooltip=function(obj,text,x,y,idx,e){if("function"==typeof obj.Get("chart.tooltips.override"))return obj.Get("chart.tooltips.override")(obj,text,x,y,idx);text=RGraph.getTooltipTextFromDIV(text);var timers=RGraph.Registry.Get("chart.tooltip.timers");if(timers&&timers.length)for(i=0;i<timers.length;++i)clearTimeout(timers[i]);RGraph.Registry.Set("chart.tooltip.timers",[]),obj.Get("chart.contextmenu")&&RGraph.HideContext();var effect=obj.Get("chart.tooltips.effect")?obj.Get("chart.tooltips.effect").toLowerCase():"fade",tooltipObj=document.createElement("DIV");if(tooltipObj.className=obj.Get("chart.tooltips.css.class"),tooltipObj.style.display="none",tooltipObj.style.position=RGraph.isFixed(obj.canvas)?"fixed":"absolute",tooltipObj.style.left=0,tooltipObj.style.top=0,tooltipObj.style.backgroundColor="rgb(255,255,239)",tooltipObj.style.color="black",document.all||(tooltipObj.style.border=""),tooltipObj.style.visibility="visible",tooltipObj.style.paddingLeft=RGraph.tooltips.padding,tooltipObj.style.paddingRight=RGraph.tooltips.padding,tooltipObj.style.fontFamily=RGraph.tooltips.font_face,tooltipObj.style.fontSize=RGraph.tooltips.font_size,tooltipObj.style.zIndex=3,RGraph.trim(text).length>0&&(tooltipObj.style.border="1px #bbb solid"),tooltipObj.style.borderRadius="5px",tooltipObj.style.MozBorderRadius="5px",tooltipObj.style.WebkitBorderRadius="5px",tooltipObj.style.WebkitBoxShadow="rgba(96,96,96,0.5) 0 0 15px",tooltipObj.style.MozBoxShadow="rgba(96,96,96,0.5) 0 0 15px",tooltipObj.style.boxShadow="rgba(96,96,96,0.5) 0 0 15px",tooltipObj.style.filter="progid:DXImageTransform.Microsoft.Shadow(color=#666666,direction=135)",tooltipObj.style.opacity=0,tooltipObj.innerHTML=text,tooltipObj.__text__=text,tooltipObj.__canvas__=obj.canvas,tooltipObj.style.display="inline",tooltipObj.id="__rgraph_tooltip_"+obj.canvas.id+"_"+obj.uid+"_"+idx,tooltipObj.__event__=obj.Get("chart.tooltips.event")||"click",tooltipObj.__object__=obj,"number"==typeof idx&&(tooltipObj.__index__=idx,origIdx=idx),"line"==obj.type||"radar"==obj.type){for(var ds=0;ds<obj.data.length&&idx>=obj.data[ds].length;++ds)idx-=obj.data[ds].length;
tooltipObj.__dataset__=ds,tooltipObj.__index2__=idx}document.body.appendChild(tooltipObj);var width=tooltipObj.offsetWidth,height=tooltipObj.offsetHeight;tooltipObj.style.width=width+"px",tooltipObj.style.top=y-height-2+"px","function"==typeof obj.positionTooltip?tooltipObj.innerHTML.length>0&&(obj.positionTooltip(obj,x,y,tooltipObj,origIdx?origIdx:idx),obj.Get("chart.tooltips.coords.page")&&(tooltipObj.style.left=e.pageX-width/2-4.25+"px",tooltipObj.style.top=e.pageY-height-10+"px",document.getElementById("__rgraph_tooltip_pointer__").style.left=parseInt(tooltipObj.offsetWidth)/2-8.5+"px")):(tooltipObj.style.left=e.pageX-width/2-4.25+"px",tooltipObj.style.top=e.pageY-height-7+"px"),("fade"==effect||"expand"==effect||"contract"==effect||"snap"==effect)&&(setTimeout(function(){tooltipObj.style.opacity=.1},25),setTimeout(function(){tooltipObj.style.opacity=.2},50),setTimeout(function(){tooltipObj.style.opacity=.3},75),setTimeout(function(){tooltipObj.style.opacity=.4},100),setTimeout(function(){tooltipObj.style.opacity=.5},125),setTimeout(function(){tooltipObj.style.opacity=.6},150),setTimeout(function(){tooltipObj.style.opacity=.7},175),setTimeout(function(){tooltipObj.style.opacity=.8},200),setTimeout(function(){tooltipObj.style.opacity=.9},225),("expand"==effect||"contract"==effect||"snap"==effect)&&console.log("[RGRAPH] The snap, expand and contract tooltip effects are deprecated. Available effects now are fade and none")),setTimeout("if (RGraph.Registry.Get('chart.tooltip')) { RGraph.Registry.Get('chart.tooltip').style.opacity = 1;}","none"==effect?50:250),tooltipObj.onmousedown=function(e){e.stopPropagation()},tooltipObj.onmouseup=function(e){e.stopPropagation()},tooltipObj.onclick=function(e){0==e.button&&e.stopPropagation()},RGraph.Registry.Set("chart.tooltip",tooltipObj),RG.FireCustomEvent(obj,"ontooltip")},RG.getTooltipTextFromDIV=function(text){var result=/^id:(.*)/.exec(text);return result&&result[1]&&document.getElementById(result[1])?text=document.getElementById(result[1]).innerHTML:result&&result[1]&&(text=""),text},RG.getTooltipWidth=function(text,obj){var div=document.createElement("DIV");return div.className=obj.Get("chart.tooltips.css.class"),div.style.paddingLeft=RGraph.tooltips.padding,div.style.paddingRight=RGraph.tooltips.padding,div.style.fontFamily=RGraph.tooltips.font_face,div.style.fontSize=RGraph.tooltips.font_size,div.style.visibility="hidden",div.style.position="absolute",div.style.top="300px",div.style.left=0,div.style.display="inline",div.innerHTML=RGraph.getTooltipTextFromDIV(text),document.body.appendChild(div),div.offsetWidth},RG.hideTooltip=RG.HideTooltip=function(){var tooltip=RGraph.Registry.Get("chart.tooltip"),uid=arguments[0]&&arguments[0].uid?arguments[0].uid:null;!tooltip||!tooltip.parentNode||uid&&uid!=tooltip.__canvas__.uid||(tooltip.parentNode.removeChild(tooltip),tooltip.style.display="none",tooltip.style.visibility="hidden",RGraph.Registry.Set("chart.tooltip",null))},RG.preLoadTooltipImages=RG.PreLoadTooltipImages=function(obj){var tooltips=obj.Get("chart.tooltips");if(RGraph.hasTooltips(obj)){if("rscatter"==obj.type){tooltips=[];for(var i=0;i<obj.data.length;++i)tooltips.push(obj.data[3])}for(var i=0;i<tooltips.length;++i){var div=document.createElement("DIV");div.style.position="absolute",div.style.opacity=0,div.style.top="-100px",div.style.left="-100px",div.innerHTML=tooltips[i],document.body.appendChild(div);for(var img_tags=div.getElementsByTagName("IMG"),j=0;j<img_tags.length;++j)if(img_tags&&img_tags[i]){var img=document.createElement("IMG");img.style.position="absolute",img.style.opacity=0,img.style.top="-100px",img.style.left="-100px",img.src=img_tags[i].src,document.body.appendChild(img),setTimeout(function(){document.body.removeChild(img)},250)}document.body.removeChild(div)}}},RG.tooltips_mousemove=RG.Tooltips_mousemove=function(obj,e){var shape=obj.getShape(e),changeCursor_tooltips=!1;if(shape&&"number"==typeof shape.index&&obj.Get("chart.tooltips")[shape.index]){var text=RGraph.parseTooltipText(obj.Get("chart.tooltips"),shape.index);text&&(changeCursor_tooltips=!0,"onmousemove"==obj.Get("chart.tooltips.event")&&(RGraph.Registry.Get("chart.tooltip")&&RGraph.Registry.Get("chart.tooltip").__object__.uid==obj.uid&&RGraph.Registry.Get("chart.tooltip").__index__==shape.index||(RGraph.HideTooltip(),RGraph.Clear(obj.canvas),RGraph.Redraw(),RGraph.Tooltip(obj,text,e.pageX,e.pageY,shape.index),obj.Highlight(shape))))}else if(shape&&"number"==typeof shape.index){var text=RGraph.parseTooltipText(obj.Get("chart.tooltips"),shape.index);text&&(changeCursor_tooltips=!0)}return changeCursor_tooltips}}(window,document),define("app/libs/RGraph.common.tooltips",function(){}),RGraph=window.RGraph||{isRGraph:!0},RGraph.Line=function(conf){if("object"==typeof conf&&"object"==typeof conf.data&&"string"==typeof conf.id)var id=conf.id,canvas=document.getElementById(id),parseConfObjectForOptions=(conf.data,!0);else{var id=conf,canvas=document.getElementById(id);arguments[1]}this.id=id,this.canvas=canvas,this.context=this.canvas.getContext("2d"),this.canvas.__object__=this,this.type="line",this.max=0,this.coords=[],this.coords2=[],this.coords.key=[],this.coordsText=[],this.coordsSpline=[],this.hasnegativevalues=!1,this.isRGraph=!0,this.uid=RGraph.CreateUID(),this.canvas.uid=this.canvas.uid?this.canvas.uid:RGraph.CreateUID(),this.colorsParsed=!1,this.original_colors=[],this.firstDraw=!0,this.properties={"chart.background.barcolor1":"rgba(0,0,0,0)","chart.background.barcolor2":"rgba(0,0,0,0)","chart.background.grid":1,"chart.background.grid.width":1,"chart.background.grid.hsize":25,"chart.background.grid.vsize":25,"chart.background.grid.color":"#ddd","chart.background.grid.vlines":!0,"chart.background.grid.hlines":!0,"chart.background.grid.border":!0,"chart.background.grid.autofit":!0,"chart.background.grid.autofit.align":!1,"chart.background.grid.autofit.numhlines":5,"chart.background.grid.autofit.numvlines":20,"chart.background.grid.dashed":!1,"chart.background.grid.dotted":!1,"chart.background.hbars":null,"chart.background.image":null,"chart.background.image.stretch":!0,"chart.background.image.x":null,"chart.background.image.y":null,"chart.background.image.w":null,"chart.background.image.h":null,"chart.background.image.align":null,"chart.background.color":null,"chart.labels":null,"chart.labels.ingraph":null,"chart.labels.above":!1,"chart.labels.above.size":8,"chart.labels.above.decimals":null,"chart.xtickgap":20,"chart.smallxticks":3,"chart.largexticks":5,"chart.ytickgap":20,"chart.smallyticks":3,"chart.largeyticks":5,"chart.numyticks":10,"chart.linewidth":2.01,"chart.colors":["red","#0f0","#00f","#f0f","#ff0","#0ff","green","pink","blue","black"],"chart.hmargin":0,"chart.tickmarks.dot.color":"white","chart.tickmarks":"endcircle","chart.tickmarks.linewidth":null,"chart.tickmarks.image":null,"chart.tickmarks.image.halign":"center","chart.tickmarks.image.valign":"center","chart.tickmarks.image.offsetx":0,"chart.tickmarks.image.offsety":0,"chart.ticksize":3,"chart.gutter.left":25,"chart.gutter.right":25,"chart.gutter.top":25,"chart.gutter.bottom":25,"chart.tickdirection":-1,"chart.yaxispoints":5,"chart.fillstyle":null,"chart.xaxispos":"bottom","chart.yaxispos":"left","chart.xticks":null,"chart.text.size":10,"chart.text.angle":0,"chart.text.color":"black","chart.text.font":"Arial","chart.ymin":0,"chart.ymax":null,"chart.title":"","chart.title.background":null,"chart.title.hpos":null,"chart.title.vpos":null,"chart.title.bold":!0,"chart.title.font":null,"chart.title.xaxis":"","chart.title.xaxis.bold":!0,"chart.title.xaxis.size":null,"chart.title.xaxis.font":null,"chart.title.yaxis":"","chart.title.yaxis.bold":!0,"chart.title.yaxis.size":null,"chart.title.yaxis.font":null,"chart.title.yaxis.color":null,"chart.title.xaxis.pos":null,"chart.title.yaxis.pos":null,"chart.title.yaxis.x":null,"chart.title.yaxis.y":null,"chart.title.xaxis.x":null,"chart.title.xaxis.y":null,"chart.title.x":null,"chart.title.y":null,"chart.title.halign":null,"chart.title.valign":null,"chart.shadow":!0,"chart.shadow.offsetx":2,"chart.shadow.offsety":2,"chart.shadow.blur":3,"chart.shadow.color":"rgba(0,0,0,0.5)","chart.tooltips":null,"chart.tooltips.hotspot.xonly":!1,"chart.tooltips.hotspot.size":5,"chart.tooltips.effect":"fade","chart.tooltips.css.class":"RGraph_tooltip","chart.tooltips.event":"onmousemove","chart.tooltips.highlight":!0,"chart.tooltips.coords.page":!1,"chart.highlight.stroke":"gray","chart.highlight.fill":"white","chart.stepped":!1,"chart.key":null,"chart.key.background":"white","chart.key.position":"graph","chart.key.halign":null,"chart.key.shadow":!1,"chart.key.shadow.color":"#666","chart.key.shadow.blur":3,"chart.key.shadow.offsetx":2,"chart.key.shadow.offsety":2,"chart.key.position.gutter.boxed":!1,"chart.key.position.x":null,"chart.key.position.y":null,"chart.key.color.shape":"square","chart.key.rounded":!0,"chart.key.linewidth":1,"chart.key.colors":null,"chart.key.interactive":!1,"chart.key.interactive.highlight.chart.stroke":"rgba(255,0,0,0.3)","chart.key.interactive.highlight.label":"rgba(255,0,0,0.2)","chart.key.text.color":"black","chart.contextmenu":null,"chart.ylabels":!0,"chart.ylabels.count":5,"chart.ylabels.inside":!1,"chart.scale.invert":!1,"chart.xlabels.inside":!1,"chart.xlabels.inside.color":"rgba(255,255,255,0.5)","chart.noaxes":!1,"chart.noyaxis":!1,"chart.noxaxis":!1,"chart.noendxtick":!1,"chart.noendytick":!1,"chart.units.post":"","chart.units.pre":"","chart.scale.zerostart":!1,"chart.scale.decimals":null,"chart.scale.point":".","chart.scale.thousand":",","chart.crosshairs":!1,"chart.crosshairs.color":"#333","chart.crosshairs.hline":!0,"chart.crosshairs.vline":!0,"chart.annotatable":!1,"chart.annotate.color":"black","chart.axesontop":!1,"chart.filled":!1,"chart.filled.range":!1,"chart.filled.range.threshold":null,"chart.filled.range.threshold.colors":["red","green"],"chart.filled.accumulative":!0,"chart.variant":null,"chart.axis.color":"black","chart.axis.linewidth":1,"chart.numxticks":arguments[1]&&"number"==typeof arguments[1][0]?arguments[1].length:20,"chart.numyticks":10,"chart.zoom.factor":1.5,"chart.zoom.fade.in":!0,"chart.zoom.fade.out":!0,"chart.zoom.hdir":"right","chart.zoom.vdir":"down","chart.zoom.frames":25,"chart.zoom.delay":16.666,"chart.zoom.shadow":!0,"chart.zoom.background":!0,"chart.zoom.action":"zoom","chart.backdrop":!1,"chart.backdrop.size":30,"chart.backdrop.alpha":.2,"chart.resizable":!1,"chart.resize.handle.adjust":[0,0],"chart.resize.handle.background":null,"chart.adjustable":!1,"chart.noredraw":!1,"chart.outofbounds":!1,"chart.chromefix":!0,"chart.animation.factor":1,"chart.animation.unfold.x":!1,"chart.animation.unfold.y":!0,"chart.animation.unfold.initial":2,"chart.animation.trace.clip":1,"chart.curvy":!1,"chart.line.visible":!0,"chart.events.click":null,"chart.events.mousemove":null};for(var i=1;i<arguments.length;++i)"null"!=typeof arguments[i]&&arguments[i]||(arguments[i]=[]);if(this.original_data=[],"object"==typeof conf&&conf.data)if("number"==typeof conf.data[0]||RGraph.isNull(conf.data[0]))this.original_data[0]=RGraph.arrayClone(conf.data);else for(var i=0;i<conf.data.length;++i)this.original_data[i]=RGraph.arrayClone(conf.data[i]);else for(var i=1;i<arguments.length;++i)if(arguments[1]&&"object"==typeof arguments[1]&&arguments[1][0]&&"object"==typeof arguments[1][0]&&arguments[1][0].length){for(var tmp=[],i=0;i<arguments[1].length;++i)tmp[i]=RGraph.array_clone(arguments[1][i]);for(var j=0;j<tmp.length;++j)this.original_data[j]=RGraph.array_clone(tmp[j])}else this.original_data[i-1]=RGraph.array_clone(arguments[i]);if(!this.canvas)return void alert("[LINE] Fatal error: no canvas support");this.data_arr=RGraph.array_linearize(this.original_data);for(var i=0;i<this.data_arr.length;++i)this["$"+i]={};this.canvas.__rgraph_aa_translated__||(this.context.translate(.5,.5),this.canvas.__rgraph_aa_translated__=!0);{var RG=RGraph,ca=this.canvas,co=ca.getContext("2d"),prop=this.properties,jq=jQuery,win=(RG.Path,window),doc=document;Math}RG.Effects&&"function"==typeof RG.Effects.decorate&&RG.Effects.decorate(this),this.set=this.Set=function(name){var value="undefined"==typeof arguments[1]?null:arguments[1];if(1===arguments.length&&"object"==typeof name)return RG.parseObjectStyleConfig(this,name),this;if(name=name.toLowerCase(),"chart."!=name.substr(0,6)&&(name="chart."+name),"chart.tooltips"==name&&"object"==typeof value&&value){for(var tooltips=[],i=1;i<arguments.length;i++)if("object"==typeof arguments[i]&&arguments[i][0])for(var j=0;j<arguments[i].length;j++)tooltips.push(arguments[i][j]);else"function"==typeof arguments[i]?tooltips=arguments[i]:tooltips.push(arguments[i]);value=tooltips}if("chart.linewidth"==name&&navigator.userAgent.match(/Chrome/))if(1==value)value=1.01;else if(RGraph.is_array(value))for(var i=0;i<value.length;++i)"number"==typeof value[i]&&1==value[i]&&(value[i]=1.01);return"chart.xaxispos"==name&&"bottom"!=value&&"center"!=value&&"top"!=value&&(alert("[LINE] ("+this.id+") chart.xaxispos should be top, center or bottom. Tried to set it to: "+value+" Changing it to center"),value="center"),"chart.xticks"==name&&(name="chart.numxticks"),"chart.spline"==name&&(name="chart.curvy"),"chart.ylabels.invert"==name&&(name="chart.scale.invert"),this.properties[name]=value,this},this.get=this.Get=function(name){return"chart."!=name.substr(0,6)&&(name="chart."+name),"chart.spline"==name&&(name="chart.curvy"),prop[name]},this.draw=this.Draw=function(){if("string"==typeof prop["chart.background.image"]&&RG.DrawBackgroundImage(this),RG.FireCustomEvent(this,"onbeforedraw"),this.colorsParsed||(this.parseColors(),this.colorsParsed=!0),this.gutterLeft=prop["chart.gutter.left"],this.gutterRight=prop["chart.gutter.right"],this.gutterTop=prop["chart.gutter.top"],this.gutterBottom=prop["chart.gutter.bottom"],this.data=RG.array_clone(this.original_data),this.max=0,prop["chart.filled"]&&!prop["chart.filled.range"]&&this.data.length>1&&prop["chart.filled.accumulative"])for(var accumulation=[],set=0;set<this.data.length;++set)for(var point=0;point<this.data[set].length;++point)this.data[set][point]=Number(accumulation[point]?accumulation[point]:0)+this.data[set][point],accumulation[point]=this.data[set][point];if(prop["chart.ymax"]){if(this.max=prop["chart.ymax"],this.min=prop["chart.ymin"]?prop["chart.ymin"]:0,this.scale2=RG.getScale2(this,{max:this.max,min:prop["chart.ymin"],strict:!0,"scale.thousand":prop["chart.scale.thousand"],"scale.point":prop["chart.scale.point"],"scale.decimals":prop["chart.scale.decimals"],"ylabels.count":prop["chart.ylabels.count"],"scale.round":prop["chart.scale.round"],"units.pre":prop["chart.units.pre"],"units.post":prop["chart.units.post"]}),this.max=this.scale2.max?this.scale2.max:0,!prop["chart.outofbounds"])for(dataset=0;dataset<this.data.length;++dataset)if(RGraph.isArray(this.data[dataset]))for(var datapoint=0;datapoint<this.data[dataset].length;datapoint++)this.hasnegativevalues=this.data[dataset][datapoint]<0||this.hasnegativevalues}else{for(this.min=prop["chart.ymin"]?prop["chart.ymin"]:0,dataset=0;dataset<this.data.length;++dataset)for(var datapoint=0;datapoint<this.data[dataset].length;datapoint++)this.max=Math.max(this.max,this.data[dataset][datapoint]?Math.abs(parseFloat(this.data[dataset][datapoint])):0),prop["chart.outofbounds"]||(this.hasnegativevalues=this.data[dataset][datapoint]<0||this.hasnegativevalues);this.scale2=RG.getScale2(this,{max:this.max,min:prop["chart.ymin"],"scale.thousand":prop["chart.scale.thousand"],"scale.point":prop["chart.scale.point"],"scale.decimals":prop["chart.scale.decimals"],"ylabels.count":prop["chart.ylabels.count"],"scale.round":prop["chart.scale.round"],"units.pre":prop["chart.units.pre"],"units.post":prop["chart.units.post"]}),this.max=this.scale2.max?this.scale2.max:0}prop["chart.contextmenu"]&&RG.ShowContext(this),this.coords=[],this.coordsText=[],this.grapharea=ca.height-this.gutterTop-this.gutterBottom,this.halfgrapharea=this.grapharea/2,this.halfTextHeight=prop["chart.text.size"]/2,"bottom"==prop["chart.xaxispos"]&&this.hasnegativevalues&&!RG.ISOPERA&&alert("[LINE] You have negative values and the X axis is at the bottom. This is not good..."),"3d"==prop["chart.variant"]&&RG.Draw3DAxes(this),RG.background.Draw(this),prop["chart.background.hbars"]&&prop["chart.background.hbars"].length>0&&RG.DrawBars(this),0==prop["chart.axesontop"]&&this.DrawAxes(),co.save(),co.beginPath(),co.rect(0,0,ca.width*prop["chart.animation.trace.clip"],ca.height),co.clip();for(var i=0,j=0,len=this.data.length;len>i;i++,j++){if(co.beginPath(),prop["chart.filled"]||this.SetShadow(i),prop["chart.fillstyle"]){if("object"==typeof prop["chart.fillstyle"]&&prop["chart.fillstyle"][j])var fill=prop["chart.fillstyle"][j];else if("object"==typeof prop["chart.fillstyle"]&&prop["chart.fillstyle"].toString().indexOf("Gradient")>0)var fill=prop["chart.fillstyle"];else if("string"==typeof prop["chart.fillstyle"])var fill=prop["chart.fillstyle"]}else if(prop["chart.filled"])var fill=prop["chart.colors"][j];else var fill=null;if(prop["chart.tickmarks"]&&"object"==typeof prop["chart.tickmarks"])var tickmarks=prop["chart.tickmarks"][i];else if(prop["chart.tickmarks"]&&"string"==typeof prop["chart.tickmarks"])var tickmarks=prop["chart.tickmarks"];else if(prop["chart.tickmarks"]&&"function"==typeof prop["chart.tickmarks"])var tickmarks=prop["chart.tickmarks"];else var tickmarks=null;this.DrawLine(this.data[i],prop["chart.colors"][j],fill,this.GetLineWidth(j),tickmarks,i),co.stroke()}if(prop["chart.filled"]&&prop["chart.filled.accumulative"]&&!prop["chart.curvy"]){for(var i=0;i<this.coords2.length;++i){co.beginPath(),co.lineWidth=this.GetLineWidth(i),co.strokeStyle=prop["chart.colors"][i];for(var j=0,len=this.coords2[i].length;len>j;++j)0==j||null==this.coords2[i][j][1]||this.coords2[i][j-1]&&null==this.coords2[i][j-1][1]?co.moveTo(this.coords2[i][j][0],this.coords2[i][j][1]):(prop["chart.stepped"]&&co.lineTo(this.coords2[i][j][0],this.coords2[i][j-1][1]),co.lineTo(this.coords2[i][j][0],this.coords2[i][j][1]));co.stroke()}if(prop["chart.tickmarks"]){co.beginPath(),co.fillStyle="white";for(var i=0,len=this.coords2.length;len>i;++i){co.beginPath(),co.strokeStyle=prop["chart.colors"][i];for(var j=0;j<this.coords2[i].length;++j)if("object"==typeof this.coords2[i][j]&&"number"==typeof this.coords2[i][j][0]&&"number"==typeof this.coords2[i][j][1]){var tickmarks="object"==typeof prop["chart.tickmarks"]?prop["chart.tickmarks"][i]:prop["chart.tickmarks"];this.DrawTick(this.coords2[i],this.coords2[i][j][0],this.coords2[i][j][1],co.strokeStyle,!1,0==j?0:this.coords2[i][j-1][0],0==j?0:this.coords2[i][j-1][1],tickmarks,j)}}co.stroke(),co.fill()}}else if(prop["chart.filled"]&&prop["chart.filled.accumulative"]&&prop["chart.curvy"]){for(var i=0;i<this.coordsSpline.length;i+=1){co.beginPath(),co.strokeStyle=prop["chart.colors"][i],co.lineWidth=this.GetLineWidth(i);for(var j=0,len=this.coordsSpline[i].length;len>j;j+=1){var point=this.coordsSpline[i][j];0==j?co.moveTo(point[0],point[1]):co.lineTo(point[0],point[1])}co.stroke()}for(var i=0,len=this.coords2.length;len>i;i+=1)for(var j=0,len2=this.coords2[i].length;len2>j;++j)if("object"==typeof this.coords2[i][j]&&"number"==typeof this.coords2[i][j][0]&&"number"==typeof this.coords2[i][j][1]){var tickmarks="object"!=typeof prop["chart.tickmarks"]||RGraph.is_null(prop["chart.tickmarks"])?prop["chart.tickmarks"]:prop["chart.tickmarks"][i];co.strokeStyle=prop["chart.colors"][i],this.DrawTick(this.coords2[i],this.coords2[i][j][0],this.coords2[i][j][1],prop["chart.colors"][i],!1,0==j?0:this.coords2[i][j-1][0],0==j?0:this.coords2[i][j-1][1],tickmarks,j)}}if(co.restore(),co.beginPath(),prop["chart.axesontop"]&&this.DrawAxes(),this.DrawLabels(),this.DrawRange(),prop["chart.key"]&&prop["chart.key"].length&&RG.DrawKey&&RG.DrawKey(this,prop["chart.key"],prop["chart.colors"]),prop["chart.labels.above"]&&this.DrawAboveLabels(),RG.DrawInGraphLabels(this),prop["chart.filled"]&&prop["chart.filled.range"]&&2==this.data.length){co.beginPath();var len=this.coords.length/2;co.lineWidth=prop["chart.linewidth"],co.strokeStyle=prop["chart.colors"][0];for(var i=0;len>i;++i)RG.is_null(this.coords[i][1])||(0==i?co.moveTo(this.coords[i][0],this.coords[i][1]):co.lineTo(this.coords[i][0],this.coords[i][1]));co.stroke(),co.beginPath(),prop["chart.colors"][1]&&(co.strokeStyle=prop["chart.colors"][1]);for(var i=this.coords.length-1;i>=len;--i)RG.is_null(this.coords[i][1])||(i==this.coords.length-1?co.moveTo(this.coords[i][0],this.coords[i][1]):co.lineTo(this.coords[i][0],this.coords[i][1]));co.stroke()}else prop["chart.filled"]&&prop["chart.filled.range"]&&alert("[LINE] You must have only two sets of data for a filled range chart");return prop["chart.resizable"]&&RG.AllowResizing(this),RG.InstallEventListeners(this),this.firstDraw&&(RG.fireCustomEvent(this,"onfirstdraw"),this.firstDraw=!1,this.firstDrawFunc()),RG.FireCustomEvent(this,"ondraw"),this},this.drawAxes=this.DrawAxes=function(){if(!prop["chart.noaxes"]){if(RG.NoShadow(this),co.lineWidth=prop["chart.axis.linewidth"]+.001,co.lineCap="butt",co.strokeStyle=prop["chart.axis.color"],co.beginPath(),0==prop["chart.noxaxis"]&&("center"==prop["chart.xaxispos"]?(co.moveTo(this.gutterLeft,Math.round(this.grapharea/2+this.gutterTop)),co.lineTo(ca.width-this.gutterRight,Math.round(this.grapharea/2+this.gutterTop))):"top"===prop["chart.xaxispos"]?(co.moveTo(this.gutterLeft,this.gutterTop),co.lineTo(ca.width-this.gutterRight,this.gutterTop)):(co.moveTo(this.gutterLeft,ca.height-this.gutterBottom),co.lineTo(ca.width-this.gutterRight,ca.height-this.gutterBottom))),0==prop["chart.noyaxis"]&&("left"==prop["chart.yaxispos"]?(co.moveTo(this.gutterLeft,this.gutterTop),co.lineTo(this.gutterLeft,ca.height-this.gutterBottom)):(co.moveTo(ca.width-this.gutterRight,this.gutterTop),co.lineTo(ca.width-this.gutterRight,ca.height-this.gutterBottom))),0==prop["chart.noxaxis"]&&prop["chart.numxticks"]>0){var xTickInterval=(ca.width-this.gutterLeft-this.gutterRight)/prop["chart.numxticks"];for((!xTickInterval||0>=xTickInterval)&&(xTickInterval=(ca.width-this.gutterLeft-this.gutterRight)/(prop["chart.labels"]&&prop["chart.labels"].length?prop["chart.labels"].length-1:10)),x=this.gutterLeft+("left"==prop["chart.yaxispos"]?xTickInterval:0);x<=ca.width-this.gutterRight+1&&!("right"==prop["chart.yaxispos"]&&x>=ca.width-this.gutterRight-1);x+=xTickInterval){if(prop["chart.noendxtick"]){if("left"==prop["chart.yaxispos"]&&x>=ca.width-this.gutterRight-1)break;if("right"==prop["chart.yaxispos"]&&x==this.gutterLeft)continue}var yStart="center"==prop["chart.xaxispos"]?this.gutterTop+this.grapharea/2-3:ca.height-this.gutterBottom,yEnd="center"==prop["chart.xaxispos"]?yStart+6:ca.height-this.gutterBottom-(x%60==0?prop["chart.largexticks"]*prop["chart.tickdirection"]:prop["chart.smallxticks"]*prop["chart.tickdirection"]);if("center"==prop["chart.xaxispos"])var yStart=Math.round(this.gutterTop+this.grapharea/2)-3,yEnd=yStart+6;else if("bottom"==prop["chart.xaxispos"]){var yStart=ca.height-this.gutterBottom,yEnd=ca.height-this.gutterBottom-(x%60==0?prop["chart.largexticks"]*prop["chart.tickdirection"]:prop["chart.smallxticks"]*prop["chart.tickdirection"]);yEnd+=0}else"top"==prop["chart.xaxispos"]&&(yStart=this.gutterTop-3,yEnd=this.gutterTop);co.moveTo(Math.round(x),yStart),co.lineTo(Math.round(x),yEnd)}}else 0==prop["chart.noyaxis"]&&prop["chart.numyticks"]>0&&(prop["chart.noendytick"]||("left"==prop["chart.yaxispos"]?(co.moveTo(this.gutterLeft,Math.round(ca.height-this.gutterBottom)),co.lineTo(this.gutterLeft-prop["chart.smallyticks"],Math.round(ca.height-this.gutterBottom))):(co.moveTo(ca.width-this.gutterRight,Math.round(ca.height-this.gutterBottom)),co.lineTo(ca.width-this.gutterRight+prop["chart.smallyticks"],Math.round(ca.height-this.gutterBottom)))));var numyticks=prop["chart.numyticks"];if(0==prop["chart.noyaxis"]&&numyticks>0){var counter=0,adjustment=0;if("right"==prop["chart.yaxispos"]&&(adjustment=ca.width-this.gutterLeft-this.gutterRight),"center"==prop["chart.xaxispos"]){var interval=this.grapharea/numyticks,lineto="left"==prop["chart.yaxispos"]?this.gutterLeft:ca.width-this.gutterRight+prop["chart.smallyticks"];for(y=this.gutterTop;y<this.grapharea/2+this.gutterTop;y+=interval)y<this.grapharea/2+this.gutterTop&&(co.moveTo("left"==prop["chart.yaxispos"]?this.gutterLeft-prop["chart.smallyticks"]:ca.width-this.gutterRight,Math.round(y)),co.lineTo(lineto,Math.round(y)));for(y=this.gutterTop+this.halfgrapharea+interval;y<=this.grapharea+this.gutterTop;y+=interval)co.moveTo("left"==prop["chart.yaxispos"]?this.gutterLeft-prop["chart.smallyticks"]:ca.width-this.gutterRight,Math.round(y)),co.lineTo(lineto,Math.round(y))}else if("top"==prop["chart.xaxispos"]){var interval=this.grapharea/numyticks,lineto="left"==prop["chart.yaxispos"]?this.gutterLeft:ca.width-this.gutterRight+prop["chart.smallyticks"];for(y=this.gutterTop+interval;y<=this.grapharea+this.gutterTop;y+=interval)co.moveTo("left"==prop["chart.yaxispos"]?this.gutterLeft-prop["chart.smallyticks"]:ca.width-this.gutterRight,Math.round(y)),co.lineTo(lineto,Math.round(y));prop["chart.noxaxis"]&&0==prop["chart.noendytick"]&&(co.moveTo("left"==prop["chart.yaxispos"]?this.gutterLeft-prop["chart.smallyticks"]:ca.width-this.gutterRight,this.gutterTop),co.lineTo(lineto,this.gutterTop))}else{var lineto="left"==prop["chart.yaxispos"]?this.gutterLeft-prop["chart.smallyticks"]:ca.width-this.gutterRight+prop["chart.smallyticks"];for(y=this.gutterTop;y<ca.height-this.gutterBottom&&numyticks>counter;y+=(ca.height-this.gutterTop-this.gutterBottom)/numyticks){co.moveTo(this.gutterLeft+adjustment,Math.round(y)),co.lineTo(lineto,Math.round(y));var counter=counter+1}}}else 0==prop["chart.noxaxis"]&&prop["chart.numxticks"]>0&&("left"==prop["chart.yaxispos"]?(co.moveTo(this.gutterLeft,"top"==prop["chart.xaxispos"]?this.gutterTop:ca.height-this.gutterBottom),co.lineTo(this.gutterLeft,"top"==prop["chart.xaxispos"]?this.gutterTop-prop["chart.smallxticks"]:ca.height-this.gutterBottom+prop["chart.smallxticks"])):(co.moveTo(ca.width-this.gutterRight,ca.height-this.gutterBottom),co.lineTo(ca.width-this.gutterRight,ca.height-this.gutterBottom+prop["chart.smallxticks"])));co.stroke()}},this.drawLabels=this.DrawLabels=function(){co.strokeStyle="black",co.fillStyle=prop["chart.text.color"],co.lineWidth=1,RG.NoShadow(this);var font=prop["chart.text.font"],text_size=prop["chart.text.size"],decimals=prop["chart.scale.decimals"],ymin=prop["chart.ymin"];if(prop["chart.ylabels"]&&null==prop["chart.ylabels.specific"]){var units_pre=prop["chart.units.pre"],units_post=prop["chart.units.post"],xpos="left"==prop["chart.yaxispos"]?this.gutterLeft-5:ca.width-this.gutterRight+5,align="left"==prop["chart.yaxispos"]?"right":"left",numYLabels=this.scale2.labels.length,bounding=!1,bgcolor=prop["chart.ylabels.inside"]?prop["chart.ylabels.inside.color"]:null;if(1==prop["chart.ylabels.inside"]&&"left"==align?(xpos-=10,align="right",bounding=!0):1==prop["chart.ylabels.inside"]&&"right"==align&&(xpos+=10,align="left",bounding=!0),"center"==prop["chart.xaxispos"]){for(var half=this.grapharea/2,i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop+half-(i+1)/numYLabels*half,valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,text:this.scale2.labels[i],tag:"scale"});for(var i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop+half+(i+1)/numYLabels*half,valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,text:"-"+this.scale2.labels[i],tag:"scale"});(1==prop["chart.noxaxis"]||0!=ymin||prop["chart.scale.zerostart"])&&RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop+half,text:prop["chart.units.pre"]+ymin.toFixed(decimals)+prop["chart.units.post"],bounding:bounding,boundingFill:bgcolor,valign:"center",halign:align,tag:"scale"})}else if("top"==prop["chart.xaxispos"]){var half=this.grapharea/2;if(prop["chart.scale.invert"])for(var i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop+i/this.scale2.labels.length*this.grapharea,valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,text:"-"+this.scale2.labels[this.scale2.labels.length-(i+1)],tag:"scale"});else for(var i=0;i<this.scale2.labels.length;++i)RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop+(i+1)/numYLabels*this.grapharea,valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,text:"-"+this.scale2.labels[i],tag:"scale"});(0!=prop["chart.ymin"]||prop["chart.noxaxis"]||prop["chart.scale.invert"]||prop["chart.scale.zerostart"])&&RG.Text2(this,{font:font,size:text_size,x:xpos,y:prop["chart.scale.invert"]?ca.height-this.gutterBottom:this.gutterTop,text:(0!=prop["chart.ymin"]?"-":"")+RG.number_format(this,prop["chart.ymin"].toFixed(decimals),units_pre,units_post),valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,tag:"scale"})}else{if(prop["chart.scale.invert"]){RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop,valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,text:RG.number_format(this,this.min.toFixed(prop["chart.scale.decimals"]),units_pre,units_post),tag:"scale"});for(var i=0,len=this.scale2.labels.length;len>i;++i)RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop+(i+1)/this.scale2.labels.length*this.grapharea,valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,text:this.scale2.labels[i],tag:"scale"})}else for(var i=0,len=this.scale2.labels.length;len>i;++i)RG.Text2(this,{font:font,size:text_size,x:xpos,y:this.gutterTop+i/this.scale2.labels.length*this.grapharea,valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,text:this.scale2.labels[this.scale2.labels.length-(i+1)],tag:"scale"});(0!=prop["chart.ymin"]&&!prop["chart.scale.invert"]||prop["chart.scale.zerostart"]||prop["chart.noxaxis"])&&RG.Text2(this,{font:font,size:text_size,x:xpos,y:prop["chart.scale.invert"]?this.gutterTop:ca.height-this.gutterBottom,text:RG.number_format(this,prop["chart.ymin"].toFixed(prop["chart.scale.decimals"]),units_pre,units_post),valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,tag:"scale"})}1==prop["chart.noxaxis"]&&null==prop["chart.ymin"]&&"center"!=prop["chart.xaxispos"]&&0==prop["chart.noendytick"]&&RG.Text2(this,{font:font,size:text_size,x:xpos,y:"top"==prop["chart.xaxispos"]?this.gutterTop:ca.height-this.gutterBottom,text:prop["chart.units.pre"]+0..toFixed(prop["chart.scale.decimals"])+prop["chart.units.post"],valign:"center",halign:align,bounding:bounding,boundingFill:bgcolor,tag:"scale"})}else if(prop["chart.ylabels"]&&"object"==typeof prop["chart.ylabels.specific"]){var halign=(this.grapharea/prop["chart.ylabels.specific"].length,"left"==prop["chart.yaxispos"]?"right":"left"),bounding=!1,bgcolor=null,ymin=null!=prop["chart.ymin"]&&prop["chart.ymin"];if("left"==prop["chart.yaxispos"]){var x=this.gutterLeft-5;prop["chart.ylabels.inside"]&&(x+=10,halign="left",bounding=!0,bgcolor="rgba(255,255,255,0.5)")}else if("right"==prop["chart.yaxispos"]){var x=ca.width-this.gutterRight+5;prop["chart.ylabels.inside"]&&(x-=10,halign="right",bounding=!0,bgcolor="rgba(255,255,255,0.5)")}if("center"==prop["chart.xaxispos"]){for(var i=0;i<prop["chart.ylabels.specific"].length;++i){var y=this.gutterTop+this.grapharea/(2*(prop["chart.ylabels.specific"].length-1))*i;if(ymin&&ymin>0){var y=this.grapharea/2/(prop["chart.ylabels.specific"].length-(ymin?1:0))*i;y+=this.gutterTop}RG.Text2(this,{font:font,size:text_size,x:x,y:y,text:String(prop["chart.ylabels.specific"][i]),valign:"center",halign:halign,bounding:bounding,boundingFill:bgcolor,tag:"ylabels.specific"})}for(var reversed_labels=RG.array_reverse(prop["chart.ylabels.specific"]),i=0;i<reversed_labels.length;++i){var y=this.grapharea/2+this.gutterTop+this.grapharea/(2*(reversed_labels.length-1))*i;RG.Text2(this,{font:font,size:text_size,x:x,y:y,text:0==i?"":String(reversed_labels[i]),valign:"center",halign:halign,bounding:bounding,boundingFill:bgcolor,tag:"ylabels.specific"})
}}else if("top"==prop["chart.xaxispos"])for(var reversed_labels=RG.array_reverse(prop["chart.ylabels.specific"]),i=0;i<reversed_labels.length;++i){var y=this.grapharea/(reversed_labels.length-1)*i;y+=this.gutterTop,RG.Text2(this,{font:font,size:text_size,x:x,y:y,text:String(reversed_labels[i]),valign:"center",halign:halign,bounding:bounding,boundingFill:bgcolor,tag:"ylabels.specific"})}else for(var i=0;i<prop["chart.ylabels.specific"].length;++i){var y=this.gutterTop+this.grapharea/(prop["chart.ylabels.specific"].length-1)*i;RG.Text2(this,{font:font,size:text_size,x:x,y:y,text:String(prop["chart.ylabels.specific"][i]),valign:"center",halign:halign,bounding:bounding,boundingFill:bgcolor,tag:"ylabels.specific"})}}if(prop["chart.labels"]&&prop["chart.labels"].length>0){var yOffset=5,bordered=!1,bgcolor=null,angle=0,valign="top",halign="center";prop["chart.xlabels.inside"]&&(yOffset=-5,bordered=!0,bgcolor=prop["chart.xlabels.inside.color"],valign="bottom"),"top"==prop["chart.xaxispos"]&&(valign="bottom",yOffset+=2),"number"==typeof prop["chart.text.angle"]&&prop["chart.text.angle"]>0&&(angle=-1*prop["chart.text.angle"],valign="center",halign="right",yOffset=10,"top"==prop["chart.xaxispos"]&&(yOffset=10)),co.fillStyle=prop["chart.text.color"];var numLabels=prop["chart.labels"].length;for(i=0;numLabels>i;++i)if(prop["chart.labels"][i]){var labelX=(ca.width-this.gutterLeft-this.gutterRight-2*prop["chart.hmargin"])/(numLabels-1)*i;labelX+=this.gutterLeft+prop["chart.hmargin"],0!==this.data.length&&this.data[0]&&prop["chart.labels"].length==this.data[0].length||(labelX=this.gutterLeft+prop["chart.hmargin"]+(ca.width-this.gutterLeft-this.gutterRight-2*prop["chart.hmargin"])*(i/(prop["chart.labels"].length-1))),labelX||(labelX=this.gutterLeft+prop["chart.hmargin"]),"top"==prop["chart.xaxispos"]&&prop["chart.text.angle"]>0&&(halign="left"),0!=prop["chart.text.angle"]&&(halign="right"),RG.Text2(this,{font:font,size:text_size,x:labelX,y:"top"==prop["chart.xaxispos"]?this.gutterTop-yOffset-(prop["chart.xlabels.inside"]?-22:0):ca.height-this.gutterBottom+yOffset,text:String(prop["chart.labels"][i]),valign:valign,halign:halign,bounding:bordered,boundingFill:bgcolor,angle:angle,tag:"labels"})}}co.stroke(),co.fill()},this.drawLine=this.DrawLine=function(lineData,color,fill,linewidth,tickmarks,index){if(prop["chart.animation.unfold.y"]&&1!=prop["chart.animation.factor"])for(var i=0;i<lineData.length;++i)lineData[i]*=prop["chart.animation.factor"];var penUp=!1,yPos=null,xPos=0;co.lineWidth=1;var lineCoords=[];if(index>0)var prevLineCoords=this.coords2[index-1];var xInterval=(ca.width-2*prop["chart.hmargin"]-this.gutterLeft-this.gutterRight)/(lineData.length-1);for(i=0,len=lineData.length;len>i;i+=1){var data_point=lineData[i],yPos=this.getYCoord(data_point);(null==lineData[i]||"bottom"==prop["chart.xaxispos"]&&lineData[i]<this.min&&!prop["chart.outofbounds"]||"center"==prop["chart.xaxispos"]&&lineData[i]<-1*this.max&&!prop["chart.outofbounds"]||(lineData[i]<this.min&&"center"!==prop["chart.xaxispos"]||lineData[i]>this.max)&&!prop["chart.outofbounds"])&&(yPos=null),co.lineCap="round",co.lineJoin="round",i>0?xPos+=xInterval:xPos=prop["chart.hmargin"]+this.gutterLeft,prop["chart.animation.unfold.x"]&&(xPos*=prop["chart.animation.factor"],xPos<prop["chart.gutter.left"]&&(xPos=prop["chart.gutter.left"])),this.coords.push([xPos,yPos]),lineCoords.push([xPos,yPos])}co.stroke(),this.coords2[index]=lineCoords,RG.ISOLD&&prop["chart.shadow"]&&this.DrawIEShadow(lineCoords,co.shadowColor),co.beginPath(),co.strokeStyle="rgba(0,0,0,0)",fill&&(co.fillStyle=fill);var isStepped=prop["chart.stepped"],isFilled=prop["chart.filled"];if("top"==prop["chart.xaxispos"])var xAxisPos=this.gutterTop;else if("center"==prop["chart.xaxispos"])var xAxisPos=this.gutterTop+this.grapharea/2;else if("bottom"==prop["chart.xaxispos"])var xAxisPos=ca.height-this.gutterBottom;for(var i=0,len=lineCoords.length;len>i;i+=1){xPos=lineCoords[i][0],yPos=lineCoords[i][1];var prevY=lineCoords[i-1]?lineCoords[i-1][1]:null,isLast=i+1==lineCoords.length;!prop["chart.outofbounds"]&&(prevY<this.gutterTop||prevY>ca.height-this.gutterBottom)&&(penUp=!0),0==i||penUp||!yPos||!prevY||prevY<this.gutterTop?(prop["chart.filled"]&&!prop["chart.filled.range"]?(prop["chart.outofbounds"]&&null!==prevY&&null!==yPos||co.moveTo(xPos+1,xAxisPos),"top"==prop["chart.xaxispos"]&&co.moveTo(xPos+1,xAxisPos),isStepped&&i>0&&co.lineTo(xPos,lineCoords[i-1][1]),co.lineTo(xPos,yPos)):RG.ISOLD&&null==yPos||co.moveTo(xPos+1,yPos),penUp=null==yPos?!0:!1):(isStepped&&co.lineTo(xPos,lineCoords[i-1][1]),yPos>=this.gutterTop&&yPos<=ca.height-this.gutterBottom||prop["chart.outofbounds"]?(isLast&&prop["chart.filled"]&&!prop["chart.filled.range"]&&"right"==prop["chart.yaxispos"]&&(xPos-=1),isStepped&&isLast?isStepped&&isLast&&co.lineTo(xPos,yPos):(co.lineTo(xPos,yPos),isFilled&&lineCoords[i+1]&&null==lineCoords[i+1][1]&&co.lineTo(xPos,xAxisPos)),penUp=!1):penUp=!0)}if(prop["chart.filled"]&&!prop["chart.filled.range"]&&!prop["chart.curvy"]){{prop["chart.fillstyle"]}if(index>0&&prop["chart.filled.accumulative"]){co.lineTo(xPos,prevLineCoords?prevLineCoords[i-1][1]:ca.height-this.gutterBottom-1+("center"==prop["chart.xaxispos"]?(ca.height-this.gutterTop-this.gutterBottom)/2:0));for(var k=i-1;k>=0;--k)co.lineTo(0==k?prevLineCoords[k][0]+1:prevLineCoords[k][0],prevLineCoords[k][1])}else if("top"==prop["chart.xaxispos"])co.lineTo(xPos,prop["chart.gutter.top"]+1),co.lineTo(lineCoords[0][0],prop["chart.gutter.top"]+1);else if("number"==typeof lineCoords[i-1][1]){var yPosition="center"==prop["chart.xaxispos"]?(ca.height-this.gutterTop-this.gutterBottom)/2+this.gutterTop:ca.height-this.gutterBottom;co.lineTo(xPos,yPosition),co.lineTo(lineCoords[0][0],yPosition)}co.fillStyle=fill,co.fill(),co.beginPath()}co.stroke(),prop["chart.backdrop"]&&this.DrawBackdrop(lineCoords,color),co.save(),co.beginPath(),co.rect(0,0,ca.width*prop["chart.animation.trace.clip"],ca.height),co.clip(),this.SetShadow(index),this.RedrawLine(lineCoords,color,linewidth,index),co.stroke(),RG.NoShadow(this);for(var i=0;i<lineCoords.length;++i)if(i=Number(i),co.strokeStyle=color,isStepped&&i==lineCoords.length-1&&co.beginPath(),"endcircle"!=tickmarks&&"endsquare"!=tickmarks&&"filledendsquare"!=tickmarks&&"endtick"!=tickmarks&&"endtriangle"!=tickmarks&&"arrow"!=tickmarks&&"filledarrow"!=tickmarks||0==i&&"arrow"!=tickmarks&&"filledarrow"!=tickmarks||i==lineCoords.length-1){var prevX=0>=i?null:lineCoords[i-1][0],prevY=0>=i?null:lineCoords[i-1][1];this.DrawTick(lineData,lineCoords[i][0],lineCoords[i][1],color,!1,prevX,prevY,tickmarks,i)}co.restore(),co.beginPath(),co.arc(ca.width+5e4,ca.height+5e4,2,0,6.38,1)},this.drawTick=this.DrawTick=function(lineData,xPos,yPos,color,isShadow,prevX,prevY,tickmarks,index){if(prop["chart.line.visible"]){if(RG.is_null(yPos))return!1;if(!(yPos>ca.height-this.gutterBottom&&!prop["chart.outofbounds"]||yPos<this.gutterTop&&!prop["chart.outofbounds"])){co.beginPath();var offset=0;if(co.lineWidth=prop["chart.tickmarks.linewidth"]?prop["chart.tickmarks.linewidth"]:prop["chart.linewidth"],co.strokeStyle=isShadow?prop["chart.shadow.color"]:co.strokeStyle,co.fillStyle=isShadow?prop["chart.shadow.color"]:co.strokeStyle,"circle"==tickmarks||"filledcircle"==tickmarks||"endcircle"==tickmarks)("circle"==tickmarks||"filledcircle"==tickmarks||"endcircle"==tickmarks&&(0==index||index==lineData.length-1))&&(co.beginPath(),co.arc(xPos+offset,yPos+offset,prop["chart.ticksize"],0,360/(180/RG.PI),!1),co.fillStyle="filledcircle"==tickmarks?isShadow?prop["chart.shadow.color"]:co.strokeStyle:isShadow?prop["chart.shadow.color"]:"white",co.stroke(),co.fill());else if("halftick"==tickmarks)co.beginPath(),co.moveTo(Math.round(xPos),yPos),co.lineTo(Math.round(xPos),yPos+prop["chart.ticksize"]),co.stroke();else if("tick"==tickmarks)co.beginPath(),co.moveTo(Math.round(xPos),yPos-prop["chart.ticksize"]),co.lineTo(Math.round(xPos),yPos+prop["chart.ticksize"]),co.stroke();else if("endtick"!=tickmarks||0!=index&&index!=lineData.length-1)if("cross"==tickmarks){co.beginPath();var ticksize=prop["chart.ticksize"];co.moveTo(xPos-ticksize,yPos-ticksize),co.lineTo(xPos+ticksize,yPos+ticksize),co.moveTo(xPos+ticksize,yPos-ticksize),co.lineTo(xPos-ticksize,yPos+ticksize),co.stroke()}else if("triangle"==tickmarks||"filledtriangle"==tickmarks||"endtriangle"==tickmarks&&(0==index||index==lineData.length-1))co.beginPath(),co.fillStyle="filledtriangle"==tickmarks?isShadow?prop["chart.shadow.color"]:co.strokeStyle:"white",co.moveTo(Math.round(xPos-prop["chart.ticksize"]),yPos+prop["chart.ticksize"]),co.lineTo(Math.round(xPos),yPos-prop["chart.ticksize"]),co.lineTo(Math.round(xPos+prop["chart.ticksize"]),yPos+prop["chart.ticksize"]),co.closePath(),co.stroke(),co.fill();else if("borderedcircle"==tickmarks||"dot"==tickmarks)co.lineWidth=1,co.strokeStyle=prop["chart.tickmarks.dot.color"],co.fillStyle=prop["chart.tickmarks.dot.color"],co.beginPath(),co.arc(xPos,yPos,prop["chart.ticksize"],0,360/(180/RG.PI),!1),co.closePath(),co.fill(),co.stroke(),co.beginPath(),co.fillStyle=color,co.strokeStyle=color,co.arc(xPos,yPos,prop["chart.ticksize"]-2,0,360/(180/RG.PI),!1),co.closePath(),co.fill(),co.stroke();else if("square"==tickmarks||"filledsquare"==tickmarks||"endsquare"==tickmarks&&(0==index||index==lineData.length-1)||"filledendsquare"==tickmarks&&(0==index||index==lineData.length-1))co.fillStyle="white",co.strokeStyle=co.strokeStyle,co.beginPath(),co.rect(Math.round(xPos-prop["chart.ticksize"]),Math.round(yPos-prop["chart.ticksize"]),2*prop["chart.ticksize"],2*prop["chart.ticksize"]),"filledsquare"==tickmarks||"filledendsquare"==tickmarks?(co.fillStyle=isShadow?prop["chart.shadow.color"]:co.strokeStyle,co.rect(Math.round(xPos-prop["chart.ticksize"]),Math.round(yPos-prop["chart.ticksize"]),2*prop["chart.ticksize"],2*prop["chart.ticksize"])):("square"==tickmarks||"endsquare"==tickmarks)&&(co.fillStyle=isShadow?prop["chart.shadow.color"]:"white",co.rect(Math.round(xPos-prop["chart.ticksize"]+1),Math.round(yPos-prop["chart.ticksize"]+1),2*prop["chart.ticksize"]-2,2*prop["chart.ticksize"]-2)),co.stroke(),co.fill();else if("filledarrow"==tickmarks){var x=Math.abs(xPos-prevX),y=Math.abs(yPos-prevY);if(prevY>yPos)var a=Math.atan(x/y)+1.57;else var a=Math.atan(y/x)+3.14;co.beginPath(),co.moveTo(Math.round(xPos),Math.round(yPos)),co.arc(Math.round(xPos),Math.round(yPos),7,a-.5,a+.5,!1),co.closePath(),co.stroke(),co.fill()}else if("arrow"==tickmarks){var orig_linewidth=co.lineWidth,x=Math.abs(xPos-prevX),y=Math.abs(yPos-prevY);if(co.lineWidth,prevY>yPos)var a=Math.atan(x/y)+1.57;else var a=Math.atan(y/x)+3.14;co.beginPath(),co.moveTo(Math.round(xPos),Math.round(yPos)),co.arc(Math.round(xPos),Math.round(yPos),7,a-.5-(doc.all?.1:.01),a-.4,!1),co.moveTo(Math.round(xPos),Math.round(yPos)),co.arc(Math.round(xPos),Math.round(yPos),7,a+.5+(doc.all?.1:.01),a+.5,!0),co.stroke(),co.fill(),co.lineWidth=orig_linewidth}else if("string"!=typeof tickmarks||"image:"!==tickmarks.substr(0,6)&&"data:"!==tickmarks.substr(0,5)&&"/"!==tickmarks.substr(0,1)&&"../"!==tickmarks.substr(0,3)&&"images/"!==tickmarks.substr(0,7))"function"==typeof tickmarks&&tickmarks(this,lineData,lineData[index],index,xPos,yPos,color,prevX,prevY);else{var img=new Image;img.src="image:"===tickmarks.substr(0,6)?tickmarks.substr(6):tickmarks,img.onload=function(){"center"===prop["chart.tickmarks.image.halign"]&&(xPos-=this.width/2),"right"===prop["chart.tickmarks.image.halign"]&&(xPos-=this.width),"center"===prop["chart.tickmarks.image.valign"]&&(yPos-=this.height/2),"bottom"===prop["chart.tickmarks.image.valign"]&&(yPos-=this.height),xPos+=prop["chart.tickmarks.image.offsetx"],yPos+=prop["chart.tickmarks.image.offsety"],co.drawImage(this,xPos,yPos)}}else co.beginPath(),co.moveTo(Math.round(xPos),yPos-prop["chart.ticksize"]),co.lineTo(Math.round(xPos),yPos+prop["chart.ticksize"]),co.stroke()}}},this.drawRange=this.DrawRange=function(){if(prop["chart.filled.range"]&&prop["chart.filled"]&&prop["chart.line.visible"]){RG.is_null(prop["chart.filled.range.threshold"])&&(prop["chart.filled.range.threshold"]=this.ymin,prop["chart.filled.range.threshold.colors"]=[prop["chart.fillstyle"],prop["chart.fillstyle"]]);for(var idx=0;2>idx;++idx){var y=(prop["chart.filled.range.threshold.colors"],this.getYCoord(prop["chart.filled.range.threshold"]));co.save(),0==idx?(co.beginPath(),co.rect(0,0,ca.width,y),co.clip()):(co.beginPath(),co.rect(0,y,ca.width,ca.height),co.clip()),co.beginPath(),co.fillStyle=1==idx?prop["chart.filled.range.threshold.colors"][1]:prop["chart.filled.range.threshold.colors"][0],co.lineWidth=1;for(var len=this.coords.length/2,i=0;len>i;++i)RG.is_null(this.coords[i][1])||(0==i?co.moveTo(this.coords[i][0],this.coords[i][1]):co.lineTo(this.coords[i][0],this.coords[i][1]));for(var i=this.coords.length-1;i>=len;--i)RG.is_null(this.coords[i][1])?co.moveTo(this.coords[i][0],this.coords[i][1]):co.lineTo(this.coords[i][0],this.coords[i][1]);co.fill(),co.restore()}}},this.redrawLine=this.RedrawLine=function(coords,color,linewidth,index){if(!prop["chart.noredraw"]&&!prop["chart.filled.range"]){if(co.strokeStyle="object"==typeof color&&color&&-1==color.toString().indexOf("CanvasGradient")?color[0]:color,co.lineWidth=linewidth,prop["chart.line.visible"]||(co.strokeStyle="rgba(0,0,0,0)"),!RG.ISOLD&&(prop["chart.curvy"]||prop["chart.spline"]))return void this.DrawCurvyLine(coords,prop["chart.line.visible"]?color:"rgba(0,0,0,0)",linewidth,index);co.beginPath();for(var len=coords.length,width=ca.width,height=ca.height,penUp=!1,i=0;len>i;++i){var yPos=(coords[i][0],coords[i][1]);if(i>0)var prevX=coords[i-1][0],prevY=coords[i-1][1];!(0==i&&coords[i]||yPos<this.gutterTop||prevY<this.gutterTop||yPos>height-this.gutterBottom||i>0&&prevX>width-this.gutterRight||i>0&&prevY>height-this.gutterBottom||null==prevY||1==penUp)||prop["chart.outofbounds"]&&null!=yPos&&null!=prevY?(prop["chart.stepped"]&&i>0&&co.lineTo(coords[i][0],coords[i-1][1]),co.lineTo(coords[i][0],coords[i][1]),penUp=!1):(RG.ISOLD&&null==yPos||co.moveTo(coords[i][0],coords[i][1]),penUp=!1)}if(prop["chart.colors.alternate"]&&"object"==typeof color&&color[0]&&color[1])for(var i=1;len>i;++i){var prevX=coords[i-1][0],prevY=coords[i-1][1];null!=prevY&&null!=coords[i][1]&&(co.beginPath(),co.strokeStyle=color[coords[i][1]<prevY?0:1],co.lineWidth=prop["chart.linewidth"],co.moveTo(prevX,prevY),co.lineTo(coords[i][0],coords[i][1]),co.stroke())}}},this.drawIEShadow=this.DrawIEShadow=function(coords,color){var offsetx=prop["chart.shadow.offsetx"],offsety=prop["chart.shadow.offsety"];co.lineWidth=prop["chart.linewidth"],co.strokeStyle=color,co.beginPath();for(var i=0;i<coords.length;++i){var isNull=RG.isNull(coords[i][1]),prevIsNull=RG.isNull(coords[i-1])||RG.isNull(coords[i-1][1]);0==i||isNull||prevIsNull?isNull||co.moveTo(coords[i][0]+offsetx,coords[i][1]+offsety):co.lineTo(coords[i][0]+offsetx,coords[i][1]+offsety)}co.stroke()},this.drawBackdrop=this.DrawBackdrop=function(coords,color){var size=prop["chart.backdrop.size"];co.lineWidth=size,co.globalAlpha=prop["chart.backdrop.alpha"],co.strokeStyle=color;var yCoords=[];if(co.beginPath(),prop["chart.curvy"]&&!RG.ISOLD){for(var i=0;i<coords.length;++i)yCoords.push(coords[i][1]);this.DrawSpline(co,yCoords,color,null)}else{co.moveTo(coords[0][0],coords[0][1]);for(var j=1;j<coords.length;++j)co.lineTo(coords[j][0],coords[j][1])}co.stroke(),co.globalAlpha=1,RG.NoShadow(this)},this.getLineWidth=this.GetLineWidth=function(i){var linewidth=prop["chart.linewidth"];return"number"==typeof linewidth?linewidth:"object"==typeof linewidth?linewidth[i]?linewidth[i]:linewidth[0]:void 0},this.getShape=this.getPoint=function(e){var obj=this,RG=RGraph,prop=(canvas=e.target,context=this.context,this.properties),mouseXY=RG.getMouseXY(e),mouseX=mouseXY[0],mouseY=mouseXY[1];arguments[1]&&(obj=arguments[1]);for(var i=0;i<obj.coords.length;++i){var x=obj.coords[i][0],y=obj.coords[i][1];if(mouseX<=x+prop["chart.tooltips.hotspot.size"]&&mouseX>=x-prop["chart.tooltips.hotspot.size"]&&mouseY<=y+prop["chart.tooltips.hotspot.size"]&&mouseY>=y-prop["chart.tooltips.hotspot.size"]){if(RG.parseTooltipText)var tooltip=RG.parseTooltipText(prop["chart.tooltips"],i);for(var dataset=0,idx=i;idx+1>this.data[dataset].length;)idx-=this.data[dataset].length,dataset++;return{0:obj,1:x,2:y,3:i,object:obj,x:x,y:y,index:i,tooltip:tooltip,dataset:dataset,index_adjusted:idx}}if(1==prop["chart.tooltips.hotspot.xonly"]&&mouseX<=x+prop["chart.tooltips.hotspot.size"]&&mouseX>=x-prop["chart.tooltips.hotspot.size"]){var tooltip=RG.parseTooltipText(prop["chart.tooltips"],i);return{0:obj,1:x,2:y,3:i,object:obj,x:x,y:y,index:i,tooltip:tooltip}}}},this.drawAboveLabels=this.DrawAboveLabels=function(){var size=prop["chart.labels.above.size"],font=prop["chart.text.font"],units_pre=prop["chart.units.pre"],units_post=prop["chart.units.post"],decimals=prop["chart.labels.above.decimals"];co.beginPath();for(var i=0,len=this.coords.length;len>i;i+=1){var coords=this.coords[i];RG.Text2(this,{font:font,size:size,x:coords[0],y:coords[1]-5-size,text:RG.numberFormat(this,"number"==typeof decimals?this.data_arr[i].toFixed(decimals):this.data_arr[i],units_pre,units_post),valign:"center",halign:"center",bounding:!0,boundingFill:"white",tag:"labels.above"})}},this.drawCurvyLine=this.DrawCurvyLine=function(coords,color,linewidth,index){if(!RG.ISOLD){for(var yCoords=[],i=0;i<coords.length;++i)yCoords.push(coords[i][1]);if(prop["chart.filled"]){if(co.beginPath(),co.moveTo(coords[0][0],ca.height-this.gutterBottom),this.DrawSpline(co,yCoords,color,index),prop["chart.filled.accumulative"]&&index>0)for(var i=this.coordsSpline[index-1].length-1;i>=0;i-=1)co.lineTo(this.coordsSpline[index-1][i][0],this.coordsSpline[index-1][i][1]);else co.lineTo(coords[coords.length-1][0],ca.height-this.gutterBottom);co.fill()}co.beginPath(),this.DrawSpline(co,yCoords,color,index),co.stroke()}},this.getValue=function(arg){if(2==arg.length)var mouseY=(arg[0],arg[1]);else var mouseCoords=RG.getMouseXY(arg),mouseY=(mouseCoords[0],mouseCoords[1]);var obj=this,xaxispos=prop["chart.xaxispos"];if(mouseY<prop["chart.gutter.top"])return"bottom"==xaxispos||"center"==xaxispos?this.max:this.min;if(mouseY>ca.height-prop["chart.gutter.bottom"])return"bottom"==xaxispos?this.min:this.max;if("center"==prop["chart.xaxispos"]){var value=(obj.grapharea/2-(mouseY-prop["chart.gutter.top"]))/obj.grapharea*(obj.max-obj.min);return value*=2,value>0?value+=this.min:value-=this.min,value}if("top"==prop["chart.xaxispos"]){var value=(obj.grapharea-(mouseY-prop["chart.gutter.top"]))/obj.grapharea*(obj.max-obj.min);return value=-1*Math.abs(obj.max-value)}var value=(obj.grapharea-(mouseY-prop["chart.gutter.top"]))/obj.grapharea*(obj.max-obj.min);return value+=obj.min},this.highlight=this.Highlight=function(shape){prop["chart.tooltips.highlight"]&&RG.Highlight.Point(this,shape)},this.getObjectByXY=function(e){var mouseXY=RG.getMouseXY(e);return mouseXY[0]>prop["chart.gutter.left"]-5&&mouseXY[0]<ca.width-prop["chart.gutter.right"]+5&&mouseXY[1]>prop["chart.gutter.top"]-5&&mouseXY[1]<ca.height-prop["chart.gutter.bottom"]+5?this:void 0},this.adjusting_mousemove=this.Adjusting_mousemove=function(e){if(prop["chart.adjustable"]&&RG.Registry.Get("chart.adjusting")&&RG.Registry.Get("chart.adjusting").uid==this.uid){var value=Number(this.getValue(e)),shape=RG.Registry.Get("chart.adjusting.shape");shape&&(RG.Registry.Set("chart.adjusting.shape",shape),this.original_data[shape.dataset][shape.index_adjusted]=Number(value),RG.redrawCanvas(e.target),RG.fireCustomEvent(this,"onadjust"))}},this.getYCoord=function(value){if("number"!=typeof value)return null;var y,xaxispos=prop["chart.xaxispos"];if("top"==xaxispos)y=(value-this.min)/(this.max-this.min)*this.grapharea,prop["chart.scale.invert"]&&(y=this.grapharea-y),y+=this.gutterTop;else if("center"==xaxispos)y=(value-this.min)/(this.max-this.min)*(this.grapharea/2),y=this.grapharea/2-y,y+=this.gutterTop;else{if((value<this.min||value>this.max)&&0==prop["chart.outofbounds"])return null;y=(value-this.min)/(this.max-this.min)*this.grapharea,prop["chart.scale.invert"]&&(y=this.grapharea-y),y=ca.height-this.gutterBottom-y}return y},this.positionTooltip=function(obj,x,y,tooltip){var coordX=obj.coords[tooltip.__index__][0],canvasXY=(obj.coords[tooltip.__index__][1],RG.getCanvasXY(obj.canvas)),width=(prop["chart.gutter.left"],prop["chart.gutter.top"],tooltip.offsetWidth);tooltip.style.left=0,tooltip.style.top=parseInt(tooltip.style.top)-9+"px",tooltip.style.overflow="";var img=new Image;img.src="data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAABEAAAAFCAYAAACjKgd3AAAARUlEQVQYV2NkQAN79+797+RkhC4M5+/bd47B2dmZEVkBCgcmgcsgbAaA9GA1BCSBbhAuA/AagmwQPgMIGgIzCD0M0AMMAEFVIAa6UQgcAAAAAElFTkSuQmCC",img.style.position="absolute",img.id="__rgraph_tooltip_pointer__",img.style.top=tooltip.offsetHeight-2+"px",tooltip.appendChild(img),canvasXY[0]+coordX-width/2<10?(tooltip.style.left=canvasXY[0]+coordX-.2*width+"px",img.style.left=.2*width-8.5+"px"):canvasXY[0]+coordX+width/2>doc.body.offsetWidth?(tooltip.style.left=canvasXY[0]+coordX-.8*width+"px",img.style.left=.8*width-8.5+"px"):(tooltip.style.left=canvasXY[0]+coordX-.5*width+"px",img.style.left=.5*width-8.5+"px")},this.drawSpline=this.DrawSpline=function(context,coords,color,index){function Spline(t,P0,P1,P2,P3){return.5*(2*P1+(0-P0+P2)*t+((2*P0-5*P1+4*P2-P3)*t*t+(0-P0+3*P1-3*P2+P3)*t*t*t))}this.coordsSpline[index]=[];var xCoords=[],gutterLeft=prop["chart.gutter.left"],gutterRight=prop["chart.gutter.right"],hmargin=prop["chart.hmargin"],interval=(ca.width-(gutterLeft+gutterRight)-2*hmargin)/(coords.length-1);co.strokeStyle=color;for(var i=0,len=coords.length;len>i;i+=1)"object"==typeof coords[i]&&coords[i]&&2==coords[i].length&&(coords[i]=Number(coords[i][1]));for(var P=[coords[0]],i=0;i<coords.length;++i)P.push(coords[i]);P.push(coords[coords.length-1]+(coords[coords.length-1]-coords[coords.length-2]));for(var j=1;j<P.length-2;++j)for(var t=0;10>t;++t){var yCoord=Spline(t/10,P[j-1],P[j],P[j+1],P[j+2]);xCoords.push((j-1)*interval+t*(interval/10)+gutterLeft+hmargin),co.lineTo(xCoords[xCoords.length-1],yCoord),"number"==typeof index&&this.coordsSpline[index].push([xCoords[xCoords.length-1],yCoord])}co.lineTo((j-1)*interval+gutterLeft+hmargin,P[j]),"number"==typeof index&&this.coordsSpline[index].push([(j-1)*interval+gutterLeft+hmargin,P[j]])},this.parseColors=function(){0===this.original_colors.length&&(this.original_colors["chart.colors"]=RGraph.array_clone(prop["chart.colors"]),this.original_colors["chart.fillstyle"]=RGraph.array_clone(prop["chart.fillstyle"]),this.original_colors["chart.key.colors"]=RGraph.array_clone(prop["chart.key.colors"]),this.original_colors["chart.background.barcolor1"]=prop["chart.background.barcolor1"],this.original_colors["chart.background.barcolor2"]=prop["chart.background.barcolor2"],this.original_colors["chart.background.grid.color"]=prop["chart.background.grid.color"],this.original_colors["chart.background.color"]=prop["chart.background.color"],this.original_colors["chart.text.color"]=prop["chart.text.color"],this.original_colors["chart.crosshairs.color"]=prop["chart.crosshairs.color"],this.original_colors["chart.annotate.color"]=prop["chart.annotate.color"],this.original_colors["chart.title.color"]=prop["chart.title.color"],this.original_colors["chart.title.yaxis.color"]=prop["chart.title.yaxis.color"],this.original_colors["chart.key.background"]=prop["chart.key.background"],this.original_colors["chart.axis.color"]=prop["chart.axis.color"],this.original_colors["chart.highlight.fill"]=prop["chart.highlight.fill"]);for(var i=0;i<prop["chart.colors"].length;++i)"object"==typeof prop["chart.colors"][i]&&prop["chart.colors"][i][0]&&prop["chart.colors"][i][1]?(prop["chart.colors"][i][0]=this.parseSingleColorForGradient(prop["chart.colors"][i][0]),prop["chart.colors"][i][1]=this.parseSingleColorForGradient(prop["chart.colors"][i][1])):prop["chart.colors"][i]=this.parseSingleColorForGradient(prop["chart.colors"][i]);if(prop["chart.fillstyle"])if("string"==typeof prop["chart.fillstyle"])prop["chart.fillstyle"]=this.parseSingleColorForGradient(prop["chart.fillstyle"],"vertical");else for(var i=0;i<prop["chart.fillstyle"].length;++i)prop["chart.fillstyle"][i]=this.parseSingleColorForGradient(prop["chart.fillstyle"][i],"vertical");if(!RG.is_null(prop["chart.key.colors"]))for(var i=0;i<prop["chart.key.colors"].length;++i)prop["chart.key.colors"][i]=this.parseSingleColorForGradient(prop["chart.key.colors"][i]);for(var properties=["chart.background.barcolor1","chart.background.barcolor2","chart.background.grid.color","chart.background.color","chart.text.color","chart.crosshairs.color","chart.annotate.color","chart.title.color","chart.title.yaxis.color","chart.key.background","chart.axis.color","chart.highlight.fill"],i=0;i<properties.length;++i)prop[properties[i]]=this.parseSingleColorForGradient(prop[properties[i]])},this.reset=function(){},this.parseSingleColorForGradient=function(color){if(!color||"string"!=typeof color)return color;var dir="string"==typeof arguments[1]?arguments[1]:"vertical";if("string"==typeof color&&color.match(/^gradient\((.*)\)$/i)){var parts=RegExp.$1.split(":");if("horizontal"==dir)var grad=co.createLinearGradient(0,0,ca.width,0);else var grad=co.createLinearGradient(0,ca.height-prop["chart.gutter.bottom"],0,prop["chart.gutter.top"]);var diff=1/(parts.length-1);grad.addColorStop(0,RG.trim(parts[0]));for(var j=1;j<parts.length;++j)grad.addColorStop(j*diff,RG.trim(parts[j]))}return grad?grad:color},this.setShadow=this.SetShadow=function(i){if(prop["chart.shadow"]){var shadowColor=prop["chart.shadow.color"];"object"==typeof shadowColor&&shadowColor[i-1]?co.shadowColor=shadowColor[i]:"object"==typeof shadowColor?co.shadowColor=shadowColor[0]:"string"==typeof shadowColor&&(co.shadowColor=shadowColor),co.shadowBlur=prop["chart.shadow.blur"],co.shadowOffsetX=prop["chart.shadow.offsetx"],co.shadowOffsetY=prop["chart.shadow.offsety"]}},this.interactiveKeyHighlight=function(index){var coords=this.coords2[index];if(coords){var pre_linewidth=co.lineWidth,pre_linecap=co.lineCap;if(co.lineWidth=prop["chart.linewidth"]+10,co.lineCap="round",co.strokeStyle=prop["chart.key.interactive.highlight.chart.stroke"],co.beginPath(),prop["chart.curvy"])this.DrawSpline(co,coords,prop["chart.key.interactive.highlight.chart"],null);else for(var i=0,len=coords.length;len>i;i+=1)0==i||RG.is_null(coords[i][1])||void 0!=typeof coords[i-1][1]&&RG.is_null(coords[i-1][1])?co.moveTo(coords[i][0],coords[i][1]):co.lineTo(coords[i][0],coords[i][1]);co.stroke(),co.lineWidth=pre_linewidth,co.lineCap=pre_linecap}},this.on=function(type,func){return"on"!==type.substr(0,2)&&(type="on"+type),this[type]=func,this},this.firstDrawFunc=function(){},this.trace=function(){var obj=this,callback="function"==typeof arguments[1]?arguments[1]:function(){},opt=arguments[0]||{};opt.frames&&(opt.duration=opt.frames/60*1e3),opt.duration||(opt.duration=1500),RG.clear(obj.canvas),RG.redrawCanvas(obj.canvas);var div=doc.createElement("DIV"),xy=RG.getCanvasXY(obj.canvas);div.id="__rgraph_trace_animation_"+RG.random(0,4351623)+"__",div.style.left=xy[0]+"px",div.style.top=xy[1]+"px",div.style.width=obj.Get("chart.gutter.left"),div.style.height=obj.canvas.height+"px",div.style.position="absolute",div.style.overflow="hidden",doc.body.appendChild(div),obj.canvas.__rgraph_trace_div__=div;var id="__rgraph_line_trace_animation_"+RG.random(0,99999999)+"__",canvas2=doc.createElement("CANVAS"),properties=["WebkitTransform","MozTransform","OTransform","MSTransform","transform"];for(i in properties){var name=properties[i];"string"==typeof obj.canvas.style[name]&&obj.canvas.style[name]&&(canvas2.style[name]=obj.canvas.style[name])}obj.canvas.__rgraph_line_canvas2__=canvas2,canvas2.width=obj.canvas.width,canvas2.height=obj.canvas.height,canvas2.style.position="absolute",canvas2.style.left=0,canvas2.style.top=0,canvas2.noclear=!0,canvas2.id=id,div.appendChild(canvas2);var reposition_canvas2=function(){var xy=RG.getCanvasXY(obj.canvas);div.style.left=xy[0]+"px",div.style.top=xy[1]+"px"};window.addEventListener("resize",reposition_canvas2,!1);var obj2=new RG.Line(id,RG.array_clone(obj.original_data));RG.ObjectRegistry.Remove(obj2);for(i in obj.properties)"string"==typeof i&&obj2.Set(i,obj.properties[i]);if(obj2.Set("labels",[]),obj2.Set("background.grid",!1),obj2.Set("background.barcolor1","rgba(0,0,0,0)"),obj2.Set("background.barcolor2","rgba(0,0,0,0)"),obj2.Set("ylabels",!1),obj2.Set("noaxes",!0),obj2.Set("title",""),obj2.Set("title.xaxis",""),obj2.Set("title.yaxis",""),obj2.Set("filled.accumulative",obj.Get("chart.filled.accumulative")),obj.Set("key",[]),obj2.Draw(),obj.canvas.__rgraph_trace_obj2__=obj2,obj.Set("line.visible",!1),obj.Set("colors",["rgba(0,0,0,0)"]),obj.Get("filled")){var original_fillstyle=obj.Get("chart.fillstyle");obj.Set("fillstyle","rgba(0,0,0,0)"),obj.Set("animation.trace.original.fillstyle",original_fillstyle)}if(RG.clear(obj.canvas),RG.redrawCanvas(obj.canvas),obj.canvas.__rgraph_trace_cover__)div2=obj.canvas.__rgraph_trace_cover__;else{var div2=doc.createElement("DIV");div2.id="__rgraph_trace_animation_"+RG.random(0,4351623)+"__",div2.style.left=xy[0]+"px",div2.style.top=xy[1]+"px",div2.style.width=obj.canvas.width+"px",div2.style.height=obj.canvas.height+"px",div2.style.position="absolute",div2.style.overflow="hidden",div2.style.backgroundColor="rgba(0,0,0,0)",div.div2=div2,obj.canvas.__rgraph_trace_cover__=div2,doc.body.appendChild(div2)}return trace_complete=function(obj){var obj2=obj.canvas.__rgraph_trace_obj2__;win.removeEventListener("resize",reposition_canvas2,!1),div.style.display="none",div2.style.display="none",obj.Set("line.visible",!0),obj.Set("filled",RGraph.array_clone(obj2.Get("chart.filled"))),obj.Set("fillstyle",obj.Get("chart.animation.trace.original.fillstyle")),obj.Set("colors",RGraph.array_clone(obj2.Get("chart.colors"))),obj.Set("key",RGraph.array_clone(obj2.Get("chart.key"))),RGraph.RedrawCanvas(obj.canvas),obj.canvas.__rgraph_trace_div__.style.display="none",obj.canvas.__rgraph_line_canvas2__.style.display="none",obj.canvas.__rgraph_trace_cover__.style.display="none",obj.canvas.__rgraph_trace_div__=null,obj.canvas.__rgraph_line_canvas2__=null,obj.canvas.__rgraph_trace_cover__=null,callback(obj)},jq("#"+div.id).animate({width:obj.canvas.width-obj.gutterRight+"px"},opt.duration,function(){trace_complete(obj)}),this},this.unfold=function(){function iterator(){prop["chart.animation.factor"]=(1-initial)*(frame/frames)+initial,RG.clear(obj.canvas),RG.redrawCanvas(obj.canvas),frames>frame?(frame++,RG.Effects.updateCanvas(iterator)):callback(obj)}var obj=this,opt=arguments[0]?arguments[0]:{},frames=opt.frames?opt.frames:30,frame=0,callback=arguments[1]?arguments[1]:function(){},initial=prop["chart.animation.unfold.initial"];return prop["chart.animation.factor"]=prop["chart.animation.unfold.initial"],iterator(),this},this.trace2=function(){function iterator(){RG.clear(obj.canvas),RG.redrawCanvas(obj.canvas),frame++<frames?(obj.Set("animation.trace.clip",frame/frames),RG.Effects.updateCanvas(iterator)):callback(obj)}var obj=this,callback=arguments[2],opt=arguments[0]||{},frames=opt.frames||30,frame=0,callback=arguments[1]||function(){};return obj.Set("animation.trace.clip",0),iterator(),this},this.foldtocenter=this.foldToCenter=function(){function iterator(){for(var i=0,len=obj.data.length;len>i;++i)if(obj.data[i].length)for(var j=0,len2=obj.data[i].length;len2>j;++j){var dataset=obj.original_data[i];dataset[j]=dataset[j]>center_value?original_data[i][j]-(original_data[i][j]-center_value)*(frame/frames):original_data[i][j]+(center_value-original_data[i][j])/frames*frame}RG.clear(obj.canvas),RG.redrawCanvas(obj.canvas),frame++<frames?RG.Effects.updateCanvas(iterator):callback(obj)}var obj=this,opt=arguments[0]||{},frames=opt.frames||30,frame=0,callback=arguments[1]||function(){},center_value=obj.scale2.max/2;obj.Set("chart.ymax",obj.scale2.max);var original_data=RG.array_clone(obj.original_data);return iterator(),this
},this.unfoldFromCenterTrace=this.unfoldFromCenterTrace2=function(){var obj=this,opt=arguments[0]||{},frames=opt.frames||30,data=RG.array_clone(obj.original_data),callback=arguments[1]||function(){};obj.canvas.style.visibility="hidden",obj.Draw();obj.scale2.max;RG.clear(obj.canvas),obj.canvas.style.visibility="visible";var unfoldCallback=function(){obj.original_data=data,obj.unfoldFromCenter({frames:frames/2},callback)},half="center"==obj.Get("chart.xaxispos")?obj.min:(obj.max-obj.min)/2+obj.min;obj.Set("chart.ymax",obj.max);for(var i=0,len=obj.original_data.length;len>i;++i)for(var j=0;j<obj.original_data[i].length;++j)obj.original_data[i][j]=obj.Get("chart.filled")&&obj.Get("chart.filled.accumulative")&&i>0?0:half;RG.clear(obj.canvas),obj.trace2({frames:frames/2},unfoldCallback)},this.unfoldFromCenter=function(){function unfoldFromCenter(){for(var dataset=0;dataset<original_data.length;++dataset)for(var i=0;i<original_data[dataset].length;++i)obj.original_data[dataset][i]+=steps[dataset][i];RG.clear(obj.canvas),RG.redrawCanvas(obj.canvas),--frames>0?RG.Effects.updateCanvas(unfoldFromCenter):(obj.original_data=RG.array_clone(original_data),RG.clear(obj.canvas),RG.redrawCanvas(obj.canvas),callback(obj))}var obj=this,opt=arguments[0]||{},frames=opt.frames||30,callback=arguments[1]||function(){};obj.canvas.style.visibility="hidden",obj.Draw();var max=obj.scale2.max;RG.clear(obj.canvas),obj.canvas.style.visibility="visible";var center_value="center"===obj.Get("chart.xaxispos")?prop["chart.ymin"]:(obj.max-obj.min)/2+obj.min,original_data=RG.array_clone(obj.original_data),steps=null;if(obj.Set("chart.ymax",max),!steps){steps=[];for(var dataset=0,len=original_data.length;len>dataset;++dataset){steps[dataset]=[];for(var i=0,len2=original_data[dataset].length;len2>i;++i)prop["chart.filled"]&&prop["chart.filled.accumulative"]&&dataset>0?(steps[dataset][i]=original_data[dataset][i]/frames,obj.original_data[dataset][i]=center_value):(steps[dataset][i]=(original_data[dataset][i]-center_value)/frames,obj.original_data[dataset][i]=center_value)}}return unfoldFromCenter(),this},RG.Register(this),parseConfObjectForOptions&&RG.parseObjectStyleConfig(this,conf.options)},define("app/libs/RGraph.line",function(){}),define("app/libs/RGraph",["require","./RGraph.common.core","./RGraph.common.dynamic","./RGraph.common.tooltips","./RGraph.line"],function(require){"use strict";require("./RGraph.common.core"),require("./RGraph.common.dynamic"),require("./RGraph.common.tooltips"),require("./RGraph.line")}),define("text!app/common/directives/userCard/templates/userCard.html",[],function(){return'<div class="user-card text-center">\n  <follow-button ng-if="!isMe" class="btn-follow" user-id="userId"></follow-button>\n\n  <p class="padding-25">\n    <img height="60" ng-src="{{user.avatar}}" class="img-circle" alt="" />\n  </p>\n\n  <div class="user-info">\n    <p>\n      <b>{{user.username}}</b>\n    </p>\n\n    <p>\n      {{user.bio}}\n    </p>\n  </div>\n  \n  <ul class="user-card-list padding-25">\n    <li ng-if="isMe" ng-click="changeLocation()">\n      <span class="left">My Feeds</span> <span class="right">{{user.mentionsfeed_total}}</span>\n    </li>\n    <li ng-click="changeLocation(\'followers\')">\n      <span class="left">Followers</span> <span class="right">{{user.followers}}</span>\n    </li>\n    <li ng-click="changeLocation(\'following\')">\n      <span class="left">Following</span> <span class="right">{{user.following}}</span>\n    </li>\n    <li ng-if="!isMe" ng-click="changeLocation(\'posts\')">\n      <span class="left">Posts</span> <span class="right">{{user.posts}}</span>\n    </li>\n    <li ng-if="isMe" ng-click="changeLocation(\'pending\')">\n      <span class="left">Pending posts</span> <span class="right">{{user.posts_pending}}</span>\n    </li>\n    <li ng-click="changeLocation(\'favorites\')">\n      <span class="left">Favorites</span> <span class="right">{{user.favorites}}</span>\n    </li>\n    <li ng-click="changeLocation(\'tags\')">\n      <span class="left">Tags</span> <span class="right">{{user.tags_follow}}</span>\n    </li>\n    <li ng-if="isMe" ng-click="changeLocation(\'history/posts\')">\n      <span class="left">History</span>\n    </li>\n  </ul>\n\n  <div class="clearfix">\n    <div class="pull-right user-menu">\n      <span class="dropdown-toggle" data-toggle="dropdown">\n        <i class="fa fa-ellipsis-h fa-lg"></i>\n      </span>\n      <ul ng-if="!isMe" class="dropdown-menu" role="menu">\n        <li ng-if="!isBlocked(userId)">\n          <a href block-user user-id="userId">Block user</a>\n        </li>\n        <li ng-if="isBlocked(userId)">\n          <a href block-user user-id="userId">Unblock user</a>\n        </li>\n        <li>\n          <a href report target="users" target-id="userId" show-reason="true">Report inappropiate</a>\n        </li>\n      </ul>\n      <ul ng-if="isMe" class="dropdown-menu" role="menu">\n        <li>\n          <a href="/profile">Edit profile</a>\n        </li>\n        <li>\n          <a href ng-click="changeLocation(\'blocked\')">Blocked users</a>\n        </li>\n        <li>\n          <a href="/dashboard/payments/settings">Payment Settings</a>\n        </li>\n        <li>\n          <a href="/dashboard/payments/history">Payment History</a>\n        </li>\n      </ul>\n    </div>\n  </div>\n</div>\n\n'}),define("text!app/common/directives/blockUser/templates/blockUserModal.html",[],function(){return'<div class="message-popup">\n  <form ng-submit="block()" name="blockUser" novalidate>\n    <div class="report-reason text-center">\n      <h3>Block user</h3>\n    </div>\n\n    <hr />\n\n    <div class="padding-25 text-center">Are you sure do you want block this user?</div>\n\n    <div class="form-actions">\n      <button type="button" ng-click="closeDialog()">Cancel</button>\n      <button type="submit">OK</button> \n    </div>\n  </form>\n</div>\n\n'}),define("text!app/common/directives/blockUser/templates/unBlockUserModal.html",[],function(){return'<div class="message-popup">\n  <form ng-submit="block()" name="blockUser" novalidate>\n    <div class="report-reason text-center">\n      <h3>Unblock user</h3>\n    </div>\n\n    <hr />\n\n    <div class="padding-25 text-center">Are you sure do you want unblock this user?</div>\n\n    <div class="form-actions">\n      <button type="button" ng-click="closeDialog()">Cancel</button>\n      <button type="submit">OK</button> \n    </div>\n  </form>\n</div>\n\n\n'}),define("app/common/services/blockListService",["angular","lodash","angularLocalStorage","app/common/resources/constants/constants"],function(angular,_){"use strict";return angular.module("ernr.blockListService",["common.resources.constant","angularLocalStorage"]).factory("blockListFactory",["apiDomain","$http","storage",function(constant,$http,storage){var isBlocked=function(id){return _.indexOf(storage.get("blocked"),id)>=0},sync=function(id,type){var ids=storage.get("blocked"),isIncluded=isBlocked(id);"add"!==type||isIncluded?"remove"===type&&isIncluded&&_.remove(ids,function(n){return n===id}):ids.push(id),storage.set("blocked",ids)};return{get:function(params){return $http.get(constant.domain+"/user/blocklist",{params:params})},add:function(id){return $http.post(constant.domain+"/user/blocklist",{blockid:id}).success(sync.bind(this,id,"add"))},remove:function(id){return $http["delete"](constant.domain+"/user/blocklist/"+id).success(sync.bind(this,id,"remove"))},loadToLocalStorage:function(){this.get({per_page:0}).success(function(resp){var ids=resp.result.items.map(function(e){return e.id});storage.set("blocked",ids)})},isBlocked:function(id){return isBlocked(id)}}}])}),define("app/common/directives/blockUser/blockUser",["angular","text!./templates/blockUserModal.html","text!./templates/unBlockUserModal.html","app/common/services/blockListService","angularBootstrap"],function(angular,blockUserTemplate,unBlockUserTemplate){"use strict";var module=angular.module("ernr.directives.blockUser",["ui.bootstrap","ernr.blockListService"]).controller("blockUserModalCtrl",["$scope","$modalInstance",function($scope,$modalInstance){$scope.block=function(){$modalInstance.close()},$scope.closeDialog=function(){$modalInstance.dismiss("cancel")}}]).directive("blockUser",["blockListFactory",function(blockList){return{restrict:"A",scope:{userId:"="},controller:["$scope","$modal",function($scope,$modal){$scope.showBlockUserPopUp=function(){var modalInstance=$modal.open({template:blockUserTemplate,controller:"blockUserModalCtrl",backdrop:"static",keyboard:!1});modalInstance.result.then(function(){blockList.add($scope.userId).success(function(data){console.info("blockUser success",data)}).error(function(data){console.error("blockUser error",data)})})},$scope.showUnBlockUserPopUp=function(){var modalInstance=$modal.open({template:unBlockUserTemplate,controller:"blockUserModalCtrl",backdrop:"static",keyboard:!1});modalInstance.result.then(function(){blockList.remove($scope.userId).success(function(data){console.info("unBlockUser success",data)}).error(function(data){console.error("unBlockUser error",data)})})}}],link:function(scope,element){blockList.isBlocked(scope.userId)?element.on("click",scope.showUnBlockUserPopUp):element.on("click",scope.showBlockUserPopUp)}}}]);return module}),define("app/common/directives/userCard/userCard",["angular","text!./templates/userCard.html","app/common/services/profileService","app/common/context/user","app/common/directives/blockUser/blockUser","app/common/services/blockListService"],function(angular,userCardTemplates){return angular.module("ernr.directives.userCard",["ernr.ProfileService","ernr.userService","ernr.directives.blockUser","ernr.blockListService"]).directive("userCard",function(){return{restrict:"E",replace:!0,scope:{userId:"="},controller:["$scope","$location","profileFactory","userFactory","blockListFactory",function($scope,$location,profile,currentUser,blockList){$scope.isMe=!$scope.userId,$scope.isBlocked=blockList.isBlocked,$scope.isMe?$scope.user=currentUser.getInfo():profile.getProfile($scope.userId).then(function(data){$scope.user=data}),$scope.changeLocation=function(location){var path;$scope.isMe?(location||(location=""),path="dashboard/"+location):path="/users/"+$scope.userId+"/"+location,$location.path(path)}}],template:userCardTemplates}})}),define("app/modules/profile/profile",["angular","text!./profile.html","./controllers/main","./../../libs/angular.dcb-img-fallback","./../../libs/RGraph","angularFileUpload","app/common/services/uploadFileService","angularRoute","app/common/directives/thumbEditor/thumbEditor","app/common/directives/userCard/userCard"],function(angular,template,maincontroller){"use strict";var module=angular.module("ernr.profile",["ngRoute","libs.img-fallback","ernr.uploadFile","angularFileUpload","ernr.directives.thumbEditor","ernr.directives.userCard"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("profile",template)}]),angular.module("ernr.profile").config(["$routeProvider","$locationProvider","$httpProvider",function($routeProvider,$locationProvider){$locationProvider.html5Mode(!0),$routeProvider.when("/profile",{template:template,controller:"ProfileController"}).when("/profile/:id?/:site?/:sector?",{template:template,controller:"ProfileController"}).otherwise({redirectTo:"/"})}]).controller("ProfileController",maincontroller),module}),define("text!app/modules/login/login.html",[],function(){return'<div class="container">\n	<form class="form-login" action="http://api.dev.rabadaba.com/account/login" ng-submit="onSubmitHandler($event, loginForm)" novalidate name="loginForm">\n		<h2 class="form-login-heading">sign in now</h2>\n		<div class="login-wrap">\n			<input ng-model="loginFormValues.login" required type="text" class="form-control" placeholder="User ID" autofocus>\n			<br>\n			<input ng-model="loginFormValues.password" required type="password" class="form-control" placeholder="Password">\n			<label class="checkbox">\n			<input type="checkbox" value="remember-me"> Remember me\n			<span class="pull-right">\n				<a data-toggle="modal" href="" ng-click="forgotPasswordModal()"> Forgot Password?</a>\n			</span>\n			</label>\n			<button class="btn btn-theme btn-block" href="index.html" type="submit"><i class="fa fa-lock"></i> SIGN IN</button>\n			<hr>\n			<div class="registration">\n				Don\'t have an account yet?<br/>\n				<a class="" href="/login/create-account">\n				Create an account\n				</a>\n			</div>\n\n		</div>\n	</form>\n</div>\n\n<!--BACKSTRETCH-->\n<!-- You can use an image of whatever size. This script will stretch to fit in any screen size.-->\n<!-- <script type="text/javascript" src="assets/js/jquery.backstretch.min.js"></script> -->\n'}),define("text!app/modules/login/forgot-password.html",[],function(){return'<div class="container">\n  <form class="form-password" action="http://api.dev.rabadaba.com/account/forgot" ng-submit="onSubmitPasswordHandler($event, passwordForm)" novalidate name="passwordForm">\n    <h2 class="form-password-heading">forgot password</h2>\n    <div class="password-wrap">\n      <input ng-model="passwordFormValues.email" required type="email" class="form-control" placeholder="Email">\n      <br>\n      <button class="btn btn-theme btn-block" href="index.html" type="submit">SEND</button>\n      <hr>\n    </div>\n  </form>\n</div>'}),define("app/modules/login/controllers/password",["require","angular"],function(require){"use strict";{var controller;require("angular")}return controller=["$scope","apiUserService",function($scope,apiUserService){$scope.passwordFormValues={email:""},$scope.onSubmitPasswordHandler=function($event,passwordForm){$event.preventDefault(),passwordForm&&passwordForm.$valid&&$scope.passwordFormValues.email&&apiUserService.password($scope.passwordFormValues)}}]}),define("app/modules/login/controllers/login",["require","angular","text!./../forgot-password.html","./password"],function(require){"use strict";var controller,templatePassword=(require("angular"),require("text!./../forgot-password.html")),passwordCtrl=require("./password");return controller=["$scope","$modal","apiUserService","$templateCache","$modalInstance",function($scope,$modal,apiUserService,$templateCache,$modalInstance){$templateCache.put("password",templatePassword),$scope.loginFormValues={login:"",password:""},$scope.forgotPasswordModal=function(){$modal.open({template:templatePassword,controller:passwordCtrl})},$scope.onSubmitHandler=function($event,loginForm){$event.preventDefault(),loginForm&&loginForm.$valid&&$scope.loginFormValues.login&&$scope.loginFormValues.password&&apiUserService.login($scope.loginFormValues).then(function(){$modalInstance.close()})}}]}),define("text!app/modules/login/validation.html",[],function(){return'<div class="container">\n  <form class="form-create" action="http://api.dev.rabadaba.com/account/validate" ng-submit="onSubmitValidationHandler($event)" novalidate name="validationForm">\n    <h2 class="form-create-heading">validation</h2>\n    <div class="create-wrap">\n      <input ng-model="validationFormValues.username" required type="text" class="form-control" placeholder="Username" autofocus>\n      <br>\n      <input ng-model="validationFormValues.code" required type="text" class="form-control" placeholder="Code">\n      <br>\n      <button class="btn btn-theme btn-block" href="index.html" type="submit">VALIDATION</button>\n      <hr>\n    </div>\n    <span class="glyphicon glyphicon-thumbs-down" ng-show="errorMessage">{{errorMessage}}</span>\n  </form>\n</div>'}),define("app/modules/login/controllers/validation",["require","angular"],function(require){"use strict";{var controller;require("angular")}return controller=["$scope","apiUserService",function($scope,apiUserService){$scope.validationFormValues={username:"",code:""},$scope.errorMessage=!1,$scope.onSubmitValidationHandler=function($event){$event.preventDefault(),$scope.validationForm&&$scope.validationForm.$valid&&$scope.validationFormValues.username&&$scope.validationFormValues.code&&apiUserService.validation($scope.validationFormValues)}}]}),define("app/modules/login/login",["angular","angularRoute","app/common/resources/api","text!./login.html","./controllers/login","text!./validation.html","./controllers/validation"],function(angular,angularRoute,apiService,templateLogin,loginCtrl,templateValidation,validationCtrl){"use strict";var module=angular.module("ernr.login",["ngRoute","common.resources.apiService"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("login",templateLogin),$templateCache.put("validation",templateValidation)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/login",{template:templateLogin,controller:loginCtrl}).when("/login/validation",{template:templateValidation,controller:validationCtrl})}]),module}),define("app/common/services/followService",["angular","lodash","angularLocalStorage","app/common/resources/constants/constants"],function(angular,_){"use strict";return angular.module("ernr.followService",["angularLocalStorage","common.resources.constant"]).factory("followFactory",["$http","apiDomain","storage",function($http,constant,storage){var isFollowing=function(id){return _.indexOf(storage.get("following"),id)>=0},sync=function(id,type){var ids=storage.get("following"),isIncluded=isFollowing(id);"add"!==type||isIncluded?"remove"===type&&isIncluded&&_.remove(ids,function(n){return n===id}):ids.push(id),storage.set("following",ids)};return{getFollowers:function(params,id){return id?$http.get(constant.domain+"/user/"+id+"/followers",{params:params}):$http.get(constant.domain+"/user/followers",{params:params})},getFollowing:function(params,id){return id?$http.get(constant.domain+"/user/"+id+"/following",{params:params}):$http.get(constant.domain+"/user/following",{params:params})},follow:function(id){return $http.post(constant.domain+"/user/following",{followid:id}).success(sync.bind(this,id,"add"))},unfollow:function(id){return $http["delete"](constant.domain+"/user/following/"+id).success(sync.bind(this,id,"remove"))},loadToLocalStorage:function(){this.getFollowing({per_page:0}).success(function(resp){var ids=resp.result.items.map(function(e){return e.id});storage.set("following",ids)})},isFollowing:function(id){return isFollowing(id)}}}])}),define("text!app/common/resources/json/homelist.json",[],function(){return'[\n	{\n		"thumbnail": "Tcroni7b.jpg",\n		"name": "Trust no one.",\n		"score": "2231"\n	},\n	{\n		"thumbnail": "Xa7qPk9b.jpg",\n		"name": "Fellow Imgurites: An update on my grand daughter\'s progress. It\'s absolutely amazing!",\n		"score": "2981"\n	},\n	{\n		"thumbnail": "DR1TqEZb.jpg",\n		"name": "Them sick days doe.",\n		"score": "6323"\n	},\n	{\n		"thumbnail": "dwwHMtXb.jpg",\n		"name": "9 good sci-fi movies you actually might not have seen",\n		"score": "1816"\n	},\n	{\n		"thumbnail": "aBe2YGub.jpg",\n		"name": "Neil Tryson",\n		"score": "6810"\n	},\n	{\n		"thumbnail": "AxppoWIb.jpg",\n		"name": "Some Beyonce vs Beck statistics for Kanye:",\n		"score": "12035"\n	},\n	{\n		"thumbnail": "XdGfM1Vb.jpg",\n		"name": "When i convinced my SO to get into BDSM",\n		"score": "3104"\n	},\n	{\n		"thumbnail": "PLhpiCOb.jpg",\n		"name": "Nothing like a cat fight in Fort Asshole",\n		"score": "7095"\n	},\n	{\n		"thumbnail": "Rzf11rtb.jpg",\n		"name": "The rhinestones on Katy Perry\'s outfit look like data score from eye-tracking software",\n		"score": "4915"\n	},\n	{\n		"thumbnail": "0rU8grnb.jpg",\n		"name": "Copycat",\n		"score": "15880"\n	},\n	{\n		"thumbnail": "otdDpkKb.jpg",\n		"name": "Ran into a fellow imgurian on omegle. Good times were had by all",\n		"score": "1209"\n	},\n	{\n		"thumbnail": "LAWfgDZb.jpg",\n		"name": "I made some things in Besiege",\n		"score": "5433"\n	},\n	{\n		"thumbnail": "6NDACQWb.jpg",\n		"name": "Dracula is smoother than me",\n		"score": "7836"\n	},\n	{\n		"thumbnail": "CuB44Zsb.jpg",\n		"name": "Yes I am kind of drunk, no I am not apologizing. Shit is weird.",\n		"score": "13081"\n	},\n	{\n		"thumbnail": "pS1DGAsb.jpg",\n		"name": "This car won\'t let me listen to music unless I put my seatbelt on.",\n		"score": "3997"\n	},\n	{\n		"thumbnail": "Laa6c9mb.jpg",\n		"name": "Todays PBF: in case you can\'t get off imgur right now",\n		"score": "11038"\n	},\n	{\n		"thumbnail": "n4LwwfDb.jpg",\n		"name": "An experiment I like to call Bacon Sushi. It was amazing.",\n		"score": "5152"\n	},\n	{\n		"thumbnail": "LgVGdrAb.jpg",\n		"name": "MRW I get 30 score on a post and feel like I\'ve conquered the internet",\n		"score": "6386"\n	},\n	{\n		"thumbnail": "DtK5bZjb.jpg",\n		"name": "What\'chu lookin at punk?",\n		"score": "3638"\n	},\n	{\n		"thumbnail": "uz9zqHLb.jpg",\n		"name": "Luke Skywalker",\n		"score": "8059"\n	}\n]'}),define("text!app/common/resources/json/dashboardProfile.json",[],function(){return'{\n    "balance": 157.89,\n    "followers": 18383,\n    "following": 2345,\n    "posts": 675,\n    "postswaiting": 60,\n    "mainfeed": [\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "1"\n        },\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "2"\n        },\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "3"\n        }\n    ],\n    "publicfeed": [\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "4"\n        },\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "5"\n        },\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "6"\n        }\n    ],\n    "mentionsfeed": [\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "7"\n        },\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "8"\n        },\n        {\n            "author": "Billy21",\n            "authorimg": "//placeimg.com/100/100/people",\n            "title": "Content title",\n            "postimg": "//placeimg.com/600/200/tech/grayscale",\n            "votes": "1210",\n            "balance": "23.44",\n            "id": "9"\n        }\n    ]\n}'}),define("app/common/resources/jsonresource",["angular","text!./json/homelist.json","text!./json/dashboardProfile.json"],function(angular,homeListData,dashboardProfileData){var module=angular.module("common.resources.jsonresource",[]);module.factory("jsonResource",["$rootScope",function(){var service={};return service.getHomeList=function(){var homeListJson=JSON.parse(homeListData);return homeListJson},service.getDashboardProfile=function(){var homeListJson=JSON.parse(dashboardProfileData);return homeListJson},service}])}),define("text!app/modules/dashboard/dashboard.html",[],function(){return'<div class="dashboard">\n  <feed-filters ng-model="filter"></feed-filters>\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>FEEDS</span>\n          </div>\n          <ul class="feed-filter horizontal-list pull-right">\n              <li ng-class="{ active: filter.topic === \'mainfeed\' }">\n                  <a href="" ng-click="changeFeed(\'mainfeed\')">\n                    MAIN FEED\n                    <span ng-if="user.mainfeed" >({{user.mainfeed}})</span>\n                  </a>\n              </li>\n              <li ng-class="{ active: isMentionsFeed }">\n                  <a href="" ng-click="changeFeed(\'mentionsfeed:public\')">\n                    MENTIONS FEED\n                    <span ng-if="user.mentionsfeed_total">({{user.mentionsfeed_total}})</span>\n                  </a>\n              </li>\n              <li ng-class="{ active: filter.topic  === \'publicfeed\' }">\n                  <a href="" ng-click="changeFeed(\'publicfeed\')">\n                    PUBLIC FEED\n                    <span ng-if="user.publicfeed">({{user.publicfeed}})</span>\n                  </a>\n              </li>\n              <li ng-class="{ active: filter.topic  === \'tagsfeed\' }">\n                  <a href="" ng-click="changeFeed(\'tagsfeed\')">\n                    TAGS FEED\n                    <span ng-if="user.tagsfeed">({{user.tagsfeed}})</>\n                  </a>\n              </li>\n          </ul>\n        </div>\n\n        <div class="second-feed-filter clearfix" >\n          <ul class="horizontal-list pull-right">\n            <li ng-class="{ active: !isTable }">\n              <a ng-click="isTable = false"><i class="fa fa-align-justify"></i></a>\n            </li>\n            <li ng-class="{ active: isTable }">\n              <a ng-click="isTable = true"><i class="fa fa-th-large"></i></a>\n            </li>\n          </ul>\n          <ul class="horizontal-list pull-right" ng-if="isMentionsFeed">\n              <li ng-class="{ active: filter.topic === \'mentionsfeed:private\' }">\n                  <a href="" ng-click="changeFeed(\'mentionsfeed:private\')">Private ({{user.mentionsfeed_private}})</a>\n              </li>\n              <li ng-class="{ active: filter.topic  === \'mentionsfeed:public\' }">\n                  <a href="" ng-click="changeFeed(\'mentionsfeed:public\')">Public ({{user.mentionsfeed_public}})</a>\n              </li>\n          </ul>\n        </div>\n        <user-feed \n          feed-id="filter.topic"\n          type="filter.type"\n          sort="filter.datestamp",\n          table="isTable"></user-feed>\n      </div> \n    </div>\n  </div>\n</div>\n'}),define("app/modules/dashboard/controllers/dashboard",["angular","text!./../../login/login.html","./../../login/controllers/login"],function(angular,templateLogin,loginCtrl){"use strict";var controller=["$scope","$http","$modal","jsonResource","userFactory","$templateCache","$location","feedFactory","profileFactory",function($scope,$http,$modal,jsonResource,userFactory,$templateCache){$templateCache.put("login",templateLogin),userFactory.isLoggedIn||$modal.open({template:templateLogin,controller:loginCtrl,backdrop:"static",keyboard:!1}),$scope.user=userFactory.getInfo(),$scope.isTable=!0,$scope.newPosts=function(){console.log("viewsFilterPopularityClick")},$scope.changeFeed=function(t){$scope.filter.topic=t},$scope.filter={type:"",datestamp:"recent",topic:"mainfeed"},$scope.changeFilter=function(newF){newF.type===$scope.filter.type?$scope.filter.type="":newF.datestamp===$scope.filter.datestamp?$scope.filter.datestamp="":angular.extend($scope.filter,newF)},$scope.$watch("filter",function(newValue){var isMentionsfeedPublic="mentionsfeed:public"===newValue.topic,isMentionsFeedPrivate="mentionsfeed:private"===newValue.topic;$scope.isMentionsFeed=isMentionsfeedPublic||isMentionsFeedPrivate},!0)}];return controller}),define("text!app/modules/dashboard/templates/paymentsHistory.html",[],function(){return'<div class="dashboard payment">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>PAYMENT HISTORY</span>\n          </div>\n        </div>\n\n        <div class="horizontal-line"></div>\n        <div class="horizontal-line-gallery"></div>\n\n        <div class="pay-history">\n          <div class="payment-holder text-center">\n            <table>\n              <tbody>\n                <tr class="firts-line">\n                  <td><b>$0.12</b></td>\n                  <td><b>$0.00</b></td>\n                  <td><b>$25.52</b></td>\n                </tr>\n                <tr class="second-line">\n                  <td class="pimary-color"><span>Balance</span></td>\n                  <td class="pimary-color"><span>Current Earnings</span></td>\n                  <td class="pimary-color"><span>All Time Paid</span></td>\n                </tr>\n              </tbody>\n            </table>\n          </div>\n          <table class="table-payment col col-md-12">\n            <thead>\n              <tr>\n                <th colspan="2">Payments</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td class="pimary-color">Payment Date</td>\n                <td class="text-right"><span class="date">2/1/2015</span></td>\n              </tr>\n              <tr>\n                <td class="pimary-color">Payment Amount</td>\n                <td class="text-right"><span class="amount">$25.52</span></td>\n              </tr>\n              <tr>\n                <td class="pimary-color">Payment Type</td>\n                <td class="text-right"><span class="type">Paypal</span></td>\n              </tr>\n              <tr>\n                <td class="pimary-color">Payment Address</td>\n                <td class="text-right"><span class="address">rickydicky123@gmail.com</span></td>\n              </tr>\n            </tbody>\n          </table>\n          <table class="table-credit col col-md-12">\n            <thead>\n              <tr>\n                <th colspan="2">Credits</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td class="pimary-color">Credit Date</td>\n                <td class="text-right"><span class="date">2/1/2015</span></td>\n              </tr>\n              <tr>\n                <td class="pimary-color">Credit Amount</td>\n                <td class="text-right"><span class="amount">$25.52</span></td>\n              </tr>\n            </tbody>\n          </table>\n        </div>\n\n      </div> \n    </div>\n  </div>\n</div>\n\n'}),define("text!app/modules/dashboard/templates/paymentsSettings.html",[],function(){return'<div class="dashboard payment">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>PAYMENT SETTINGS</span>\n          </div>\n          <ul class="feed-filter horizontal-list pull-right">\n            <li ng-class="{ active: card === \'paypal\' }">\n              <a ng-click="onClickTab(\'paypal\')">PAYPAL</a>\n            </li>\n            <li ng-class="{ active: card === \'visa\' }">\n              <a ng-click="onClickTab(\'visa\')">VISA</a>\n            </li>\n            <li ng-class="{ active: card === \'mastercard\' }">\n              <a ng-click="onClickTab(\'mastercard\')">MASTERCARD</a>\n            </li>\n            <li>\n              <a href><i class="fa fa-plus"></i></a>\n            </li>\n          </ul>\n        </div>\n\n        <div class="horizontal-line"></div>\n        <div class="horizontal-line-gallery"></div>\n        <form class="pay-settings" ng-submit="onSubmitHandler($event, settingsForm)" novalidate name="settingsForm">\n          <fieldset class="payment-data">\n            <div class="row">\n              <div class="payment-data-input">\n                <input class="col col-md-10 col-sm-10 separator" type="email" ng-model="data.email" placeholder="E-mail">\n                <label class="col col-md-2 col-sm-2">{{card}}</label>\n              </div> \n            </div>\n            <div class="row">\n              <div class="payment-data-input">\n                <input class="col col-md-10 col-sm-10" type="text" ng-model="data.firstname" placeholder="First name">\n                <label class="col col-md-2 col-sm-2">payment</label>\n              </div>\n            </div>\n            <div class="row">\n              <div class="payment-data-input">\n                <input class="col col-md-10 col-sm-10" type="text" ng-model="data.lastname" placeholder="Last name">\n                <label class="col col-md-2 col-sm-2">payment</label>\n              </div>\n            </div>\n          </fieldset>\n          \n          <table class="payment-minimum text-center">\n            <thead>\n              <tr>\n                <th colspan="4">Payment minimum</th>\n              </tr>\n            </thead>\n            <tbody>\n              <tr>\n                <td>\n                  <a ng-click="">25<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">50<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">75<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">100<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">200<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">300<i class="fa fa-usd"></i></a>\n                </td>\n              </tr>\n              <tr>\n                <td>\n                  <a ng-click="">400<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">500<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">700<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">800<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">1000<i class="fa fa-usd"></i></a>\n                </td>\n                <td>\n                  <a ng-click="">1100<i class="fa fa-usd"></i></a>\n                </td>\n              </tr>\n            </tbody>\n          </table>\n          \n          <fieldset class="text-center">\n            <input type="submit" value="submit" class="btn">\n          </fieldset>\n        </form>\n      </div> \n    </div>\n  </div>\n</div>\n\n\n\n'
}),define("app/modules/dashboard/controllers/payments",[],function(){"use strict";var controller=["$scope",function($scope){$scope.card="paypal",$scope.data={},$scope.onClickTab=function(card){$scope.card=card},$scope.submitHandler=function($event){$event.preventDefault()}}];return controller}),define("text!app/modules/dashboard/templates/favorites.html",[],function(){return'<div class="dashboard">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>FAVORITES</span>\n          </div>\n          <ul class="horizontal-list pull-right">\n            <li>\n              <a href><i class="fa fa-align-justify"></i></a>\n            </li>\n            <li class="active">\n              <a href><i class="fa fa-th-large"></i></a>\n            </li>\n          </ul>\n        </div>\n\n        <div class="horizontal-line"></div>\n        <div class="horizontal-line-gallery"></div>\n        <div class=\'favorites-list\' infinite-scroll=\'loadMore()\' infinite-scroll-distance=\'2\'\n            infinite-scroll-disabled=\'onLoading\'>\n          <div class="feed" feed="post" ng-repeat=\'post in posts\'></div>\n        </div>\n      </div> \n    </div>\n  </div>\n</div>\n\n\n'}),define("app/modules/dashboard/controllers/favorites",["angular"],function(){"use strict";var controller=function($scope,favorites){$scope.posts=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,favorites.get({page:$scope.page,per_page:$scope.per_page}).success(function(data){var items=data.result.items;$scope.posts=$scope.posts.concat(items),$scope.page++,$scope.stopLoadMore=data.result.items<$scope.per_page,$scope.onLoading=!1}))}};return["$scope","favoritesFactory",controller]}),define("text!app/modules/dashboard/templates/following.html",[],function(){return'<div class="dashboard">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>FOLLOWING</span>\n          </div>\n        </div>\n\n        <div following></div>\n      </div> \n    </div>\n  </div>\n</div>\n\n\n'}),define("text!app/modules/dashboard/templates/followers.html",[],function(){return'<div class="dashboard">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>FOLLOWERS</span>\n          </div>\n        </div>\n\n        <div followers></div>\n      </div> \n    </div>\n  </div>\n</div>\n\n'}),define("app/modules/dashboard/controllers/following",["angular"],function(){"use strict";var controller=function(){};return["$scope",controller]}),define("app/modules/dashboard/controllers/followers",["angular"],function(){"use strict";var controller=function(){};return["$scope",controller]}),define("text!app/modules/dashboard/templates/userFeed.html",[],function(){return'<div>\n  <div class="horizontal-line"></div>\n  <div class="horizontal-line-gallery"></div>\n  <div infinite-scroll="loadMore()" infinite-scroll-distance="2"\n       infinite-scroll-disabled=\'onLoading\' class="row">\n      <div class="feed" feed="f" ng-repeat="f in feeds" ng-if="feedId !== \'pending\' && isTable"></div>\n      <div class="feed" pending-post="f" ng-repeat="f in feeds" ng-if="feedId === \'pending\'"></div>\n      <div class="post-profile" feed-full="f" ng-repeat="f in feeds" ng-if="feedId !== \'pending\' && !isTable"></div>\n  </div>\n  <div ng-hide="feeds.length">No posts</div>\n</div>\n\n'}),define("app/modules/dashboard/services/userFeedService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";return angular.module("ernr.dashboard.services.userFeed",["common.resources.constant"]).factory("userFeedFactory",["$http","apiDomain",function($http,constant){return{get:function(params,feedId){return $http.get(constant.domain+"/userfeeds/"+feedId,{params:params})}}}])}),define("text!app/modules/dashboard/templates/pendingPost.html",[],function(){return'<div class="gallery-item-wrapper">\n    <div class="info-line">\n        <div class="pull-left">\n            <i class="fa fa-database"></i> {{post.videojob_status.status}}\n        </div>\n\n        <div class="pull-right">\n          <span ng-if="!!post.videojob_status.updated" am-time-ago="post.videojob_status.updated"></span>\n        </div>\n    </div>\n    <div class="clearfix"></div>\n    <div class="image-wrapper">\n        <img alt="Post image" ng-if="post.thumb" ng-src="{{post.thumb}}">\n        <img alt="Post image" ng-if="!post.thumb" ng-src="/img/not-found-image.jpg">\n        <div class="post-type-icon" ng-switch="post.type">\n            <i ng-switch-when="text" class="fa fa-pencil"></i>\n            <i ng-switch-when="image" class="fa fa-camera"></i>\n            <i ng-switch-when="video" class="fa fa-video-camera"></i>\n            <i ng-switch-when="audio" class="fa fa-headphones"></i>\n        </div>\n    </div>\n    <div class="clearfix"></div>\n    <div class="description-name-wrapper">\n      {{post.title}}\n    </div>\n    <div class="clearfix"></div>\n</div>\n'}),define("text!app/modules/dashboard/templates/setThumbModal.html",[],function(){return'<div class="row text-center">\n  <div class="col col-md-12">\n    <h1>{{post.title}}</h1>\n  </div>\n\n  <div class="col col-md-6">\n    <div>\n      <img ng-src="{{s}}">\n    </div>\n\n    <div>\n      {{post.description}}\n    </div>\n\n    <button class="btn btn-theme modal-close" ng-click="choseSnapshot()">\n      ok\n    </button>\n\n    <button class="btn btn-theme modal-close" ng-click="cancel()">\n      close\n    </button>\n  </div>\n\n  <div class="col col-md-6">\n    <ul class="list-group">\n      <li class="list-group-item" ng-repeat="snapshot in post.snapshots">\n        <a href="" ng-click="setSnapshot(snapshot)">\n          <img ng-src="{{snapshot}}" class="img-rounded"/>\n        </a>\n      </li>\n    </ul>\n  </div>\n</div>\n'}),define("app/modules/dashboard/directives/pendingPost",["angular","text!../templates/pendingPost.html","text!../templates/setThumbModal.html","app/common/services/postService"],function(angular,pendingPostTemplate){"use strict";return angular.module("ernr.directives.pendingPost",[]).directive("pendingPost",function(){return{restrict:"A",scope:{post:"=pendingPost"},template:pendingPostTemplate}})}),define("text!app/common/directives/feed/templates/feedFull.html",[],function(){return'<div class="row full-dashbord-post">\n  <div class="post gary-border">\n    <header class="heading row">\n      <div class="col-md-9 col-sm-9 col-xs-8" ng-class="{ separator: !isMe }">\n        <a href="/users/{{post.user_id}}" class="img-box">\n          <img height="50" ng-src="{{post.user_avatar}}" class="img-circle" alt="">\n        </a>\n\n        <a href="/users/{{post.user_id}}"><b>{{post.user_name}}</b></a>\n      </div>\n\n      <div class="col-md-3 col-sm-3 col-xs-4">\n        <follow-button class="follow-button" ng-if="!isMe" user-id="post.user_id"></follow-button>\n      </div>\n    </header>\n    <hr />\n    <section class="post-body">\n      <div class="post-title">\n        <span class="pull-left">\n          {{post.title | limitTo:100}}\n        </span>\n\n        <div class="pull-right post-menu">\n          <span class="dropdown-toggle" data-toggle="dropdown">\n            <i class="fa fa-ellipsis-h fa-lg"></i>\n          </span>\n          <ul class="dropdown-menu" role="menu">\n            <li>\n              <a href>Reshare</a>\n            </li>\n            <li>\n              <a href>Share on Twitter</a>\n            </li>\n            <li>\n              <a href>Share on Facebook</a>\n            </li>\n            <li>\n              <a href>Share on Instragram</a>\n            </li>\n            <li>\n              <a href>Copy link</a>\n            </li>\n            <li>\n              <a href report target="posts" target-id="post.id" show-reason="true">Flag Content</a>\n            </li>\n            <li ng-if="isMe">\n              <a href>Delete post</a>\n            </li>\n          </ul>\n        </div>\n      </div>\n      <div ng-switch="post.type" class="post-content">\n          <div ng-switch-when="image" class="img-holder">\n              <img ng-src="{{post.file_url}}">\n          </div>\n          <div ng-switch-when="video" class="img-holder">\n              <div ng-if="isMobile.any" class="jw-player-wrapper">\n                  <jw-player jwplayer-id="post.id" src="post.file_url_360p" type="post.type"></jw-player>\n              </div>\n              <div ng-if="!isMobile.any" class="jw-player-wrapper">\n                  <jw-player jwplayer-id="post.id" src="post.file_url_480p" type="post.type"></jw-player>\n              </div>\n          </div>\n          <div ng-switch-when="audio" class="img-holder">\n            <div class="jw-player-wrapper ">\n              <jw-player jwplayer-id="post.id" src="post.file_url" type="post.type"></jw-player>\n            </div>\n          </div>\n      </div>\n      <div class="description"\n           ng-if="post"\n           ng-bind-html="post.description | limitTo:255 | tagToLink | nameToLink | unsafe"></div>\n    </section>\n\n    <section class="vote-action row text-center">\n      <div class="col-md-6 col-xs-6 no-padding">\n        <div class="votedown">\n          <button votedown model="post" type="button">\n            <i class="fa fa-arrow-circle-o-down"></i>\n            down vote\n          </button>\n        </div>\n      </div>\n\n      <div class="col-md-6 col-xs-6 no-padding">\n        <div class="voteup">\n          <button voteup model="post" type="button">\n            <i class="fa fa-arrow-circle-o-up"></i>\n            up vote\n          </button>\n        </div>\n      </div>\n    </section>\n\n    <section class="post-action row text-center">\n      <div class="col-md-3 col-xs-3 separator">\n        <span share model="post" ng-if="post"></span>\n      </div>\n      <div class="col-md-3 col-xs-3 separator">\n        <span refresh model="post" ng-if="post"></span>\n      </div>\n      <div class="col-md-3 col-xs-3 separator">\n        <span ng-if="post.id" like model="post"></span>\n      </div>\n      <div class="col-md-3 col-xs-3"><i class="fa fa-expand"></i></div>\n    </section>\n\n    <section class="post-statistic row text-center">\n      <div class="col-md-4 col-xs-4 no-padding">\n        <div class="votesbalance">\n          <i class="fa fa-plus"></i> {{post.votesbalance}}\n        </div>\n      </div>\n      <div class="col-md-4 col-xs-4 no-padding">\n        <div class="votessum">\n          <i class="fa fa-exchange"></i> {{post.votessum}}\n        </div>\n      </div>\n      <div class="col-md-4 col-xs-4 no-padding">\n        <div class="balance">\n          <i class="fa fa-database"></i> {{post.balance}}\n        </div>\n      </div>\n    </section>\n\n    <section class="share-statistic row text-center">\n      <div class="col-md-3 col-sm-3 col-xs-6 separator"><b>{{post.reshare}}</b> Reshares</div>\n      <div class="col-md-3 col-sm-3 col-xs-6 separator"><b>{{post.favorites}}</b> Favorites</div>\n      <div class="col-md-6 col-sm-6 col-xs-12">\n        <ul class="horizontal-list">\n          <li ng-repeat="user in post.reshareUsers">\n            <img height="34" ng-src="{{user.avatar}}" class="img-circle" alt="" />\n          </li>\n          <li ng-if="post.reshareUsers.length === 0"> — </li>\n        </ul>\n      </div>\n    </section>\n    <hr />\n    <footer class="tags-wrapper">\n      <dl class="tags-list">\n          <dd>\n              <ul>\n                <li ng-repeat="tag in post.tags"><a href="/tags/{{tag}}">#{{tag}}</a></li>\n              </ul>\n          </dd>\n      </dl>\n    </footer>\n  </div>\n</div>\n'}),define("app/common/directives/feed/feedFull",["angular","angular-moment","text!./templates/feedFull.html","app/common/directives/voteup","app/common/directives/votedown","app/common/directives/share/share","app/common/directives/refresh","app/common/directives/like","app/common/directives/mentionsLink"],function(angular,angularMoment,template){"use strict";var module=angular.module("ernr.directives.feedFull",["angularMoment","ernr.directives.voteup","ernr.directives.votedown","ernr.directives.share","ernr.directives.refresh","ernr.directives.like","ernr.directives.mentionsLink"]).directive("feedFull",function(){return{restrict:"A",replace:!0,scope:{post:"=feedFull"},template:template,controller:["$scope","$sce",function($scope,$sce){$scope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)}}]}});return module}),define("app/modules/dashboard/directives/userFeed",["angular","lodash","text!../templates/userFeed.html","../services/userFeedService","./pendingPost","app/common/directives/feed/feedFull"],function(angular,_,mainFeedTpl){"use strict";var module=angular.module("ernr.directives.userFeed",["ernr.dashboard.services.userFeed","ernr.directives.pendingPost","ernr.directives.feedFull"]).directive("userFeed",function(){return{restrict:"E",scope:{feedId:"=",type:"=",sort:"=",feeds:"=ngModel",table:"="},compile:function(element,attrs){void 0===attrs.ngModel&&attrs.$set("ngModel","feeds")},controller:["$scope","userFeedFactory",function($scope,userFeed){function update(newValue,oldValue){return $scope.onLoading||newValue===oldValue?!1:($scope.feeds=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,void $scope.loadMore())}$scope.feeds=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){if(!$scope.onLoading&&!$scope.stopLoadMore){var q=_.compact([$scope.feedId,$scope.type,$scope.sort]).join(":");$scope.onLoading=!0,userFeed.get({page:$scope.page,per_page:$scope.per_page},q).success(function(data){var items=data.result.items;$scope.feeds=$scope.feeds.concat(items),$scope.page++,$scope.stopLoadMore=items.length<$scope.per_page,$scope.onLoading=!1}),$scope.$watch("table",function(newValue){$scope.isTable=newValue})}},$scope.newPostsClick=function(){return!1},$scope.$watch("sort",function(newValue,oldValue){"recent"===newValue&&($scope.sort=""),update(newValue,oldValue)}),$scope.$watch("feedId",update),$scope.$watch("type",update)}],template:mainFeedTpl}});return module}),define("text!app/modules/dashboard/templates/userHistory.html",[],function(){return'<div>\n  <div class="horizontal-line"></div>\n  <div class="horizontal-line-gallery"></div>\n\n  <div infinite-scroll="loadMore()" infinite-scroll-distance="2"\n       infinite-scroll-disabled=\'onLoading\' class="row">\n      <div class="feed" feed="p" ng-repeat="p in posts"></div>\n  </div>\n  <div ng-hide="posts.length">No posts</div>\n</div>\n\n'}),define("app/modules/dashboard/services/userHistoryService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";return angular.module("ernr.dashboard.services.userHistory",["common.resources.constant"]).factory("userHistoryFactory",["$http","apiDomain",function($http,constant){return{get:function(params,feedId){return $http.get(constant.domain+"/user/history/"+feedId,{params:params})}}}])}),define("app/modules/dashboard/directives/userHistory",["angular","lodash","text!../templates/userHistory.html","../services/userHistoryService"],function(angular,_,userHistoryTpl){"use strict";var module=angular.module("ernr.directives.userHistory",["ernr.dashboard.services.userHistory"]).directive("userHistory",function(){return{restrict:"E",scope:{feedId:"=",posts:"=ngModel"},compile:function(element,attrs){void 0===attrs.ngModel&&attrs.$set("ngModel","posts")},controller:["$scope","userHistoryFactory",function($scope,history){function update(newValue,oldValue){return $scope.onLoading||newValue===oldValue?!1:($scope.posts=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,void $scope.loadMore())}$scope.posts=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,history.get({page:$scope.page,per_page:$scope.per_page},$scope.feedId).success(function(data){var items=data.result.items;$scope.posts=$scope.posts.concat(items),$scope.page++,$scope.stopLoadMore=items.length<$scope.per_page,$scope.onLoading=!1}))},$scope.$watch("feedId",update)}],template:userHistoryTpl}});return module}),define("app/modules/dashboard/controllers/history",["require"],function(){"use strict";var controller=function($scope,$routeParams,currentUser){$scope.page=$routeParams.page,$scope.user=currentUser.getInfo()};return["$scope","$routeParams","userFactory",controller]}),define("text!app/modules/dashboard/templates/history.html",[],function(){return'<div class="dashboard">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>ACCOUNT HISTORY</span>\n          </div>\n\n          <ul class="feed-filter horizontal-list pull-right">\n              <li ng-class="{ active: page === \'posts\' }">\n                  <a href="/dashboard/history/posts">\n                    POSTS\n                    <span ng-if="user.posts_added">({{user.posts_added}})</span> \n                  </a>\n              </li>\n              <li ng-class="{ active: page === \'reshares\' }">\n                  <a href="/dashboard/history/reshares">\n                    RESHARE\n                    <span ng-if="user.posts_shared">({{user.posts_shared}})</span>\n                  </a>\n              </li>\n              <li ng-class="{ active: page === \'comments\' }">\n                  <a href="/dashboard/history/comments">COMMENTS</a>\n              </li>\n              <li ng-class="{ active: page === \'browsing\' }">\n                  <a href="/dashboard/history/browsing">BROWSING</a>\n              </li>\n          </ul>\n        </div>\n\n        <user-history feed-id="page"></user-history>\n      </div>\n    </div>\n  </div>\n</div>\n\n'}),define("app/modules/dashboard/controllers/pending",["require"],function(){"use strict";var controller=function($scope,$interval,userFeed){var timer=$interval(function(){$scope.feeds.length&&userFeed.get({page:1,per_page:$scope.feeds.length},$scope.feedId).success(function(data){var items=data.result.items;$scope.feeds=items})},5e3);$scope.feedId="pending",$scope.$on("$destroy",function(){timer&&$interval.cancel(timer)})};return["$scope","$interval","userFeedFactory",controller]}),define("text!app/modules/dashboard/templates/pending.html",[],function(){return'<div class="dashboard">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>Pending Posts</span>\n          </div>\n        </div>\n        <user-feed feed-id="feedId" ng-model="feeds"></user-feed>\n      </div>\n    </div>\n  </div>\n</div>\n\n\n'}),define("app/modules/dashboard/controllers/tags",["angular"],function(){"use strict";var controller=function($scope,tags){$scope.tags=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,tags.getFollowing({page:$scope.page,per_page:$scope.per_page}).success(function(data){var items=data.result.tags;$scope.tags=$scope.tags.concat(items),$scope.page++,$scope.stopLoadMore=data.result.size<$scope.per_page,$scope.onLoading=!1}))}};return["$scope","tagsFactory",controller]}),define("text!app/modules/dashboard/templates/tags.html",[],function(){return'<div class="dashboard">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>TAGS YOU FOLLOW</span>\n          </div>\n        </div>\n\n        <div>\n          <div class="horizontal-line"></div>\n          <div class="horizontal-line-gallery"></div>\n\n          <div infinite-scroll="loadMore()" infinite-scroll-distance="2"\n               infinite-scroll-disabled=\'onLoading\' class="row">\n              <div ng-repeat="t in tags track by $index" class="row tags-item">\n                <div class="col col-md-1 col-sm-2"></div>\n                <div class="col col-md-6 col-sm-6">\n                  <a class="tags" href="/tags/{{t}}">#{{t}}</a>\n                </div>\n                <div class="pull-right text-right">\n                  <follow-button class="btn-follow" tag-id="t"></follow-button>\n                </div>\n              </div>\n          </div>\n          <div ng-hide="tags.length">No posts</div>\n        </div>\n\n      </div> \n    </div>\n  </div>\n</div>\n\n\n'}),define("app/modules/dashboard/controllers/blocked",["angular"],function(){"use strict";var controller=function($scope,blockList){$scope.users=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.isBlocked=function(id){return blockList.isBlocked(id)},$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,blockList.get({page:$scope.page,per_page:$scope.per_page}).success(function(data){var users=data.result.items;$scope.users=$scope.users.concat(users),$scope.page++,$scope.stopLoadMore=data.result.size<$scope.per_page,$scope.onLoading=!1}))}};return["$scope","blockListFactory",controller]}),define("text!app/modules/dashboard/templates/blocked.html",[],function(){return'<div class="dashboard">\n  <div class="container">\n    <div class="row dashboard-container">\n      <div class="col col-md-3 col-sm-3">\n        <user-card></user-card>\n      </div>\n\n      <div class="col col-md-9 col-sm-9">\n        <div class="feed-title clearfix">\n          <div class="pull-left">\n            <span>BLOCKED USERS</span>\n          </div>\n        </div>\n\n        <div>\n          <div class="horizontal-line"></div>\n          <div class="horizontal-line-gallery"></div>\n\n          <div infinite-scroll="loadMore()" infinite-scroll-distance="2"\n               infinite-scroll-disabled=\'onLoading\' class="row">\n              <div ng-repeat="u in users" class="users-item">\n                <div class="col col-md-1 col-sm-2">\n                  <a href="/users/{{u.id}}">\n                    <img height="45" width="45" ng-src="{{u.avatar}}" class="img-circle" alt="" />\n                  </a>\n                </div>\n                <div class="col col-md-6 col-sm-6">\n                  <a href="/users/{{u.id}}">{{u.username}}</a>\n                </div>\n                <div class="col col-md-5 col-sm-4">\n                  <div class="pull-right text-right">\n                    <a href ng-if="!isBlocked(u.id)" block-user user-id="u.id">\n                      Block user\n                    </a>\n                    <a href ng-if="isBlocked(u.id)" block-user user-id="u.id">\n                      Unblock user\n                    </a>\n                  </div>\n                </div>\n              </div>\n          </div>\n          <div ng-hide="users.length">No users</div>\n        </div>\n\n      </div> \n    </div>\n  </div>\n</div>\n\n'}),define("text!app/common/directives/follow/templates/followersTpl.html",[],function(){return"<div class=\"followers\">\n  <div class=\"row\">\n    <div class=\"col col-md-12 col-sm-12\">\n      <div class='follow-list' infinite-scroll='loadMore()' infinite-scroll-distance='2'\n           infinite-scroll-disabled='onLoading'>\n        <div follow-card=\"user\" ng-repeat='user in users'></div>\n      </div>\n    </div>\n  </div>\n</div>\n"}),define("text!app/common/directives/follow/templates/followCardTpl.html",[],function(){return'<div class="follow-card row">\n  <div class="col col-md-1 col-sm-2">\n    <a href="/users/{{user.username}}">\n      <img height="45" width="45" ng-src="{{user.avatar}}" class="img-circle" alt="" />\n    </a>\n  </div>\n  <div class="col col-md-6 col-sm-6">\n    <a href="/users/{{user.username}}">{{user.username}}</a>\n  </div>\n  <div class="pull-right text-right">\n    <follow-button class="btn-follow" user-id="user.id"></follow-button>\n  </div>\n</div>\n'}),define("text!app/common/directives/follow/templates/followButtonTpl.html",[],function(){return'<button ng-disabled="isLoading" type="button">\n  <a href ng-click="action()" ng-if="user.isLoggedIn">\n    {{caption}}\n    <i ng-if="!isFollowing" class="fa fa-user-plus"></i>\n    <i ng-if="isFollowing" class="fa fa-user-times"></i>\n  </a>\n\n  <a href sign-in-up="signin" ng-if="!user.isLoggedIn">\n    {{caption}}\n    <i ng-if="!isFollowing" class="fa fa-user-plus"></i>\n    <i ng-if="isFollowing" class="fa fa-user-times"></i>\n  </a>\n</button>\n'}),define("app/common/directives/follow/followButton",["angular","text!./templates/followButtonTpl.html","app/common/directives/signInUp/signInUp","angularBootstrap","app/common/resources/constants/constants","app/common/services/followService","app/common/services/tagsService","app/common/context/user"],function(angular,followButtonTpl){return angular.module("ernr.directives.followButton",["ui.bootstrap","common.resources.constant","ernr.followService","ernr.userService","ernr.tagsService"]).directive("followButton",function(){return{restrict:"E",replace:!0,scope:{userId:"=",tagId:"="},controller:["$scope","$modal","followFactory","userFactory","tagsFactory",function($scope,$modal,follow,user,tags){function followUser(){$scope.isLoading=!0,follow.follow($scope.userId).success(function(){$scope.isFollowing=!0,$scope.isLoading=!1})}function followTag(){$scope.isLoading=!0,tags.follow($scope.tagId).success(function(){$scope.isFollowing=!0,$scope.isLoading=!1})}function unFollowUser(){$scope.isLoading=!0,follow.unfollow($scope.userId).success(function(){$scope.isFollowing=!1,$scope.isLoading=!1})}function unFollowTag(){$scope.isLoading=!0,tags.unfollow($scope.tagId).success(function(){$scope.isFollowing=!1,$scope.isLoading=!1})}$scope.isLoading=!1,$scope.user=user,$scope.isFollowing=$scope.userId?follow.isFollowing($scope.userId):$scope.tagId?tags.isFollowing($scope.tagId):!1,$scope.action=function(){return $scope.isLoading?!1:void($scope.isFollowing?$scope.userId?unFollowUser():$scope.tagId&&unFollowTag():$scope.userId?followUser():$scope.tagId&&followTag())},$scope.$watch("isFollowing",function(newValue){$scope.caption=newValue?"unfollowing":"following"})}],template:followButtonTpl}})}),define("app/common/directives/follow/followCard",["angular","text!./templates/followCardTpl.html","app/common/directives/follow/followButton"],function(angular,followCardTpl){return angular.module("ernr.directives.followCard",["ernr.directives.followButton"]).directive("followCard",function(){return{restrict:"A",replace:!0,scope:{user:"=followCard"},template:followCardTpl}})}),define("app/common/directives/follow/followers",["angular","app/common/services/followService","text!./templates/followersTpl.html","app/common/directives/follow/followCard"],function(angular,followService,followersTpl){return angular.module("ernr.directives.followers",["ernr.followService","ernr.directives.followCard"]).directive("followers",function(){return{restrict:"A",scope:{userId:"="},controller:["$scope","followFactory",function($scope,follow){$scope.users=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,follow.getFollowers({page:$scope.page,per_page:$scope.per_page},$scope.userId).success(function(data){var items=data.result.items;$scope.users=$scope.users.concat(items),$scope.page++,$scope.stopLoadMore=items.length<$scope.per_page,$scope.onLoading=!1}))}}],template:followersTpl}})}),define("text!app/common/directives/follow/templates/followingTpl.html",[],function(){return"<div class=\"following\">\n  <div class=\"row\">\n    <div class=\"col col-md-12 col-sm-12\">\n      <div class='follow-list' infinite-scroll='loadMore()' infinite-scroll-distance='2'\n           infinite-scroll-disabled='onLoading'>\n        <div follow-card=\"user\" ng-repeat='user in users'></div>\n      </div>\n    </div>\n  </div>\n</div>\n"}),define("app/common/directives/follow/following",["angular","app/common/services/followService","text!./templates/followingTpl.html","app/common/directives/follow/followCard"],function(angular,followService,followingTpl){return angular.module("ernr.directives.following",["ernr.followService","ernr.directives.followCard"]).directive("following",function(){return{restrict:"A",scope:{userId:"="},controller:["$scope","followFactory",function($scope,follow){$scope.users=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,follow.getFollowing({page:$scope.page,per_page:$scope.per_page},$scope.userId).success(function(data){var items=data.result.items;$scope.users=$scope.users.concat(items),$scope.page++,$scope.stopLoadMore=items.length<$scope.per_page,$scope.onLoading=!1}))}}],template:followingTpl}})}),define("app/modules/dashboard/dashboard",["angular","angularRoute","angularScroll","angularBootstrap","app/common/resources/api","app/common/services/favoritesService","app/common/services/followService","app/common/resources/jsonresource","text!./dashboard.html","./controllers/dashboard","text!./templates/paymentsHistory.html","text!./templates/paymentsSettings.html","./controllers/payments","text!./templates/favorites.html","./controllers/favorites","text!./templates/following.html","text!./templates/followers.html","./controllers/following","./controllers/followers","./directives/userFeed","./directives/userHistory","./controllers/history","text!./templates/history.html","./controllers/pending","text!./templates/pending.html","./controllers/tags","text!./templates/tags.html","./controllers/blocked","text!./templates/blocked.html","app/common/directives/feedFilters/feedFilters","app/common/directives/follow/followers","app/common/directives/follow/following","app/common/directives/userCard/userCard","app/common/services/profileService","app/common/services/tagsService","app/common/services/blockListService"],function(angular,angularRoute,angularScroll,angularBootstrap,apiServiceModule,favoritesServiceModule,followServiceModule,jsonresourceModule,templateDashboard,dashboardCtrl,templatePaymentsHistory,templatePaymentsSettings,paymentsCtrl,templateFavorites,favoritesCtrl,templateFollowing,templateFollowers,followingCtrl,followersCtrl,userFeed,userHistory,historyCtrl,templateHistory,pendingCtrl,templatePending,tagsCtrl,templateTags,blockedCtrl,templateBlocked){"use strict";var module=angular.module("ernr.dashboard",["ngRoute","common.resources.apiService","ui.bootstrap","infinite-scroll","ernr.favoritesService","ernr.followService","common.resources.jsonresource","ernr.directives.userFeed","ernr.directives.feedFilters","ernr.directives.followers","ernr.directives.following","ernr.directives.userCard","ernr.ProfileService","ernr.directives.userHistory","ernr.tagsService","ernr.blockListService"]);
return module.run(["$templateCache",function($templateCache){$templateCache.put("dashboard",templateDashboard),$templateCache.put("paymentsHistory",templatePaymentsHistory),$templateCache.put("paymentsSettings",templatePaymentsSettings)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/dashboard",{template:templateDashboard,controller:dashboardCtrl}).when("/dashboard/payments/history",{template:templatePaymentsHistory,controller:paymentsCtrl}).when("/dashboard/payments/settings",{template:templatePaymentsSettings,controller:paymentsCtrl}).when("/dashboard/favorites",{template:templateFavorites,controller:favoritesCtrl}).when("/dashboard/following",{template:templateFollowing,controller:followingCtrl}).when("/dashboard/history/:page",{template:templateHistory,controller:historyCtrl}).when("/dashboard/followers",{template:templateFollowers,controller:followersCtrl}).when("/dashboard/pending",{template:templatePending,controller:pendingCtrl}).when("/dashboard/tags",{template:templateTags,controller:tagsCtrl}).when("/dashboard/blocked",{template:templateBlocked,controller:blockedCtrl})}]),module}),define("text!app/modules/error/error.html",[],function(){return'<div class="container">\n	<h2 class="heading">404</h2>\n</div>\n'}),define("app/modules/error/controllers/error",["require","angular"],function(require){"use strict";{var controller;require("angular")}return controller=["$scope","$http",function(){}]}),define("app/modules/error/error",["require","angular","text!./error.html","./controllers/error"],function(require){"use strict";var module,angular=require("angular"),templateError=require("text!./error.html"),errorCtrl=require("./controllers/error");return module=angular.module("ernr.error",["ngRoute"]),module.run(["$templateCache",function($templateCache){$templateCache.put("login",templateError)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/error",{template:templateError,controller:errorCtrl})}]),module}),define("text!app/modules/terms/terms.html",[],function(){return'<div class="container">\n	<h2 class="heading">terms</h2>\n</div>\n'}),define("app/modules/terms/controllers/terms",["require","angular"],function(require){"use strict";{var controller;require("angular")}return controller=["$scope","$http",function(){}]}),define("app/modules/terms/terms",["angular","angularRoute","text!./terms.html","./controllers/terms"],function(angular,angularRoute,templateTerms,termsCtrl){"use strict";var module=angular.module("ernr.terms",["ngRoute"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("terms",templateTerms)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/terms",{template:templateTerms,controller:termsCtrl})}]),module}),define("text!app/modules/about/about.html",[],function(){return'<div class="container">\n	<h2 class="heading">about</h2>\n</div>\n'}),define("app/modules/about/controllers/about",["require","angular"],function(require){"use strict";{var controller;require("angular")}return controller=["$scope","$http",function(){}]}),define("app/modules/about/about",["require","angular","text!./about.html","./controllers/about"],function(require){"use strict";var module,angular=require("angular"),templateAbout=require("text!./about.html"),aboutCtrl=require("./controllers/about");return module=angular.module("ernr.about",["ngRoute"]),module.run(["$templateCache",function($templateCache){$templateCache.put("about",templateAbout)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/about",{template:templateAbout,controller:aboutCtrl})}]),module}),define("text!app/modules/post/post.html",[],function(){return'<div class="container">\n	<h2 class="heading">post</h2>\n</div>\n'}),define("text!app/modules/post/templates/post-profile.html",[],function(){return'<div class="post-profile row">\n  <div class="container">\n  <div class="row post-main-row">\n    <div class="col-md-7 col-sm-12 col-lg-7">\n      <div class="post gary-border">\n        <header class="heading row">\n          <div class="col-md-9 col-sm-9 col-xs-8" ng-class="{ separator: !isMe }">\n            <a href="/users/{{post.user_id}}" class="img-box">\n              <img height="50" ng-src="{{post.user_avatar}}" class="img-circle" alt="">\n            </a>\n\n            <a href="/users/{{post.user_id}}"><b>{{post.user_name}}</b></a>\n          </div>\n\n          <div class="col-md-3 col-sm-3 col-xs-4">\n            <follow-button class="follow-button" ng-if="!isMe" user-id="post.user_id"></follow-button>\n          </div>\n        </header>\n        <hr />\n        <section class="post-body">\n          <div class="post-title">\n            <span class="pull-left">\n              {{post.title | limitTo:100}}\n            </span>\n\n            <div class="pull-right post-menu">\n              <span class="dropdown-toggle" data-toggle="dropdown">\n                <i class="fa fa-ellipsis-h fa-lg"></i>\n              </span>\n              <ul class="dropdown-menu" role="menu">\n                <li>\n                  <a href>Reshare</a>\n                </li>\n                <li>\n                  <a href>Share on Twitter</a>\n                </li>\n                <li>\n                  <a href>Share on Facebook</a>\n                </li>\n                <li>\n                  <a href>Share on Instragram</a>\n                </li>\n                <li>\n                  <a href>Copy link</a>\n                </li>\n                <li>\n                  <a href report target="posts" target-id="post.id" show-reason="true">Flag Content</a>\n                </li>\n                <li ng-if="isMe">\n                  <a href>Delete post</a>\n                </li>\n              </ul>\n            </div>\n          </div>\n          <div ng-switch="post.type" class="post-content">\n              <div ng-switch-when="image" class="img-holder">\n                  <img ng-src="{{post.file_url}}">\n              </div>\n              <div ng-switch-when="video" class="img-holder">\n                  <div ng-if="isMobile.any" class="jw-player-wrapper">\n                      <jw-player jwplayer-id="post.id" src="post.file_url_360p" type="post.type"></jw-player>\n                  </div>\n                  <div ng-if="!isMobile.any" class="jw-player-wrapper">\n                      <jw-player jwplayer-id="post.id" src="post.file_url_480p" type="post.type"></jw-player>\n                  </div>\n              </div>\n              <div ng-switch-when="audio" class="img-holder">\n                <div class="jw-player-wrapper ">\n                  <jw-player jwplayer-id="post.id" src="post.file_url" type="post.type"></jw-player>\n                </div>\n              </div>\n          </div>\n          <div class="description"\n               ng-if="post"\n               ng-bind-html="post.description | limitTo:255 | tagToLink | nameToLink | unsafe"></div>\n        </section>\n\n        <section class="vote-action row text-center">\n          <div class="col-md-6 col-xs-6 no-padding">\n            <div class="votedown">\n              <button votedown model="post" type="button">\n                <i class="fa fa-arrow-circle-o-down"></i>\n                down vote\n              </button>\n            </div>\n          </div>\n\n          <div class="col-md-6 col-xs-6 no-padding">\n            <div class="voteup">\n              <button voteup model="post" type="button">\n                <i class="fa fa-arrow-circle-o-up"></i>\n                up vote\n              </button>\n            </div>\n          </div>\n        </section>\n\n        <section class="post-action row text-center">\n          <div class="col-md-3 col-xs-3 separator">\n            <span share model="post" ng-if="post"></span>\n          </div>\n          <div class="col-md-3 col-xs-3 separator">\n            <span refresh model="post" ng-if="post"></span>\n          </div>\n          <div class="col-md-3 col-xs-3 separator">\n            <span ng-if="post.id" like model="post"></span>\n          </div>\n          <div class="col-md-3 col-xs-3"><i class="fa fa-expand"></i></div>\n        </section>\n\n        <section class="post-statistic row text-center">\n          <div class="col-md-4 col-xs-4 no-padding">\n            <div class="votesbalance">\n              <i class="fa fa-plus"></i> {{post.votesbalance}}\n            </div>\n          </div>\n          <div class="col-md-4 col-xs-4 no-padding">\n            <div class="votessum">\n              <i class="fa fa-exchange"></i> {{post.votessum}}\n            </div>\n          </div>\n          <div class="col-md-4 col-xs-4 no-padding">\n            <div class="balance">\n              <i class="fa fa-database"></i> {{post.balance}}\n            </div>\n          </div>\n        </section>\n\n        <section class="share-statistic row text-center">\n          <div class="col-md-3 col-sm-3 col-xs-6 separator"><b>{{post.reshare}}</b> Reshares</div>\n          <div class="col-md-3 col-sm-3 col-xs-6 separator"><b>{{post.favorites}}</b> Favorites</div>\n          <div class="col-md-6 col-sm-6 col-xs-12">\n            <ul class="horizontal-list">\n              <li ng-repeat="user in post.reshareUsers">\n                <img height="34" ng-src="{{user.avatar}}" class="img-circle" alt="" />\n              </li>\n              <li ng-if="post.reshareUsers.length === 0"> — </li>\n            </ul>\n          </div>\n        </section>\n        <hr />\n        <footer class="tags-wrapper">\n          <dl class="tags-list">\n              <dd>\n                  <ul>\n                    <li ng-repeat="tag in post.tags"><a href="/tags/{{tag}}">#{{tag}}</a></li>\n                  </ul>\n              </dd>\n          </dl>\n        </footer>\n      </div>\n      <div class="comments gary-border">\n        <posts-comments post="post" ng-if="post.id"></posts-comments>\n      </div>\n    </div>\n    <div class="col-sm-12 col-md-4 col-md-offset-1">\n      <div class="recomendations gary-border">\n        <header class="recomendations-nav row text-center">\n          <div class="col-md-4 col-xs-4">\n            <i class="fa fa-angle-left fa-2x"></i>\n            <b>Back</b>\n          </div>\n\n          <div class="col-md-4 col-xs-4">\n            <i class="fa fa-toggle-off fa-lg"></i>\n          </div>\n\n          <div class="col-md-4 col-xs-4">\n            <b>Next</b>\n            <i class="fa fa-angle-right fa-2x"></i>\n          </div>\n        </header>\n\n        <hr />\n\n        <section class="recomendations-action row text-center">\n          <div class="col-md-3 col-xs-3 separator"><i class="fa fa-video-camera fa-lg"></i></div>\n          <div class="col-md-3 col-xs-3 separator"><i class="fa fa-camera fa-lg"></i></div>\n          <div class="col-md-3 col-xs-3 separator"><i class="fa fa-pencil fa-lg"></i></div>\n          <div class="col-md-3 col-xs-3"><i class="fa fa-headphones fa-lg"></i></div>\n        </section>\n\n        <hr />\n\n        <section class="recomendations-body">\n          <div class="your-path">\n            <ul>\n              <li ng-repeat="p in paths.slice(0, 5)">\n                <div class="row">\n                  <span class="col-md-6">\n                    <i class="fa fa-database"></i> $21.11\n                  </span>\n                  <span class="col-md-6 text-right">\n                    <i class="fa fa-exchange"></i> 1.11\n                  </span>\n                </div>\n\n                <a href="#" class="img-frame">\n                  <img ng-src="{{p.thumb_image}}" alt="">\n                </a>\n\n                <div class="wrap">{{p.name}}</div>\n              </li>\n            </ul>\n\n            <div class="row recomendations-body-pager text-center" ng-if="paths.length > 0">\n              <div class="col-md-6 col-xs-6 border-top">\n                <i class="fa fa-angle-down fa-lg"></i>\n              </div>\n              <div class="col-md-6 col-xs-6 border-top border-left">\n                <i class="fa fa-angle-up fa-lg"></i>\n              </div>\n            </div>\n          </div>\n          <div ng-if="post">\n            <rabbit-holes ></rabbit-holes>\n          </div>\n          \n        </section>\n      </div>\n    </div>\n\n  </div> <!-- row -->\n  </div> <!-- container -->\n</div>\n'}),define("app/modules/post/controllers/post",["require"],function(){"use strict";var controller=["$scope","$http",function(){}];return controller}),function(global){var apple_phone=/iPhone/i,apple_ipod=/iPod/i,apple_tablet=/iPad/i,android_phone=/(?=.*\bAndroid\b)(?=.*\bMobile\b)/i,android_tablet=/Android/i,windows_phone=/IEMobile/i,windows_tablet=/(?=.*\bWindows\b)(?=.*\bARM\b)/i,other_blackberry=/BlackBerry/i,other_blackberry_10=/BB10/i,other_opera=/Opera Mini/i,other_firefox=/(?=.*\bFirefox\b)(?=.*\bMobile\b)/i,seven_inch=new RegExp("(?:Nexus 7|BNTV250|Kindle Fire|Silk|GT-P1000)","i"),match=function(regex,userAgent){return regex.test(userAgent)},IsMobileClass=function(userAgent){var ua=userAgent||navigator.userAgent;return this.apple={phone:match(apple_phone,ua),ipod:match(apple_ipod,ua),tablet:match(apple_tablet,ua),device:match(apple_phone,ua)||match(apple_ipod,ua)||match(apple_tablet,ua)},this.android={phone:match(android_phone,ua),tablet:!match(android_phone,ua)&&match(android_tablet,ua),device:match(android_phone,ua)||match(android_tablet,ua)},this.windows={phone:match(windows_phone,ua),tablet:match(windows_tablet,ua),device:match(windows_phone,ua)||match(windows_tablet,ua)},this.other={blackberry:match(other_blackberry,ua),blackberry10:match(other_blackberry_10,ua),opera:match(other_opera,ua),firefox:match(other_firefox,ua),device:match(other_blackberry,ua)||match(other_blackberry_10,ua)||match(other_opera,ua)||match(other_firefox,ua)},this.seven_inch=match(seven_inch,ua),this.any=this.apple.device||this.android.device||this.windows.device||this.other.device||this.seven_inch,this.phone=this.apple.phone||this.android.phone||this.windows.phone,this.tablet=this.apple.tablet||this.android.tablet||this.windows.tablet,"undefined"==typeof window?this:void 0},instantiate=function(){var IM=new IsMobileClass;return IM.Class=IsMobileClass,IM};"undefined"!=typeof module&&module.exports&&"undefined"==typeof window?module.exports=IsMobileClass:"undefined"!=typeof module&&module.exports&&"undefined"!=typeof window?module.exports=instantiate():"function"==typeof define&&define.amd?define("isMobile",[],global.isMobile=instantiate()):global.isMobile=instantiate()}(this),define("app/modules/post/controllers/post-profile",["isMobile"],function(isMobile){"use strict";var controller=function($scope,$sce,userFactory,$routeParams,paths,postFactory){$scope.paths=paths,$scope.isMobile=isMobile,$scope.isMe=!0,$scope.trustSrc=function(src){return $sce.trustAsResourceUrl(src)},postFactory.getPostById($routeParams.id).success(function(data){$scope.post=data.result,$scope.isMe=userFactory.getInfo().id===$scope.post.user_id})};return["$scope","$sce","userFactory","$routeParams","paths","postFactory",controller]}),"undefined"==typeof jwplayer&&(jwplayer=function(){return jwplayer.api?jwplayer.api.selectPlayer.apply(this,arguments):void 0},jwplayer.version="6.12.4950",jwplayer.vid=document.createElement("video"),jwplayer.audio=document.createElement("audio"),jwplayer.source=document.createElement("source"),function(){var f={},d=Array.prototype,l=Object.prototype,b=d.slice,j=d.concat,c=l.toString,g=l.hasOwnProperty,k=d.map,a=d.forEach,e=d.filter,r=d.every,q=d.some,h=d.indexOf,l=Array.isArray,p=Object.keys,m=function(a){return a instanceof m?a:this instanceof m?void 0:new m(a)},w=m.each=m.forEach=function(e,b,h){if(null==e)return e;if(a&&e.forEach===a)e.forEach(b,h);else if(e.length===+e.length){for(var c=0,p=e.length;p>c;c++)if(b.call(h,e[c],c,e)===f)return}else for(var d=m.keys(e),c=0,p=d.length;p>c;c++)if(b.call(h,e[d[c]],d[c],e)===f)return;return e};m.map=m.collect=function(a,e,b){var h=[];return null==a?h:k&&a.map===k?a.map(e,b):(w(a,function(a,c,p){h.push(e.call(b,a,c,p))}),h)},m.find=m.detect=function(a,e,b){var h;return u(a,function(a,c,p){return e.call(b,a,c,p)?(h=a,!0):void 0}),h},m.filter=m.select=function(a,b,h){var c=[];return null==a?c:e&&a.filter===e?a.filter(b,h):(w(a,function(a,e,p){b.call(h,a,e,p)&&c.push(a)}),c)},m.every=m.all=function(a,e,b){e||(e=m.identity);var h=!0;return null==a?h:r&&a.every===r?a.every(e,b):(w(a,function(a,c,p){return(h=h&&e.call(b,a,c,p))?void 0:f}),!!h)};var u=m.some=m.any=function(a,e,b){e||(e=m.identity);var h=!1;return null==a?h:q&&a.some===q?a.some(e,b):(w(a,function(a,c,p){return h||(h=e.call(b,a,c,p))?f:void 0}),!!h)};m.size=function(a){return null==a?0:a.length===+a.length?a.length:m.keys(a).length},m.after=function(a,e){return function(){return 1>--a?e.apply(this,arguments):void 0}},m.sortedIndex=function(a,e,h,b){h=null==h?m.identity:m.isFunction(h)?h:m.property(h),e=h.call(b,e);for(var c=0,p=a.length;p>c;){var d=c+p>>>1;h.call(b,a[d])<e?c=d+1:p=d}return c},m.find=m.detect=function(a,e,h){var b;return u(a,function(a,c,p){return e.call(h,a,c,p)?(b=a,!0):void 0}),b},u=m.some=m.any=function(a,e,h){e||(e=m.identity);var b=!1;return null==a?b:q&&a.some===q?a.some(e,h):(w(a,function(a,c,p){return b||(b=e.call(h,a,c,p))?f:void 0}),!!b)},m.contains=m.include=function(a,e){return null==a?!1:(a.length!==+a.length&&(a=m.values(a)),0<=m.indexOf(a,e))},m.where=function(a,e){return m.filter(a,m.matches(e))},m.difference=function(a){var e=j.apply(d,b.call(arguments,1));return m.filter(a,function(a){return!m.contains(e,a)})},m.without=function(a){return m.difference(a,b.call(arguments,1))},m.indexOf=function(a,e,b){if(null==a)return-1;var c=0,p=a.length;if(b){if("number"!=typeof b)return c=m.sortedIndex(a,e),a[c]===e?c:-1;c=0>b?Math.max(0,p+b):b}if(h&&a.indexOf===h)return a.indexOf(e,b);for(;p>c;c++)if(a[c]===e)return c;return-1},m.partial=function(a){var e=b.call(arguments,1);return function(){for(var b=0,h=e.slice(),c=0,p=h.length;p>c;c++)h[c]===m&&(h[c]=arguments[b++]);for(;b<arguments.length;)h.push(arguments[b++]);return a.apply(this,h)}},m.memoize=function(a,e){var b={};return e||(e=m.identity),function(){var h=e.apply(this,arguments);return m.has(b,h)?b[h]:b[h]=a.apply(this,arguments)}},m.delay=function(a,e){var h=b.call(arguments,2);return setTimeout(function(){return a.apply(null,h)},e)},m.defer=function(a){return m.delay.apply(m,[a,1].concat(b.call(arguments,1)))},m.keys=function(a){if(!m.isObject(a))return[];if(p)return p(a);var b,e=[];for(b in a)m.has(a,b)&&e.push(b);return e},m.pick=function(a){var e={},h=j.apply(d,b.call(arguments,1));return w(h,function(b){b in a&&(e[b]=a[b])}),e},m.isArray=l||function(a){return"[object Array]"==c.call(a)},m.isObject=function(a){return a===Object(a)},w("Arguments Function String Number Date RegExp".split(" "),function(a){m["is"+a]=function(e){return c.call(e)=="[object "+a+"]"}}),m.isArguments(arguments)||(m.isArguments=function(a){return!(!a||!m.has(a,"callee"))}),"function"!=typeof/./&&(m.isFunction=function(a){return"function"==typeof a}),m.isFinite=function(a){return isFinite(a)&&!isNaN(parseFloat(a))},m.isNaN=function(a){return m.isNumber(a)&&a!=+a},m.isBoolean=function(a){return!0===a||!1===a||"[object Boolean]"==c.call(a)},m.isNull=function(a){return null===a},m.isUndefined=function(a){return void 0===a},m.has=function(a,e){return g.call(a,e)},m.identity=function(a){return a},m.constant=function(a){return function(){return a}},m.property=function(a){return function(e){return e[a]}},m.matches=function(a){return function(e){if(e===a)return!0;for(var b in a)if(a[b]!==e[b])return!1;return!0}},m.result=function(a,e){if(null!=a){var b=a[e];return m.isFunction(b)?b.call(a):b}},this._=m}.call(jwplayer),function(f){function d(a){return function(){return g(a)}}function l(a,e,c,d,h){return function(){var p,g;if(h)c(a);else{try{if((p=a.responseXML)&&(g=p.firstChild,p.lastChild&&"parsererror"===p.lastChild.nodeName))return void(d&&d("Invalid XML",e,a))}catch(k){}if(p&&g)return c(a);(p=b.parseXML(a.responseText))&&p.firstChild?(a=b.extend({},a,{responseXML:p}),c(a)):d&&d(a.responseText?"Invalid XML":e,e,a)}}}var b=f.utils={},j=f._;b.exists=function(a){switch(typeof a){case"string":return 0<a.length;case"object":return null!==a;case"undefined":return!1}return!0},b.styleDimension=function(a){return a+(0<a.toString().indexOf("%")?"":"px")},b.getAbsolutePath=function(a,e){if(b.exists(e)||(e=document.location.href),b.exists(a)){var c;if(b.exists(a)){c=a.indexOf("://");var d=a.indexOf("?");c=c>0&&(0>d||d>c)}else c=void 0;if(c)return a;c=e.substring(0,e.indexOf("://")+3);var h,d=e.substring(c.length,e.indexOf("/",c.length+1));0===a.indexOf("/")?h=a.split("/"):(h=e.split("?")[0],h=h.substring(c.length+d.length+1,h.lastIndexOf("/")),h=h.split("/").concat(a.split("/")));for(var p=[],g=0;g<h.length;g++)h[g]&&b.exists(h[g])&&"."!==h[g]&&(".."===h[g]?p.pop():p.push(h[g]));return c+d+"/"+p.join("/")}},b.extend=function(){var a=Array.prototype.slice.call(arguments,0);if(1<a.length){for(var e=a[0],c=function(a,b){void 0!==b&&null!==b&&(e[a]=b)},d=1;d<a.length;d++)b.foreach(a[d],c);return e}return null};var c=window.console=window.console||{log:function(){}};b.log=function(){var a=Array.prototype.slice.call(arguments,0);"object"==typeof c.log?c.log(a):c.log.apply(c,a)};var g=j.memoize(function(a){return null!==navigator.userAgent.toLowerCase().match(a)});b.isFF=d(/firefox/i),b.isChrome=d(/chrome/i),b.isIPod=d(/iP(hone|od)/i),b.isIPad=d(/iPad/i),b.isSafari602=d(/Macintosh.*Mac OS X 10_8.*6\.0\.\d* Safari/i),b.isIETrident=function(a){return a?(a=parseFloat(a).toFixed(1),g(RegExp("trident/.+rv:\\s*"+a,"i"))):g(/trident/i)},b.isMSIE=function(a){return a?(a=parseFloat(a).toFixed(1),g(RegExp("msie\\s*"+a,"i"))):g(/msie/i)},b.isIE=function(a){return a?(a=parseFloat(a).toFixed(1),a>=11?b.isIETrident(a):b.isMSIE(a)):b.isMSIE()||b.isIETrident()},b.isSafari=function(){return g(/safari/i)&&!g(/chrome/i)&&!g(/chromium/i)&&!g(/android/i)},b.isIOS=function(a){return g(a?RegExp("iP(hone|ad|od).+\\sOS\\s"+a,"i"):/iP(hone|ad|od)/i)},b.isAndroidNative=function(a){return b.isAndroid(a,!0)},b.isAndroid=function(a,e){return e&&g(/chrome\/[123456789]/i)&&!g(/chrome\/18/)?!1:a?(b.isInt(a)&&!/\./.test(a)&&(a=""+a+"."),g(RegExp("Android\\s*"+a,"i"))):g(/Android/i)},b.isMobile=function(){return b.isIOS()||b.isAndroid()},b.isIframe=function(){return window.frameElement&&"IFRAME"===window.frameElement.nodeName},b.saveCookie=function(a,e){document.cookie="jwplayer."+a+"="+e+"; path=/"},b.getCookies=function(){for(var a={},e=document.cookie.split("; "),b=0;b<e.length;b++){var c=e[b].split("=");0===c[0].indexOf("jwplayer.")&&(a[c[0].substring(9,c[0].length)]=c[1])}return a},b.isInt=function(a){return 0===parseFloat(a)%1},b.typeOf=function(a){if(null===a)return"null";var e=typeof a;return"object"===e&&j.isArray(a)?"array":e},b.translateEventResponse=function(a,e){var c=b.extend({},e);if(a!==f.events.JWPLAYER_FULLSCREEN||c.fullscreen)if("object"==typeof c.data){var d=c.data;delete c.data,c=b.extend(c,d)}else"object"==typeof c.metadata&&b.deepReplaceKeyName(c.metadata,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]);else c.fullscreen="true"===c.message,delete c.message;return b.foreach(["position","duration","offset"],function(a,e){c[e]&&(c[e]=Math.round(1e3*c[e])/1e3)}),c},b.flashVersion=function(){if(b.isAndroid())return 0;var e,a=navigator.plugins;try{if("undefined"!==a&&(e=a["Shockwave Flash"]))return parseInt(e.description.replace(/\D+(\d+)\..*/,"$1"),10)}catch(c){}if("undefined"!=typeof window.ActiveXObject)try{if(e=new window.ActiveXObject("ShockwaveFlash.ShockwaveFlash"))return parseInt(e.GetVariable("$version").split(" ")[1].split(",")[0],10)}catch(d){}return 0},b.getScriptPath=function(a){for(var e=document.getElementsByTagName("script"),c=0;c<e.length;c++){var b=e[c].src;if(b&&0<=b.indexOf(a))return b.substr(0,b.indexOf(a))}return""},b.deepReplaceKeyName=function(a,e,c){switch(f.utils.typeOf(a)){case"array":for(var d=0;d<a.length;d++)a[d]=f.utils.deepReplaceKeyName(a[d],e,c);break;case"object":b.foreach(a,function(b,d){var g;if(e instanceof Array&&c instanceof Array){if(e.length!==c.length)return;g=e}else g=[e];for(var k=b,j=0;j<g.length;j++)k=k.replace(RegExp(e[j],"g"),c[j]);a[k]=f.utils.deepReplaceKeyName(d,e,c),b!==k&&delete a[b]})}return a};var k=b.pluginPathType={ABSOLUTE:0,RELATIVE:1,CDN:2};b.getPluginPathType=function(a){if("string"==typeof a){a=a.split("?")[0];var e=a.indexOf("://");if(e>0)return k.ABSOLUTE;var c=a.indexOf("/");return a=b.extension(a),!(0>e&&0>c)||a&&isNaN(a)?k.RELATIVE:k.CDN}},b.getPluginName=function(a){return a.replace(/^(.*\/)?([^-]*)-?.*\.(swf|js)$/,"$2")},b.getPluginVersion=function(a){return a.replace(/[^-]*-?([^\.]*).*$/,"$1")},b.isYouTube=function(a,e){return"youtube"===e||/^(http|\/\/).*(youtube\.com|youtu\.be)\/.+/.test(a)},b.youTubeID=function(a){try{return/v[=\/]([^?&]*)|youtu\.be\/([^?]*)|^([\w-]*)$/i.exec(a).slice(1).join("").replace("?","")}catch(e){return""}},b.isRtmp=function(a,e){return 0===a.indexOf("rtmp")||"rtmp"===e},b.foreach=function(a,e){var c,d;for(c in a)"function"===b.typeOf(a.hasOwnProperty)?a.hasOwnProperty(c)&&(d=a[c],e(c,d)):(d=a[c],e(c,d))},b.isHTTPS=function(){return 0===window.location.href.indexOf("https")},b.repo=function(){var a="http://p.jwpcdn.com/"+f.version.split(/\W/).splice(0,2).join("/")+"/";try{b.isHTTPS()&&(a=a.replace("http://","https://ssl."))}catch(c){}return a},b.versionCheck=function(a){a=("0"+a).split(/\W/);var c=f.version.split(/\W/),b=parseFloat(a[0]),d=parseFloat(c[0]);return b>d||b===d&&parseFloat("0"+a[1])>parseFloat(c[1])?!1:!0},b.ajax=function(a,c,d,g){var h,p=!1;if(0<a.indexOf("#")&&(a=a.replace(/#.*$/,"")),a&&0<=a.indexOf("://")&&a.split("/")[2]!==window.location.href.split("/")[2]&&b.exists(window.XDomainRequest))h=new window.XDomainRequest,h.onload=l(h,a,c,d,g),h.ontimeout=h.onprogress=function(){},h.timeout=5e3;else{if(!b.exists(window.XMLHttpRequest))return d&&d("",a,h),h;var k=h=new window.XMLHttpRequest,j=a;h.onreadystatechange=function(){if(4===k.readyState)switch(k.status){case 200:l(k,j,c,d,g)();break;case 404:d("File not found",j,k)}}}h.overrideMimeType&&h.overrideMimeType("text/xml");var f=a,t=h;h.onerror=function(){d("Error loading file",f,t)};try{h.open("GET",a,!0)}catch(n){p=!0}return setTimeout(function(){if(p)d&&d(a,a,h);else try{h.send()}catch(c){d&&d(a,a,h)}},0),h},b.parseXML=function(a){var c;try{if(window.DOMParser){if(c=(new window.DOMParser).parseFromString(a,"text/xml"),c.childNodes&&c.childNodes.length&&"parsererror"===c.childNodes[0].firstChild.nodeName)return}else c=new window.ActiveXObject("Microsoft.XMLDOM"),c.async="false",c.loadXML(a)}catch(b){return}return c},b.between=function(a,c,b){return Math.max(Math.min(a,b),c)},b.seconds=function(a){if(j.isNumber(a))return a;a=a.replace(",",".");var c=a.split(":"),b=0;return"s"===a.slice(-1)?b=parseFloat(a):"m"===a.slice(-1)?b=60*parseFloat(a):"h"===a.slice(-1)?b=3600*parseFloat(a):1<c.length?(b=parseFloat(c[c.length-1]),b+=60*parseFloat(c[c.length-2]),3===c.length&&(b+=3600*parseFloat(c[c.length-3]))):b=parseFloat(a),b},b.serialize=function(a){return null===a?null:"true"===a.toString().toLowerCase()?!0:"false"===a.toString().toLowerCase()?!1:isNaN(Number(a))||5<a.length||0===a.length?a:Number(a)},b.addClass=function(a,c){var d=j.isString(a.className)?a.className.split(" "):[],g=j.isArray(c)?c:c.split(" ");j.each(g,function(a){j.contains(d,a)||d.push(a)}),a.className=b.trim(d.join(" "))},b.removeClass=function(a,c){var d=j.isString(a.className)?a.className.split(" "):[],g=j.isArray(c)?c:c.split(" ");a.className=b.trim(j.difference(d,g).join(" "))},b.emptyElement=function(a){for(;a.firstChild;)a.removeChild(a.firstChild)},b.indexOf=j.indexOf,b.noop=function(){},b.canCast=function(){var a=f.cast;return!(!a||!j.isFunction(a.available)||!a.available())}}(jwplayer),function(f){function d(a){var c=document.createElement("style");return a&&c.appendChild(document.createTextNode(a)),c.type="text/css",document.getElementsByTagName("head")[0].appendChild(c),c}function l(a,b,e){return c.exists(b)?(e=e?" !important":"","string"==typeof b&&isNaN(b)?/png|gif|jpe?g/i.test(b)&&0>b.indexOf("url")?"url("+b+")":b+e:0===b||"z-index"===a||"opacity"===a?""+b+e:/color/i.test(a)?"#"+c.pad(b.toString(16).replace(/^0x/i,""),6)+e:Math.ceil(b)+"px"+e):""}function b(a,c){for(var b=0;b<a.length;b++){var d,g,e=a[b];if(void 0!==e&&null!==e)for(d in c){g=d,g=g.split("-");for(var k=1;k<g.length;k++)g[k]=g[k].charAt(0).toUpperCase()+g[k].slice(1);g=g.join(""),e.style[g]!==c[d]&&(e.style[g]=c[d])}}}function j(c){var e,d,k,b=g[c].sheet;if(b){e=b.cssRules,d=r[c],k=c;var j=a[k];k+=" { ";for(var f in j)k+=f+": "+j[f]+"; ";if(k+="}",void 0!==d&&d<e.length&&e[d].selectorText===c){if(k===e[d].cssText)return;b.deleteRule(d)}else d=e.length,r[c]=d;try{b.insertRule(k,d)}catch(l){}}}var k,c=f.utils,g={},a={},e=null,r={};c.cssKeyframes=function(a,c){var b=g.keyframes;b||(b=d(),g.keyframes=b);var b=b.sheet,e="@keyframes "+a+" { "+c+" }";try{b.insertRule(e,b.cssRules.length)}catch(k){}e=e.replace(/(keyframes|transform)/g,"-webkit-$1");try{b.insertRule(e,b.cssRules.length)}catch(j){}};var q=c.css=function(c,b,f){a[c]||(a[c]={});var r=a[c];f=f||!1;var q,n,u=!1;for(q in b)n=l(q,b[q],f),""!==n?n!==r[q]&&(r[q]=n,u=!0):void 0!==r[q]&&(delete r[q],u=!0);u&&(g[c]||(b=k&&k.sheet&&k.sheet.cssRules&&k.sheet.cssRules.length||0,(!k||b>5e4)&&(k=d()),g[c]=k),null!==e?e.styleSheets[c]=a[c]:j(c))};q.style=function(a,c,d){if(void 0!==a&&null!==a){void 0===a.length&&(a=[a]);var k,g={};for(k in c)g[k]=l(k,c[k]);if(null===e||d)b(a,g);else{c=(c=a.__cssRules)||{};for(var j in g)c[j]=g[j];a.__cssRules=c,0>f._.indexOf(e.elements,a)&&e.elements.push(a)}}},q.block=function(a){null===e&&(e={id:a,styleSheets:{},elements:[]})},q.unblock=function(a){if(e&&(!a||e.id===a)){for(var c in e.styleSheets)j(c);for(a=0;a<e.elements.length;a++)c=e.elements[a],b(c,c.__cssRules);e=null}},c.clearCss=function(c){for(var b in a)0<=b.indexOf(c)&&delete a[b];for(var e in g)0<=e.indexOf(c)&&j(e)},c.transform=function(a,c){var b={};c=c||"",b.transform=c,b["-webkit-transform"]=c,b["-ms-transform"]=c,b["-moz-transform"]=c,b["-o-transform"]=c,"string"==typeof a?q(a,b):q.style(a,b)},c.dragStyle=function(a,c){q(a,{"-webkit-user-select":c,"-moz-user-select":c,"-ms-user-select":c,"-webkit-user-drag":c,"user-select":c,"user-drag":c})},c.transitionStyle=function(a,c){navigator.userAgent.match(/5\.\d(\.\d)? safari/i)||q(a,{"-webkit-transition":c,"-moz-transition":c,"-o-transition":c,transition:c})},c.rotate=function(a,b){c.transform(a,"rotate("+b+"deg)")},c.rgbHex=function(a){return a=String(a).replace("#",""),3===a.length&&(a=a[0]+a[0]+a[1]+a[1]+a[2]+a[2]),"#"+a.substr(-6)},c.hexToRgba=function(a,c){var b="rgb",e=[parseInt(a.substr(1,2),16),parseInt(a.substr(3,2),16),parseInt(a.substr(5,2),16)];return void 0!==c&&100!==c&&(b+="a",e.push(c/100)),b+"("+e.join(",")+")"}}(jwplayer),function(f){var d=jwplayer._,l=f.foreach,b={mp4:"video/mp4",ogg:"video/ogg",oga:"audio/ogg",vorbis:"audio/ogg",webm:"video/webm",aac:"audio/mp4",mp3:"audio/mpeg",hls:"application/vnd.apple.mpegurl"},j={mp4:b.mp4,f4v:b.mp4,m4v:b.mp4,mov:b.mp4,m4a:b.aac,f4a:b.aac,aac:b.aac,mp3:b.mp3,ogv:b.ogg,ogg:b.ogg,oga:b.vorbis,vorbis:b.vorbis,webm:b.webm,m3u8:b.hls,m3u:b.hls,hls:b.hls},c=f.extensionmap={};l(j,function(b,d){c[b]={html5:d}}),l({flv:"video",f4v:"video",mov:"video",m4a:"video",m4v:"video",mp4:"video",aac:"video",f4a:"video",mp3:"sound",smil:"rtmp",m3u8:"hls",hls:"hls"},function(b,d){c[b]||(c[b]={}),c[b].flash=d}),c.types=b,c.mimeType=function(c){var k;return d.find(b,function(a,b){return a===c?(k=b,!0):void 0}),k},c.extType=function(b){return c.mimeType(j[b])}}(jwplayer.utils),function(f){var d=f.loaderstatus={NEW:0,LOADING:1,ERROR:2,COMPLETE:3};f.scriptloader=function(l){function b(a){k=d.ERROR,g.sendEvent(c.ERROR,a)}function j(a){k=d.COMPLETE,g.sendEvent(c.COMPLETE,a)
}var c=jwplayer.events,g=f.extend(this,new c.eventdispatcher),k=d.NEW;this.load=function(){if(k===d.NEW){var a=f.scriptloader.loaders[l];if(a&&(k=a.getStatus(),2>k))return a.addEventListener(c.ERROR,b),void a.addEventListener(c.COMPLETE,j);var e=document.getElementsByTagName("head")[0]||document.documentElement,g=document.createElement("script"),q=!1;g.onload=g.onreadystatechange=function(a){q||this.readyState&&"loaded"!==this.readyState&&"complete"!==this.readyState||(q=!0,j(a),g.onload=g.onreadystatechange=null,e&&g.parentNode&&e.removeChild(g))},g.onerror=b,g.src=l,e.insertBefore(g,e.firstChild),k=d.LOADING,f.scriptloader.loaders[l]=this}},this.getStatus=function(){return k}},f.scriptloader.loaders={}}(jwplayer.utils),function(f){f.trim=function(d){return d.replace(/^\s+|\s+$/g,"")},f.pad=function(d,f,b){for(b||(b="0");d.length<f;)d=b+d;return d},f.xmlAttribute=function(d,f){for(var b=0;b<d.attributes.length;b++)if(d.attributes[b].name&&d.attributes[b].name.toLowerCase()===f.toLowerCase())return d.attributes[b].value.toString();return""},f.extension=function(d){if(!d||"rtmp"===d.substr(0,4))return"";var f;return(f=-1<d.indexOf("(format=m3u8-")?"m3u8":!1)?f:(d=d.substring(d.lastIndexOf("/")+1,d.length).split("?")[0].split("#")[0],-1<d.lastIndexOf(".")?d.substr(d.lastIndexOf(".")+1,d.length).toLowerCase():void 0)},f.stringToColor=function(d){return d=d.replace(/(#|0x)?([0-9A-F]{3,6})$/gi,"$2"),3===d.length&&(d=d.charAt(0)+d.charAt(0)+d.charAt(1)+d.charAt(1)+d.charAt(2)+d.charAt(2)),parseInt(d,16)}}(jwplayer.utils),function(f){var d="touchmove",l="touchstart";f.touch=function(b){function j(b){b.type===l?(a=!0,r=g(h.DRAG_START,b)):b.type===d?a&&(q||(c(h.DRAG_START,b,r),q=!0),c(h.DRAG,b)):(a&&(q?c(h.DRAG_END,b):(b.cancelBubble=!0,c(h.TAP,b))),a=q=!1,r=null)}function c(a,c,b){e[a]&&(c.preventManipulation&&c.preventManipulation(),c.preventDefault&&c.preventDefault(),c=b?b:g(a,c))&&e[a](c)}function g(a,c){var b=null;if(c.touches&&c.touches.length?b=c.touches[0]:c.changedTouches&&c.changedTouches.length&&(b=c.changedTouches[0]),!b)return null;var e=k.getBoundingClientRect(),b={type:a,target:k,x:b.pageX-window.pageXOffset-e.left,y:b.pageY,deltaX:0,deltaY:0};return a!==h.TAP&&r&&(b.deltaX=b.x-r.x,b.deltaY=b.y-r.y),b}var k=b,a=!1,e={},r=null,q=!1,h=f.touchEvents;return document.addEventListener(d,j),document.addEventListener("touchend",function(b){a&&q&&c(h.DRAG_END,b),a=q=!1,r=null}),document.addEventListener("touchcancel",j),b.addEventListener(l,j),b.addEventListener("touchend",j),this.addEventListener=function(a,c){e[a]=c},this.removeEventListener=function(a){delete e[a]},this}}(jwplayer.utils),function(f){f.touchEvents={DRAG:"jwplayerDrag",DRAG_START:"jwplayerDragStart",DRAG_END:"jwplayerDragEnd",TAP:"jwplayerTap"}}(jwplayer.utils),function(f){f.key=function(d){var l,b,j;this.edition=function(){return j&&j.getTime()<(new Date).getTime()?"invalid":l},this.token=function(){return b},f.exists(d)||(d="");try{d=f.tea.decrypt(d,"36QXq4W@GSBV^teR");var c=d.split("/");(l=c[0])?/^(free|pro|premium|enterprise|ads)$/i.test(l)?(b=c[1],c[2]&&0<parseInt(c[2])&&(j=new Date,j.setTime(String(c[2])))):l="invalid":l="free"}catch(g){l="invalid"}}}(jwplayer.utils),function(f){var d=f.tea={};d.encrypt=function(j,c){if(0==j.length)return"";var g=d.strToLongs(b.encode(j));1>=g.length&&(g[1]=0);for(var q,k=d.strToLongs(b.encode(c).slice(0,16)),a=g.length,e=g[a-1],f=g[0],h=Math.floor(6+52/a),p=0;0<h--;){p+=2654435769,q=p>>>2&3;for(var m=0;a>m;m++)f=g[(m+1)%a],e=(e>>>5^f<<2)+(f>>>3^e<<4)^(p^f)+(k[3&m^q]^e),e=g[m]+=e}return g=d.longsToStr(g),l.encode(g)},d.decrypt=function(j,c){if(0==j.length)return"";for(var q,g=d.strToLongs(l.decode(j)),k=d.strToLongs(b.encode(c).slice(0,16)),a=g.length,e=g[a-1],f=g[0],h=2654435769*Math.floor(6+52/a);0!=h;){q=h>>>2&3;for(var p=a-1;p>=0;p--)e=g[p>0?p-1:a-1],e=(e>>>5^f<<2)+(f>>>3^e<<4)^(h^f)+(k[3&p^q]^e),f=g[p]-=e;h-=2654435769}return g=d.longsToStr(g),g=g.replace(/\0+$/,""),b.decode(g)},d.strToLongs=function(b){for(var c=Array(Math.ceil(b.length/4)),d=0;d<c.length;d++)c[d]=b.charCodeAt(4*d)+(b.charCodeAt(4*d+1)<<8)+(b.charCodeAt(4*d+2)<<16)+(b.charCodeAt(4*d+3)<<24);return c},d.longsToStr=function(b){for(var c=Array(b.length),d=0;d<b.length;d++)c[d]=String.fromCharCode(255&b[d],b[d]>>>8&255,b[d]>>>16&255,b[d]>>>24&255);return c.join("")};var l={code:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789+/=",encode:function(d,c){var g,k,a,e,h,p,f=[],q="",m=l.code;if(p=("undefined"==typeof c?0:c)?b.encode(d):d,h=p.length%3,h>0)for(;3>h++;)q+="=",p+="\x00";for(h=0;h<p.length;h+=3)g=p.charCodeAt(h),k=p.charCodeAt(h+1),a=p.charCodeAt(h+2),e=g<<16|k<<8|a,g=e>>18&63,k=e>>12&63,a=e>>6&63,e&=63,f[h/3]=m.charAt(g)+m.charAt(k)+m.charAt(a)+m.charAt(e);return f=f.join(""),f=f.slice(0,f.length-q.length)+q},decode:function(d,c){c="undefined"==typeof c?!1:c;var g,k,a,e,f,h,q=[],p=l.code;h=c?b.decode(d):d;for(var m=0;m<h.length;m+=4)g=p.indexOf(h.charAt(m)),k=p.indexOf(h.charAt(m+1)),e=p.indexOf(h.charAt(m+2)),f=p.indexOf(h.charAt(m+3)),a=g<<18|k<<12|e<<6|f,g=a>>>16&255,k=a>>>8&255,a&=255,q[m/4]=String.fromCharCode(g,k,a),64==f&&(q[m/4]=String.fromCharCode(g,k)),64==e&&(q[m/4]=String.fromCharCode(g));return e=q.join(""),c?b.decode(e):e}},b={encode:function(b){return b=b.replace(/[\u0080-\u07ff]/g,function(c){return c=c.charCodeAt(0),String.fromCharCode(192|c>>6,128|63&c)}),b=b.replace(/[\u0800-\uffff]/g,function(c){return c=c.charCodeAt(0),String.fromCharCode(224|c>>12,128|c>>6&63,128|63&c)})},decode:function(b){return b=b.replace(/[\u00e0-\u00ef][\u0080-\u00bf][\u0080-\u00bf]/g,function(c){return c=(15&c.charCodeAt(0))<<12|(63&c.charCodeAt(1))<<6|63&c.charCodeAt(2),String.fromCharCode(c)}),b=b.replace(/[\u00c0-\u00df][\u0080-\u00bf]/g,function(c){return c=(31&c.charCodeAt(0))<<6|63&c.charCodeAt(1),String.fromCharCode(c)})}}}(jwplayer.utils),function(f){f.events={COMPLETE:"COMPLETE",ERROR:"ERROR",API_READY:"jwplayerAPIReady",JWPLAYER_READY:"jwplayerReady",JWPLAYER_FULLSCREEN:"jwplayerFullscreen",JWPLAYER_RESIZE:"jwplayerResize",JWPLAYER_ERROR:"jwplayerError",JWPLAYER_SETUP_ERROR:"jwplayerSetupError",JWPLAYER_MEDIA_BEFOREPLAY:"jwplayerMediaBeforePlay",JWPLAYER_MEDIA_BEFORECOMPLETE:"jwplayerMediaBeforeComplete",JWPLAYER_MEDIA_BUFFER:"jwplayerMediaBuffer",JWPLAYER_MEDIA_BUFFER_FULL:"jwplayerMediaBufferFull",JWPLAYER_MEDIA_ERROR:"jwplayerMediaError",JWPLAYER_MEDIA_LOADED:"jwplayerMediaLoaded",JWPLAYER_MEDIA_COMPLETE:"jwplayerMediaComplete",JWPLAYER_MEDIA_SEEK:"jwplayerMediaSeek",JWPLAYER_MEDIA_TIME:"jwplayerMediaTime",JWPLAYER_MEDIA_VOLUME:"jwplayerMediaVolume",JWPLAYER_MEDIA_META:"jwplayerMediaMeta",JWPLAYER_MEDIA_MUTE:"jwplayerMediaMute",JWPLAYER_AUDIO_TRACKS:"jwplayerAudioTracks",JWPLAYER_AUDIO_TRACK_CHANGED:"jwplayerAudioTrackChanged",JWPLAYER_MEDIA_LEVELS:"jwplayerMediaLevels",JWPLAYER_MEDIA_LEVEL_CHANGED:"jwplayerMediaLevelChanged",JWPLAYER_CAPTIONS_CHANGED:"jwplayerCaptionsChanged",JWPLAYER_CAPTIONS_LIST:"jwplayerCaptionsList",JWPLAYER_CAPTIONS_LOADED:"jwplayerCaptionsLoaded",JWPLAYER_PLAYER_STATE:"jwplayerPlayerState",state:{BUFFERING:"BUFFERING",IDLE:"IDLE",PAUSED:"PAUSED",PLAYING:"PLAYING"},JWPLAYER_PLAYLIST_LOADED:"jwplayerPlaylistLoaded",JWPLAYER_PLAYLIST_ITEM:"jwplayerPlaylistItem",JWPLAYER_PLAYLIST_COMPLETE:"jwplayerPlaylistComplete",JWPLAYER_DISPLAY_CLICK:"jwplayerViewClick",JWPLAYER_PROVIDER_CLICK:"jwplayerProviderClick",JWPLAYER_VIEW_TAB_FOCUS:"jwplayerViewTabFocus",JWPLAYER_CONTROLS:"jwplayerViewControls",JWPLAYER_USER_ACTION:"jwplayerUserAction",JWPLAYER_INSTREAM_CLICK:"jwplayerInstreamClicked",JWPLAYER_INSTREAM_DESTROYED:"jwplayerInstreamDestroyed",JWPLAYER_AD_TIME:"jwplayerAdTime",JWPLAYER_AD_ERROR:"jwplayerAdError",JWPLAYER_AD_CLICK:"jwplayerAdClicked",JWPLAYER_AD_COMPLETE:"jwplayerAdComplete",JWPLAYER_AD_IMPRESSION:"jwplayerAdImpression",JWPLAYER_AD_COMPANIONS:"jwplayerAdCompanions",JWPLAYER_AD_SKIPPED:"jwplayerAdSkipped",JWPLAYER_AD_PLAY:"jwplayerAdPlay",JWPLAYER_AD_PAUSE:"jwplayerAdPause",JWPLAYER_AD_META:"jwplayerAdMeta",JWPLAYER_CAST_AVAILABLE:"jwplayerCastAvailable",JWPLAYER_CAST_SESSION:"jwplayerCastSession",JWPLAYER_CAST_AD_CHANGED:"jwplayerCastAdChanged"}}(jwplayer),function(f){var d=f.utils;f.events.eventdispatcher=function(l,b){function j(c,a,b){if(c)for(var g=0;g<c.length;g++){var f=c[g];if(f){null!==f.count&&0===--f.count&&delete c[g];try{f.listener(a)}catch(h){d.log('Error handling "'+b+'" event listener ['+g+"]: "+h.toString(),f.listener,a)}}}}var c,g;this.resetEventListeners=function(){c={},g=[]},this.resetEventListeners(),this.addEventListener=function(b,a,e){try{d.exists(c[b])||(c[b]=[]),"string"===d.typeOf(a)&&(a=new Function("return "+a)()),c[b].push({listener:a,count:e||null})}catch(g){d.log("error",g)}return!1},this.removeEventListener=function(b,a){var e;if(c[b]){try{if(void 0===a)return void(c[b]=[]);for(e=0;e<c[b].length;e++)if(c[b][e].listener.toString()===a.toString()){c[b].splice(e,1);break}}catch(g){d.log("error",g)}return!1}},this.addGlobalListener=function(b,a){try{"string"===d.typeOf(b)&&(b=new Function("return "+b)()),g.push({listener:b,count:a||null})}catch(c){d.log("error",c)}return!1},this.removeGlobalListener=function(b){if(b){try{for(var a=g.length;a--;)g[a].listener.toString()===b.toString()&&g.splice(a,1)}catch(c){d.log("error",c)}return!1}},this.sendEvent=function(k,a){d.exists(a)||(a={}),d.extend(a,{id:l,version:f.version,type:k}),b&&d.log(k,a),j(c[k],a,k),j(g,a,k)}}}(window.jwplayer),function(f){var d={},l={};f.plugins=function(){},f.plugins.loadPlugins=function(b,j){return l[b]=new f.plugins.pluginloader(new f.plugins.model(d),j),l[b]},f.plugins.registerPlugin=function(b,j,c,g){var k=f.utils.getPluginName(b);d[k]||(d[k]=new f.plugins.plugin(b)),d[k].registerPlugin(b,j,c,g)}}(jwplayer),function(f){f.plugins.model=function(d){this.addPlugin=function(l){var b=f.utils.getPluginName(l);return d[b]||(d[b]=new f.plugins.plugin(l)),d[b]},this.getPlugins=function(){return d}}}(jwplayer),function(f){var d=jwplayer.utils,l=jwplayer.events;f.pluginmodes={FLASH:0,JAVASCRIPT:1,HYBRID:2},f.plugin=function(b){function j(){switch(d.getPluginPathType(b)){case d.pluginPathType.ABSOLUTE:return b;case d.pluginPathType.RELATIVE:return d.getAbsolutePath(b,window.location.href)}}function c(){q=setTimeout(function(){k=d.loaderstatus.COMPLETE,h.sendEvent(l.COMPLETE)},1e3)}function g(){k=d.loaderstatus.ERROR,h.sendEvent(l.ERROR,{url:b})}var a,e,r,q,k=d.loaderstatus.NEW,h=new l.eventdispatcher;d.extend(this,h),this.load=function(){if(k===d.loaderstatus.NEW)if(0<b.lastIndexOf(".swf"))a=b,k=d.loaderstatus.COMPLETE,h.sendEvent(l.COMPLETE);else if(d.getPluginPathType(b)===d.pluginPathType.CDN)k=d.loaderstatus.COMPLETE,h.sendEvent(l.COMPLETE);else{k=d.loaderstatus.LOADING;var e=new d.scriptloader(j());e.addEventListener(l.COMPLETE,c),e.addEventListener(l.ERROR,g),e.load()}},this.registerPlugin=function(b,c,g,f){q&&(clearTimeout(q),q=void 0),r=c,g&&f?(a=f,e=g):"string"==typeof g?a=g:"function"==typeof g?e=g:!g&&!f&&(a=b),k=d.loaderstatus.COMPLETE,h.sendEvent(l.COMPLETE)},this.getStatus=function(){return k},this.getPluginName=function(){return d.getPluginName(b)},this.getFlashPath=function(){if(a)switch(d.getPluginPathType(a)){case d.pluginPathType.ABSOLUTE:return a;case d.pluginPathType.RELATIVE:return 0<b.lastIndexOf(".swf")?d.getAbsolutePath(a,window.location.href):d.getAbsolutePath(a,j())}return null},this.getJS=function(){return e},this.getTarget=function(){return r},this.getPluginmode=function(){return"undefined"!=typeof a&&"undefined"!=typeof e?f.pluginmodes.HYBRID:"undefined"!=typeof a?f.pluginmodes.FLASH:"undefined"!=typeof e?f.pluginmodes.JAVASCRIPT:void 0},this.getNewInstance=function(a,b,c){return new e(a,b,c)},this.getURL=function(){return b}}}(jwplayer.plugins),function(f){var d=f.utils,l=f.events,b=f._,j=d.foreach;f.plugins.pluginloader=function(c,g){function f(){q||(q=!0,r=d.loaderstatus.COMPLETE,u.sendEvent(l.COMPLETE))}function a(){if(!w&&((!h||0===b.keys(h).length)&&f(),!q)){var a=c.getPlugins();m=b.after(p,f),d.foreach(h,function(b){b=d.getPluginName(b);var c=a[b];b=c.getJS();var e=c.getTarget(),c=c.getStatus();c===d.loaderstatus.LOADING||c===d.loaderstatus.NEW||(b&&!d.versionCheck(e)&&u.sendEvent(l.ERROR,{message:"Incompatible player version"}),m())})}}function e(b){w||(u.sendEvent(l.ERROR,{message:"File not found"}),b.url&&d.log("File not found",b.url),a())}var m,r=d.loaderstatus.NEW,q=!1,h=g,p=b.size(h),w=!1,u=new l.eventdispatcher;d.extend(this,u),this.setupPlugins=function(a,b,e){var g={length:0,plugins:{}},f=0,h={},k=c.getPlugins();return j(b.plugins,function(c,j){var p=d.getPluginName(c),l=k[p],r=l.getFlashPath(),m=l.getJS(),u=l.getURL();r&&(g.plugins[r]=d.extend({},j),g.plugins[r].pluginmode=l.getPluginmode(),g.length++);try{if(m&&b.plugins&&b.plugins[u]){var q=document.createElement("div");q.id=a.id+"_"+p,q.style.position="absolute",q.style.top=0,q.style.zIndex=f+10,h[p]=l.getNewInstance(a,d.extend({},b.plugins[u]),q),f++,a.onReady(e(h[p],q,!0)),a.onResize(e(h[p],q))}}catch(w){d.log("ERROR: Failed to load "+p+".")}}),a.plugins=h,g},this.load=function(){if(!d.exists(g)||"object"===d.typeOf(g)){r=d.loaderstatus.LOADING,j(g,function(b){d.exists(b)&&(b=c.addPlugin(b),b.addEventListener(l.COMPLETE,a),b.addEventListener(l.ERROR,e))});var b=c.getPlugins();j(b,function(a,b){b.load()})}a()},this.destroy=function(){w=!0,u&&(u.resetEventListeners(),u=null)},this.pluginFailed=e,this.getStatus=function(){return r}}}(jwplayer),function(f){f.parsers={localName:function(d){return d?d.localName?d.localName:d.baseName?d.baseName:"":""},textContent:function(d){return d?d.textContent?f.utils.trim(d.textContent):d.text?f.utils.trim(d.text):"":""},getChildNode:function(d,f){return d.childNodes[f]},numChildren:function(d){return d.childNodes?d.childNodes.length:0}}}(jwplayer),function(f){var d=f.parsers;(d.jwparser=function(){}).parseEntry=function(l,b){for(var j=[],c=[],g=f.utils.xmlAttribute,k=0;k<l.childNodes.length;k++){var a=l.childNodes[k];if("jwplayer"===a.prefix){var e=d.localName(a);"source"===e?(delete b.sources,j.push({file:g(a,"file"),"default":g(a,"default"),label:g(a,"label"),type:g(a,"type")})):"track"===e?(delete b.tracks,c.push({file:g(a,"file"),"default":g(a,"default"),kind:g(a,"kind"),label:g(a,"label")})):(b[e]=f.utils.serialize(d.textContent(a)),"file"===e&&b.sources&&delete b.sources)}b.file||(b.file=b.link)}if(j.length)for(b.sources=[],k=0;k<j.length;k++)0<j[k].file.length&&(j[k]["default"]="true"===j[k]["default"]?!0:!1,j[k].label.length||delete j[k].label,b.sources.push(j[k]));if(c.length)for(b.tracks=[],k=0;k<c.length;k++)0<c[k].file.length&&(c[k]["default"]="true"===c[k]["default"]?!0:!1,c[k].kind=c[k].kind.length?c[k].kind:"captions",c[k].label.length||delete c[k].label,b.tracks.push(c[k]));return b}}(jwplayer),function(f){var d=jwplayer.utils,l=d.xmlAttribute,b=f.localName,j=f.textContent,c=f.numChildren,g=f.mediaparser=function(){};g.parseGroup=function(f,a){var e,r,q=[];for(r=0;r<c(f);r++)if(e=f.childNodes[r],"media"===e.prefix&&b(e))switch(b(e).toLowerCase()){case"content":l(e,"duration")&&(a.duration=d.seconds(l(e,"duration"))),0<c(e)&&(a=g.parseGroup(e,a)),l(e,"url")&&(a.sources||(a.sources=[]),a.sources.push({file:l(e,"url"),type:l(e,"type"),width:l(e,"width"),label:l(e,"label")}));break;case"title":a.title=j(e);break;case"description":a.description=j(e);break;case"guid":a.mediaid=j(e);break;case"thumbnail":a.image||(a.image=l(e,"url"));break;case"group":g.parseGroup(e,a);break;case"subtitle":var h={};if(h.file=l(e,"url"),h.kind="captions",0<l(e,"lang").length){var p=h;e=l(e,"lang");var m={zh:"Chinese",nl:"Dutch",en:"English",fr:"French",de:"German",it:"Italian",ja:"Japanese",pt:"Portuguese",ru:"Russian",es:"Spanish"};e=m[e]?m[e]:e,p.label=e}q.push(h)}for(a.hasOwnProperty("tracks")||(a.tracks=[]),r=0;r<q.length;r++)a.tracks.push(q[r]);return a}}(jwplayer.parsers),function(f){function d(c){for(var a={},e=0;e<c.childNodes.length;e++){var d=c.childNodes[e],j=g(d);if(j)switch(j.toLowerCase()){case"enclosure":a.file=l.xmlAttribute(d,"url");break;case"title":a.title=b(d);break;case"guid":a.mediaid=b(d);break;case"pubdate":a.date=b(d);break;case"description":a.description=b(d);break;case"link":a.link=b(d);break;case"category":a.tags=a.tags?a.tags+b(d):b(d)}}return a=f.mediaparser.parseGroup(c,a),a=f.jwparser.parseEntry(c,a),new jwplayer.playlist.item(a)}var l=jwplayer.utils,b=f.textContent,j=f.getChildNode,c=f.numChildren,g=f.localName;f.rssparser={},f.rssparser.parse=function(b){for(var a=[],e=0;e<c(b);e++){var f=j(b,e);if("channel"===g(f).toLowerCase())for(var l=0;l<c(f);l++){var h=j(f,l);"item"===g(h).toLowerCase()&&a.push(d(h))}}return a}}(jwplayer.parsers),function(f){var d=f.utils,l=f._;f.playlist=function(b){var c=[];return b=l.isArray(b)?b:[b],l.each(b,function(b){c.push(new f.playlist.item(b))}),c},f.playlist.filterPlaylist=function(f,c){var g=[];return l.each(f,function(f){if(f=d.extend({},f),f.sources=b(f.sources,!1,c),f.sources.length){for(var a=0;a<f.sources.length;a++)f.sources[a].label=f.sources[a].label||a.toString();g.push(f)}}),g};var b=f.playlist.filterSources=function(b,c,g){var k,a=[],e=c?f.embed.flashCanPlay:f.embed.html5CanPlay;return b?(l.each(b,function(b){if(b&&b.file){var c=d.trim(""+b.file),f=b.type;f||(f=d.extension(c),f=d.extensionmap.extType(f)),b=d.extend({},b,{file:c,type:f})}else b=void 0;b&&e(b.file,b.type,g)&&(k=k||b.type,b.type===k&&a.push(b))}),a):void 0}}(jwplayer),function(f){var d=f.item=function(l){var c,g,b=jwplayer.utils,j=b.extend({},d.defaults,l);for(j.tracks=l&&b.exists(l.tracks)?l.tracks:[],0===j.sources.length&&(j.sources=[new f.source(j)]),c=0;c<j.sources.length;c++)g=j.sources[c]["default"],j.sources[c]["default"]=g?"true"===g.toString():!1,j.sources[c]=new f.source(j.sources[c]);if(j.captions&&!b.exists(l.tracks)){for(l=0;l<j.captions.length;l++)j.tracks.push(j.captions[l]);delete j.captions}for(c=0;c<j.tracks.length;c++)j.tracks[c]=new f.track(j.tracks[c]);return j};d.defaults={description:void 0,image:void 0,mediaid:void 0,title:void 0,sources:[],tracks:[]}}(jwplayer.playlist),function(f){var d=f.utils,l=f.events,b=f.parsers;f.playlist.loader=function(){function j(a){try{var c=a.responseXML.childNodes;a="";for(var d=0;d<c.length&&(a=c[d],!(8!==a.nodeType));d++);if("xml"===b.localName(a)&&(a=a.nextSibling),"rss"!==b.localName(a))g("Not a valid RSS feed");else{var j=new f.playlist(b.rssparser.parse(a));k.sendEvent(l.JWPLAYER_PLAYLIST_LOADED,{playlist:j})}}catch(h){g()}}function c(a){g(a.match(/invalid/i)?"Not a valid RSS feed":"")}function g(a){k.sendEvent(l.JWPLAYER_ERROR,{message:a?a:"Error loading file"})}var k=new l.eventdispatcher;d.extend(this,k),this.load=function(a){d.ajax(a,j,c)}}}(jwplayer),function(f){var d=jwplayer.utils,l={file:void 0,label:void 0,type:void 0,"default":void 0};f.source=function(b){var f=d.extend({},l);return d.foreach(l,function(c){d.exists(b[c])&&(f[c]=b[c],delete b[c])}),f.type&&0<f.type.indexOf("/")&&(f.type=d.extensionmap.mimeType(f.type)),"m3u8"===f.type&&(f.type="hls"),"smil"===f.type&&(f.type="rtmp"),f}}(jwplayer.playlist),function(f){var d=jwplayer.utils,l={file:void 0,label:void 0,kind:"captions","default":!1};f.track=function(b){var f=d.extend({},l);return b||(b={}),d.foreach(l,function(c){d.exists(b[c])&&(f[c]=b[c],delete b[c])}),f}}(jwplayer.playlist),function(f){function d(b,c,a){var e=b.style;e.backgroundColor="#000",e.color="#FFF",e.width=l.styleDimension(a.width),e.height=l.styleDimension(a.height),e.display="table",e.opacity=1,a=document.createElement("p"),e=a.style,e.verticalAlign="middle",e.textAlign="center",e.display="table-cell",e.font="15px/20px Arial, Helvetica, sans-serif",a.innerHTML=c.replace(":",":<br>"),b.innerHTML="",b.appendChild(a)}var l=f.utils,b=f.events,j=f._,c=f.embed=function(g){function k(){if(!z){var e=p.playlist;if(j.isArray(e)){if(0===e.length)return void r();if(!(1!==e.length||e[0].sources&&0!==e[0].sources.length&&e[0].sources[0].file))return void r()}if(!x)if(j.isString(e))v=new f.playlist.loader,v.addEventListener(b.JWPLAYER_PLAYLIST_LOADED,function(a){p.playlist=a.playlist,x=!1,k()}),v.addEventListener(b.JWPLAYER_ERROR,function(a){x=!1,r(a)}),x=!0,v.load(p.playlist);else if(n.getStatus()===l.loaderstatus.COMPLETE){for(e=0;e<p.modes.length;e++){var d=p.modes[e],h=d.type;if(h&&c[h]){var m=l.extend({},p);if(B=new c[h](F,d,m,n,g),B.supportsConfig())return B.addEventListener(b.ERROR,a),B.embed(),l.css("object.jwswf, .jwplayer:focus",{outline:"none"}),l.css(".jw-tab-focus:focus",{outline:"solid 2px #0B7EF4"}),g}}p.fallback?(e="No suitable players found and fallback enabled",q(e,!0),l.log(e),new c.download(F,p,r)):(e="No suitable players found and fallback disabled",q(e,!1),l.log(e))}}}function a(a){h(u+a.message)}function e(a){g.dispatchEvent(b.JWPLAYER_ERROR,{message:"Could not load plugin: "+a.message})}function r(a){h(a&&a.message?"Error loading playlist: "+a.message:u+"No playable sources found")}function q(a,c){clearTimeout(y),y=setTimeout(function(){g.dispatchEvent(b.JWPLAYER_SETUP_ERROR,{message:a,fallback:c})},0)}function h(a){z||(t.parentNode.replaceChild(F,t),p.fallback?(z=!0,d(F,a,p),q(a,!0)):q(a,!1))}var v,p=new c.config(g.config),m=p.width,w=p.height,u="Error loading player: ",t=document.getElementById(g.id),n=f.plugins.loadPlugins(g.id,p.plugins),x=!1,z=!1,B=null,y=-1;p.id=g.id,p.aspectratio?g.config.aspectratio=p.aspectratio:delete g.config.aspectratio;var E=g;l.foreach(p.events,function(a,b){var c=E[a];"function"==typeof c&&c.call(E,b)});var F=document.createElement("div");return F.id=t.id,F.style.width=0<m.toString().indexOf("%")?m:m+"px",F.style.height=0<w.toString().indexOf("%")?w:w+"px",this.embed=function(){z||(n.addEventListener(b.COMPLETE,k),n.addEventListener(b.ERROR,e),n.load())},this.destroy=function(){B&&(B.destroy(),B=null),n&&(n.destroy(),n=null),v&&(v.resetEventListeners(),v=null)},this.errorScreen=h,this};f.embed.errorScreen=d}(jwplayer),function(f){function d(c){if(c.playlist)for(var d=0;d<c.playlist.length;d++)c.playlist[d]=new j(c.playlist[d]);else{var f={};b.foreach(j.defaults,function(a){l(c,f,a)}),f.sources||(c.levels?(f.sources=c.levels,delete c.levels):(d={},l(c,d,"file"),l(c,d,"type"),f.sources=d.file?[d]:[])),c.playlist=[new j(f)]}}function l(c,d,f){b.exists(c[f])&&(d[f]=c[f],delete c[f])}var b=f.utils,j=f.playlist.item;(f.embed.config=function(c){var g={fallback:!0,height:270,primary:"html5",width:480,base:c.base?c.base:b.getScriptPath("jwplayer.js"),aspectratio:""};c=b.extend({},g,f.defaults,c);var g={type:"html5",src:c.base+"jwplayer.html5.js"},k={type:"flash",src:c.base+"jwplayer.flash.swf"};if(c.modes="flash"===c.primary?[k,g]:[g,k],c.listbar&&(c.playlistsize=c.listbar.size,c.playlistposition=c.listbar.position,c.playlistlayout=c.listbar.layout),c.flashplayer&&(k.src=c.flashplayer),c.html5player&&(g.src=c.html5player),d(c),k=c.aspectratio,"string"==typeof k&&b.exists(k)){var a=k.indexOf(":");-1===a?g=0:(g=parseFloat(k.substr(0,a)),k=parseFloat(k.substr(a+1)),g=0>=g||0>=k?0:100*(k/g)+"%")}else g=0;return-1===c.width.toString().indexOf("%")?delete c.aspectratio:g?c.aspectratio=g:delete c.aspectratio,c}).addConfig=function(c,f){return d(f),b.extend(c,f)}}(jwplayer),function(f){function d(b,d){function c(a,b){f[k].style[a]=b}for(var f=document.querySelectorAll(b),k=0;k<f.length;k++)l.foreach(d,c)}var l=f.utils;f.embed.download=function(b,f,c){function g(a,b,c){return a=document.createElement(a),b&&(a.className="jwdownload"+b),c&&c.appendChild(a),a}var a,q,k=l.extend({},f),e=k.width?k.width:480,r=k.height?k.height:320;f=f.logo?f.logo:{prefix:l.repo(),file:"logo.png",margin:10};var h,p,m,w,u,t;if(p=k.playlist,k=["mp4","aac","mp3"],p&&p.length){for(m=p[0],w=m.sources,p=0;p<w.length;p++)u=w[p],u.file&&(t=u.type||l.extensionmap.extType(l.extension(u.file)),0<=l.indexOf(k,t)?(a=u.file,q=m.image):l.isYouTube(u.file,t)&&(h=u.file));a?(c=a,b&&(a=g("a","display",b),g("div","icon",a),g("div","logo",a),c&&a.setAttribute("href",l.getAbsolutePath(c))),c="#"+b.id+" .jwdownload",b.style.width="",b.style.height="",d(c+"display",{width:l.styleDimension(Math.max(320,e)),height:l.styleDimension(Math.max(180,r)),background:"black center no-repeat "+(q?"url("+q+")":""),backgroundSize:"contain",position:"relative",border:"none",display:"block"}),d(c+"display div",{position:"absolute",width:"100%",height:"100%"}),d(c+"logo",{top:f.margin+"px",right:f.margin+"px",background:"top right no-repeat url("+f.prefix+f.file+")"}),d(c+"icon",{background:"center no-repeat url(data:image/png;base64,iVBORw0KGgoAAAANSUhEUgAAADwAAAA8CAYAAAA6/NlyAAAAGXRFWHRTb2Z0d2FyZQBBZG9iZSBJbWFnZVJlYWR5ccllPAAAAgNJREFUeNrs28lqwkAYB/CZqNVDDj2r6FN41QeIy8Fe+gj6BL275Q08u9FbT8ZdwVfotSBYEPUkxFOoks4EKiJdaDuTjMn3wWBO0V/+sySR8SNSqVRKIR8qaXHkzlqS9jCfzzWcTCYp9hF5o+59sVjsiRzcegSckFzcjT+ruN80TeSlAjCAAXzdJSGPFXRpAAMYwACGZQkSdhG4WCzehMNhqV6vG6vVSrirKVEw66YoSqDb7cqlUilE8JjHd/y1MQefVzqdDmiaJpfLZWHgXMHn8F6vJ1cqlVAkEsGuAn83J4gAd2RZymQygX6/L1erVQt+9ZPWb+CDwcCC2zXGJaewl/DhcHhK3DVj+KfKZrMWvFarcYNLomAv4aPRSFZVlTlcSPA5fDweW/BoNIqFnKV53JvncjkLns/n/cLdS+92O7RYLLgsKfv9/t8XlDn4eDyiw+HA9Jyz2eyt0+kY2+3WFC5hluej0Ha7zQQq9PPwdDq1Et1sNsx/nFBgCqWJ8oAK1aUptNVqcYWewE4nahfU0YQnk4ntUEfGMIU2m01HoLaCKbTRaDgKtaVLk9tBYaBcE/6Artdr4RZ5TB6/dC+9iIe/WgAMYADDpAUJAxjAAAYwgGFZgoS/AtNNTF7Z2bL0BYPBV3Jw5xFwwWcYxgtBP5OkE8i9G7aWGOOCruvauwADALMLMEbKf4SdAAAAAElFTkSuQmCC)"})):h?(f=h,b=g("iframe","",b),b.src="http://www.youtube.com/embed/"+l.youTubeID(f),b.width=e,b.height=r,b.style.border="none"):c()}}}(jwplayer),function(f){var d=f.utils,l=f.events,b={};(f.embed.flash=function(c,g,k,a,e){function r(a,b,c){var e=document.createElement("param");e.setAttribute("name",b),e.setAttribute("value",c),a.appendChild(e)}function q(a,b,c){return function(){try{c&&document.getElementById(e.id+"_wrapper").appendChild(b);var d=document.getElementById(e.id).getPluginConfig("display");"function"==typeof a.resize&&a.resize(d.width,d.height),b.style.left=d.x,b.style.top=d.h}catch(f){}}}function h(a){if(!a)return{};var b={},c=[];return d.foreach(a,function(a,e){var f=d.getPluginName(a);c.push(a),d.foreach(e,function(a,c){b[f+"."+a]=c})}),b.plugins=c.join(","),b}var p=new f.events.eventdispatcher,m=d.flashVersion();d.extend(this,p),this.embed=function(){if(k.id=e.id,10>m)return p.sendEvent(l.ERROR,{message:"Flash version must be 10.0 or greater"}),!1;var f,j,t=c.id,n=e.config.listbar,v=d.extend({},k);if(f=document.getElementById(e.id),f.parentNode.replaceChild(c,f),t+"_wrapper"===c.parentNode.id)f=document.getElementById(t+"_wrapper");else{if(f=document.createElement("div"),j=document.createElement("div"),j.style.display="none",j.id=t+"_aspect",f.id=t+"_wrapper",f.style.position="relative",f.style.display="block",f.style.width=d.styleDimension(v.width),f.style.height=d.styleDimension(v.height),e.config.aspectratio){var x=parseFloat(e.config.aspectratio);j.style.display="block",j.style.marginTop=e.config.aspectratio,f.style.height="auto",f.style.display="inline-block",n&&("bottom"===n.position?j.style.paddingBottom=n.size+"px":"right"===n.position&&(j.style.marginBottom=-1*n.size*(x/100)+"px"))}c.parentNode.replaceChild(f,c),f.appendChild(c),f.appendChild(j)}for(n=a.setupPlugins(e,v,q),0<n.length?d.extend(v,h(n.plugins)):delete v.plugins,"undefined"!=typeof v["dock.position"]&&"false"===v["dock.position"].toString().toLowerCase()&&(v.dock=v["dock.position"],delete v["dock.position"]),n=v.wmode||(v.height&&40>=v.height?"transparent":"opaque"),j="height width modes events primary base fallback volume".split(" "),x=0;x<j.length;x++)delete v[j[x]];j=d.getCookies(),d.foreach(j,function(a,b){"undefined"==typeof v[a]&&(v[a]=b)}),j=window.location.href.split("/"),j.splice(j.length-1,1),j=j.join("/"),v.base=j+"/",b[t]=v,d.isMSIE()?(c.outerHTML='<object classid="clsid:D27CDB6E-AE6D-11cf-96B8-444553540000" width="100%" height="100%" id="'+t+'" name="'+t+'" tabindex="0"><param name="movie" value="'+g.src+'"><param name="allowfullscreen" value="true"><param name="allowscriptaccess" value="always"><param name="seamlesstabbing" value="true"><param name="wmode" value="'+n+'"><param name="bgcolor" value="#000000"></object>',f=f.getElementsByTagName("object")[0],f.style.outline="none"):(f=document.createElement("object"),f.setAttribute("type","application/x-shockwave-flash"),f.setAttribute("data",g.src),f.setAttribute("width","100%"),f.setAttribute("height","100%"),f.setAttribute("bgcolor","#000000"),f.setAttribute("id",t),f.setAttribute("name",t),f.className="jwswf",r(f,"allowfullscreen","true"),r(f,"allowscriptaccess","always"),r(f,"seamlesstabbing","true"),r(f,"wmode",n),c.parentNode.replaceChild(f,c)),e.config.aspectratio&&(f.style.position="absolute",f.style.left="0"),e.container=f,e.setPlayer(f,"flash")},this.supportsConfig=function(){if(m){if(!k)return!0;if("string"===d.typeOf(k.playlist))return!0;try{var a=k.playlist[0].sources;if("undefined"==typeof a)return!0;for(var b=0;b<a.length;b++)if(a[b].file&&j(a[b].file,a[b].type))return!0}catch(c){}}return!1},this.destroy=function(){}}).getVars=function(c){return b[c]};var j=f.embed.flashCanPlay=function(b,f){if(d.isYouTube(b,f)||d.isRtmp(b,f)||"hls"===f)return!0;var k=d.extensionmap[f?f:d.extension(b)];return k?!!k.flash:!1}}(jwplayer),function(f){var j,d=f.utils,l=d.extensionmap,b=f.events;f.embed.html5=function(c,g,k,a,e){function l(a,b,e){return function(){try{var d=document.querySelector("#"+c.id+" .jwmain");e&&d.appendChild(b),"function"==typeof a.resize&&(a.resize(d.clientWidth,d.clientHeight),setTimeout(function(){a.resize(d.clientWidth,d.clientHeight)},400)),b.left=d.style.left,b.top=d.style.top}catch(f){}}}var q=new b.eventdispatcher;d.extend(this,q),this.embed=function(){if(f.html5){a.setupPlugins(e,k,l),d.emptyElement(c);var b=f.utils.extend({},k);delete b.volume,b=new f.html5.player(b),e.setPlayer(b,"html5")}else this.loadEmbedder()},this.loadEmbedder=function(){j=j||new d.scriptloader(g.src),j.addEventListener(b.ERROR,this.loadError),j.addEventListener(b.COMPLETE,this.embed),j.load()},this.loadError=function(a){this.sendEvent(a.type,{message:"HTML5 player not found"})},this.supportsConfig=function(){if(f.vid.canPlayType)try{if("string"===d.typeOf(k.playlist))return!0;for(var a=k.playlist[0].sources,b=0;b<a.length;b++)if(f.embed.html5CanPlay(a[b].file,a[b].type,k.androidhls))return!0}catch(c){}return!1},this.destroy=function(){j&&(j.resetEventListeners(),j=null)}},f.embed.html5CanPlay=function(b,g,k){if(null!==navigator.userAgent.match(/BlackBerry/i)||d.isIE(9))return!1;if(d.isYouTube(b,g))return!0;var a=d.extension(b);if(g=g||l.extType(a),"hls"===g)if(k){if(k=d.isAndroidNative,k(2)||k(3)||k("4.0"))return!1;if(d.isAndroid())return!0}else if(d.isAndroid())return!1;if(d.isRtmp(b,g))return!1;if(b=l[g]||l[a],!b||b.flash&&!b.html5)return!1;var e;a:if(b=b.html5){try{e=!!f.vid.canPlayType(b);break a}catch(j){}e=!1}else e=!0;return e}}(jwplayer),function(f){var d=f.embed,l=f.embed.html5CanPlay,b=f.utils,j=f._,c=/\.(js|swf)$/;f.cast=f.cast||{},f.embed=b.extend(function(g){function k(){v="Adobe SiteCatalyst Error: Could not find Media Module"}var v,a=b.repo(),e=b.extend({},f.defaults),j=b.extend({},e,g.config),l=g.config,h=j.plugins,p=j.analytics,m=a+"jwpsrv.js",w=a+"sharing.js",u=a+"related.js",t=a+"gapro.js",e=f.key?f.key:e.key,n=new f.utils.key(e).edition(),h=h?h:{};switch("ads"==n&&j.advertising&&(c.test(j.advertising.client)?h[j.advertising.client]=j.advertising:h[a+j.advertising.client+".js"]=j.advertising),delete l.advertising,l.key=e,j.analytics&&c.test(j.analytics.client)&&(m=j.analytics.client),delete l.analytics,p&&!("ads"===n||"enterprise"===n)&&delete p.enabled,"free"!=n&&p&&!1===p.enabled||(h[m]=p?p:{}),delete h.sharing,delete h.related,n){case"ads":case"enterprise":if(l.sitecatalyst)try{window.s&&window.s.hasOwnProperty("Media")?new f.embed.sitecatalyst(g):k()}catch(x){k()}case"premium":j.related&&(c.test(j.related.client)&&(u=j.related.client),h[u]=j.related),j.ga&&(c.test(j.ga.client)&&(t=j.ga.client),h[t]=j.ga);case"pro":j.sharing&&(c.test(j.sharing.client)&&(w=j.sharing.client),h[w]=j.sharing),j.skin&&(l.skin=j.skin.replace(/^(beelden|bekle|five|glow|modieus|roundster|stormtrooper|vapor)$/i,b.repo()+"skins/$1.xml"))
}return l.plugins=h,g.config=l,g=new d(g),v&&g.errorScreen(v),g},f.embed),f.embed.html5CanPlay=function(b,c){var a,d={file:b,type:c};return a=f.html5&&f.html5.chooseProvider?f.html5.chooseProvider(d)!==f.html5.VideoProvider:j.any(f.unregisteredProviders,function(a){return a.supports(d)}),a?!0:l.apply(this,arguments)}}(jwplayer),function(f){var d=jwplayer.utils;f.sitecatalyst=function(f){function b(b){a.debug&&d.log(b)}function j(a){return a=a.split("/"),a=a[a.length-1],a=a.split("?"),a[0]}function c(){if(!p){p=!0;var a=k.getPosition();b("stop: "+r+" : "+a),s.Media.stop(r,a)}}function g(){m||(c(),m=!0,b("close: "+r),s.Media.close(r),w=!0,h=0)}var r,q,h,w,k=f,a=d.extend({},k.config.sitecatalyst),e={onPlay:function(){if(!w){var a=k.getPosition();p=!1,b("play: "+r+" : "+a),s.Media.play(r,a)}},onPause:c,onBuffer:c,onIdle:g,onPlaylistItem:function(b){try{w=!0,g(),h=0;var c;if(a.mediaName)c=a.mediaName;else{var e=k.getPlaylistItem(b.index);c=e.title?e.title:e.file?j(e.file):e.sources&&e.sources.length?j(e.sources[0].file):""}r=c,q=a.playerName?a.playerName:k.id}catch(f){d.log(f)}},onTime:function(){if(w){var a=k.getDuration();if(-1==a)return;m=p=w=!1,b("open: "+r+" : "+a+" : "+q),s.Media.open(r,a,q),b("play: "+r+" : 0"),s.Media.play(r,0)}if(a=k.getPosition(),3<=Math.abs(a-h)){var c=h;b("seek: "+c+" to "+a),b("stop: "+r+" : "+c),s.Media.stop(r,c),b("play: "+r+" : "+a),s.Media.play(r,a)}h=a},onComplete:g},p=!0,m=!0;d.foreach(e,function(a){k[a](e[a])})}}(jwplayer.embed),function(f){function d(b,d){b[d]&&(b[d]=l.getAbsolutePath(b[d]))}var l=f.utils,b=f._,j=window.location.href;f.cast.setupCastConfig=function(b,g){var k=l.extend({},b.config);k.cast=l.extend({pageUrl:j},g);for(var a="base autostart controls fallback fullscreen width height mobilecontrols modes playlistlayout playlistposition playlistsize primary stretching sharing related ga skin logo listbar events".split(" "),e=a.length;e--;)delete k[a[e]];a=k.plugins,delete k.plugins;for(var r in a)if(a.hasOwnProperty(r)){var q=a[r];if(q.client&&(/[\.\/]/.test(q.client)&&d(q,"client"),-1<q.client.indexOf("vast"))){if(e=k,q=l.extend({},q),q.client="vast",delete q.companiondiv,q.schedule){var h=void 0;for(h in q.schedule)q.schedule.hasOwnProperty(h)&&d(q.schedule[h].ad||q.schedule[h],"tag")}d(q,"tag"),e.advertising=q}}return b.position&&(k.position=b.position),0<b.item&&(k.item=b.item),k.captionLabel=l.getCookies().captionLabel,k.playerVersion=f.version,k},f.cast.setupFlashCastConfig=function(c){var d=c.config;d.playlist=c.getPlaylist();var j;return(j=b.find(d.plugins,function(a,b){return 0<b.indexOf("vast.js")}))?(j.client="vast",j={advertising:j}):j={},d=b.pick(d,"id captionLabel cast key playlist repeat".split(" ")),d.cast.pageUrl=window.location.href,l.extend(d,{playerVersion:f.version,captionLabel:l.getCookies().captionLabel,volume:c.getVolume(),mute:c.getMute(),id:c.id,position:c.getPosition(),item:c.getPlaylistIndex()},j),d}}(window.jwplayer),function(f,d){function l(a,b){a[b]&&(a[b]=j.getAbsolutePath(a[b]))}var b=d.cast,j=d.utils,c=d.events,g=c.state,k={};b.NS="urn:x-cast:com.longtailvideo.jwplayer",b.debug=!1,b.availability=null,b.available=function(a){a=a||b.availability;var c=f.chrome,d="available";return c.cast&&c.cast.ReceiverAvailability&&(d=c.cast.ReceiverAvailability.AVAILABLE),a===d},b.controller=function(a,e){function h(a,c){b.log("send command",a,c);var d={command:a};void 0!==c&&(d.args=c),A.sendMessage(b.NS,d,N,function(a){b.log("error message",a),"Invalid namespace"===a.description&&x()})}function p(a){a=!!b.available(a.availability),M.available!==a&&(M.available=a,t(c.JWPLAYER_CAST_AVAILABLE))}function m(a){b.log("existing session",a),!A&&!H&&(H=a.session,H.addMessageListener(b.NS,w))}function w(f,g){var h=JSON.parse(g);if(!h)throw"Message not proper JSON";if(h.reconcile){H.removeMessageListener(b.NS,w);var j=h.diff,k=H;j.id&&h.appid&&h.pageUrl||(j.id=d().id,h.appid=G.appid,h.pageUrl=T,H=A=null),j.id===a.id&&h.appid===G.appid&&h.pageUrl===T&&(A||(a.jwInstreamState()&&a.jwInstreamDestroy(!0),B(k),e.sendEvent(c.JWPLAYER_PLAYER_STATE,{oldstate:j.oldstate,newstate:j.newstate})),P(h)),H=null}}function u(a){M.active=!!a,a=M;var b;b=A&&A.receiver?A.receiver.friendlyName:"",a.deviceName=b,t(c.JWPLAYER_CAST_SESSION,{})}function t(a){var b=j.extend({},M);e.sendEvent(a,b)}function n(a){var c=f.chrome;a.code!==c.cast.ErrorCode.CANCEL&&(b.log("Cast Session Error:",a,A),a.code===c.cast.ErrorCode.SESSION_ERROR&&x())}function v(a){var c=f.chrome;a.code!==c.cast.ErrorCode.CANCEL&&(b.log("Cast Session Error:",a,A),a.code===c.cast.ErrorCode.SESSION_ERROR&&x())}function x(){A?(F(),A.stop(E,z),Q({item:0}),P({type:"state",diff:{buffer:0,position:0,duration:0}})):E()}function z(a){b.error("Cast Session Stop error:",a,A),E()}function B(k){if(b.log("Session started:",k),A)x(),O=k;else{A=k,A.addMessageListener(b.NS,J),A.addUpdateListener(y),a.jwPause(!0),a.jwSetFullscreen(!1),L=e.getVideo(),r=e.volume,q=e.mute,D=new b.provider(h),D.init(),e.setVideoProvider(D),a.jwPlay=function(a){!1===a?D.pause():D.play()},a.jwPause=function(b){a.jwPlay(!!b)},a.jwLoad=function(a){"number"===j.typeOf(a)&&e.setItem(a),D.load(a)},a.jwPlaylistItem=function(a){"number"===j.typeOf(a)&&e.setItem(a),D.playlistItem(a)},a.jwPlaylistNext=function(){a.jwPlaylistItem(e.item+1)},a.jwPlaylistPrev=function(){a.jwPlaylistItem(e.item-1)},a.jwSetVolume=function(a){j.exists(a)&&(a=0|Math.min(Math.max(0,a),100),R(a)&&(a=Math.max(0,Math.min(a/100,1)),A.setReceiverVolumeLevel(a,K,function(a){b.error("set volume error",a),K()})))},a.jwSetMute=function(a){j.exists(a)||(a=!I.mute),S(a)&&A.setReceiverMuted(!!a,K,function(a){b.error("set muted error",a),K()})},a.jwGetVolume=function(){return 0|I.volume},a.jwGetMute=function(){return!!I.mute},a.jwIsBeforePlay=function(){return!1};var p=a.jwSetCurrentCaptions;a.jwSetCurrentCaptions=function(a){p(a),D.sendCommand("caption",a)},a.jwSkipAd=function(a){C&&(C.skipAd(a),a=C.getAdModel(),a.complete=!0,e.sendEvent(c.JWPLAYER_CAST_AD_CHANGED,a))},a.jwClickAd=function(b){if(C&&300<C.timeSinceClick()&&(C.clickAd(b),e.state!==g.PAUSED)){var h={tag:b.tag};b.sequence&&(h.sequence=b.sequence),b.podcount&&(h.podcount=b.podcount),d(a.id).dispatchEvent(c.JWPLAYER_AD_CLICK,h),f.open(b.clickthrough)}},a.jwPlayAd=a.jwPauseAd=a.jwSetControls=a.jwForceState=a.jwReleaseState=a.jwSetFullscreen=a.jwDetachMedia=a.jwAttachMedia=N;var l=d(a.id).plugins;l.vast&&l.vast.jwPauseAd!==N&&(U={jwPlayAd:l.vast.jwPlayAd,jwPauseAd:l.vast.jwPauseAd},l.vast.jwPlayAd=l.vast.jwPauseAd=N),K(),u(!0),k!==H&&(D.setup(d.cast.setupCastConfig(e,G),e),d.cast.loader.sendDummyMedia(k))}}function y(a){b.log("Cast Session status",a),a?K():(D.sendEvent(c.JWPLAYER_PLAYER_STATE,{oldstate:e.state,newstate:g.BUFFERING}),E())}function E(){if(b.log("_sessionStopped"),A&&(F(),A=null),L){delete a.jwSkipAd,delete a.jwClickAd,a.initializeAPI();var f=d(a.id).plugins;f.vast&&j.extend(f.vast,U),e.volume=r,e.mute=q,e.setVideoProvider(L),e.duration=0,D&&(D.destroy(),D=null),C&&(C.destroy(),C=null),e.state!==g.IDLE?j.isIPad()||j.isIPod()?(a.jwStop(!0),L.sendEvent(c.JWPLAYER_PLAYER_STATE,{oldstate:g.BUFFERING,newstate:g.IDLE})):(e.state=g.IDLE,a.jwPlay(!0),a.jwSeek(e.position)):L.sendEvent(c.JWPLAYER_PLAYER_STATE,{oldstate:g.BUFFERING,newstate:g.IDLE}),L=null}u(!1),null!==O&&(B(O),O=null)}function F(){A.removeUpdateListener(y),A.removeMessageListener(b.NS,J)}function J(a,b){var c=JSON.parse(b);if(!c)throw"Message not proper JSON";P(c)}function P(d){if("state"===d.type)C&&(d.diff.newstate||d.diff.position)&&(C.destroy(),C=null,e.setVideoProvider(D),e.sendEvent(c.JWPLAYER_CAST_AD_CHANGED,{done:!0})),D.updateModel(d.diff,d.type),Q(d.diff);else if("ad"===d.type){null===C&&(C=new b.adprovider(b.NS,A),C.init(),e.setVideoProvider(C)),C.updateModel(d.diff,d.type);var f=C.getAdModel();d.diff.clickthrough&&(f.onClick=a.jwClickAd),d.diff.skipoffset&&(f.onSkipAd=a.jwSkipAd),e.sendEvent(c.JWPLAYER_CAST_AD_CHANGED,f),d.diff.complete&&C.resetAdModel()}else"connection"===d.type?!0===d.closed&&x():b.error("received unhandled message",d.type,d)}function Q(a){void 0!==a.item&&e.item!==a.item&&(e.item=a.item,e.sendEvent(c.JWPLAYER_PLAYLIST_ITEM,{index:e.item}))}function K(){if(A&&A.receiver){var a=A.receiver.volume;if(a){var b=100*a.level|0;S(!!a.muted),R(b)}}}function R(a){var b=I.volume!==a;return b&&(I.volume=a,D.sendEvent(c.JWPLAYER_MEDIA_VOLUME,{volume:a})),b}function S(a){var b=I.mute!==a;return b&&(I.mute=a,D.sendEvent(c.JWPLAYER_MEDIA_MUTE,{mute:a})),b}function N(){}var r,q,G,A=null,M={available:!1,active:!1,deviceName:""},I={volume:null,mute:null},T=j.getAbsolutePath(f.location.href),D=null,C=null,L=null;r=e.volume,q=e.mute;var H=null,O=null,U=null;G=j.extend({},k,e.cast),l(G,"loadscreen"),l(G,"endscreen"),l(G,"logo"),!G.appid||f.cast&&f.cast.receiver||(b.loader.addEventListener("availability",p),b.loader.addEventListener("session",m),b.loader.initialize(G.appid)),this.startCasting=function(){A||a.jwInstreamState()||f.chrome.cast.requestSession(B,n)},this.stopCasting=x,this.openExtension=function(){a.jwInstreamState()||f.chrome.cast.requestSession(B,v)}},b.log=function(){if(b.debug){var a=Array.prototype.slice.call(arguments,0);console.log.apply(console,a)}},b.error=function(){var a=Array.prototype.slice.call(arguments,0);console.error.apply(console,a)}}(window,jwplayer),function(f){function d(a){h.log("existing session",a),!y&&!x&&(x=a.session,x.addMessageListener(h.NS,l))}function l(a,b){var c=JSON.parse(b),d=x;if(!c)throw"Message not proper JSON";c.reconcile&&(x.removeMessageListener(h.NS,l),c.receiverFriendlyName=x.receiver.friendlyName,c.pageUrl&&c.diff.id&&c.appid||(c.pageUrl=B,c.diff.id=f().id,c.appid=v,x=y=null),t[c.diff.id]&&v===c.appid&&c.pageUrl===B&&(u=c.diff.id,v=c.appid,r(u,"jwInstreamDestroy"),g(d),r(u,n.message,c),x=null))}function b(){y&&(y.removeUpdateListener(e),y.removeMessageListener(h.NS,k),y.stop(j.bind(this),a.bind(this)),y=null),r(u,n.cleanup)}function j(){"undefined"!=typeof z&&null!==z&&(g(z),z=null)}function c(a,b){y.sendMessage(h.NS,{command:a,args:b},p.noop,function(a){h.error("message send error",a)})}function g(a){var d=f(u);y?(b(),z=a):(y=a,y.addMessageListener(h.NS,k),y.addUpdateListener(e),d=f.cast.setupFlashCastConfig(d),x!==y&&(c("setup",d),f.cast.loader.sendDummyMedia(y)),r(u,n.connected,{receiverFriendlyName:a.receiver.friendlyName}))}function k(a,b){if(b){var c=JSON.parse(b);if(!c)throw"Message not proper JSON";r(u,n.message,c)}}function a(a){r(u,n.error,a||{})}function e(a){a?q():b()}function r(a,b,c){c?f(a).callInternal(b,c):f(a).callInternal(b)}function q(){if(y&&y.receiver){var a=y.receiver.volume;if(a){var b=100*a.level|0,a=!!a.muted;f(u).setVolume(b).setMute(a)}}}var u,v,x,z,y,h=f.cast,p=f.utils,m=f._,w=window.chrome||{},t={},n={},B=p.getAbsolutePath(window.location.href);h.NS="urn:x-cast:com.longtailvideo.jwplayer",h.flash={checkAvailability:function(a,b,c){n=c,v=b,t[a]=!0,h.loader.addEventListener("availability",function(b){"available"===b.availability&&r(a,n.available,b)}),h.loader.addEventListener("session",d),h.loader.initialize(b)},startCasting:function(b){u=b,w.cast.requestSession(g.bind(this),a.bind(this))},stopCasting:b,openExtension:function(b){u=b,w.cast.requestSession(g.bind(this),a.bind(this))},mute:function(a){y.setReceiverMuted(a,q,function(a){h.error("set muted error",a)})},volume:function(a){a=Math.max(0,Math.min(a/100,1)),y.setReceiverVolumeLevel(a,q,function(a){h.error("set volume error",a)})},messageReceiver:c,canCastItem:function(a){return m.any(a.levels,function(a){return f.embed.html5CanPlay(a.file,a.type)||"hls"===a.type})}}}(window.jwplayer),function(f,d){function l(a){var b=new d.cast.media.MediaInfo("");b.contentType="video/mp4",b=new d.cast.media.LoadRequest(b),b.autoplay=!1,a.loadMedia(b)}function b(){d&&d.cast&&d.cast.isAvailable&&!e.apiConfig?(e.apiConfig=new d.cast.ApiConfig(new d.cast.SessionRequest(m),k,a,d.cast.AutoJoinPolicy.ORIGIN_SCOPED),d.cast.initialize(e.apiConfig,g,c)):15>p++&&setTimeout(b,1e3)}function j(){h&&(h.resetEventListeners(),h=null)}function c(){e.apiConfig=null}function g(){}function k(a){w.sendEvent("session",{session:a}),a.sendMessage(e.NS,{whoami:1}),0===a.media.length&&l(a)}function a(a){e.availability=a,w.sendEvent("availability",{availability:a})}window.chrome=d;var h,e=f.cast,r=f.utils,q=f.events,p=0,m=null,w=r.extend({initialize:function(a){m=a,null!==e.availability?w.sendEvent("availability",{availability:e.availability}):d&&d.cast?b():h||(h=new r.scriptloader("https://www.gstatic.com/cv/js/sender/v1/cast_sender.js"),h.addEventListener(q.ERROR,j),h.addEventListener(q.COMPLETE,b),h.load())}},new q.eventdispatcher("cast.loader"));f.cast.loader=w,f.cast.loader.sendDummyMedia=l}(window.jwplayer,window.chrome||{}),function(f,d){var l=[],b=f.utils,j=f.events,c=f._,g=0,k=j.state,a="getBuffer getCaptionsList getControls getCurrentCaptions getCurrentQuality getCurrentAudioTrack getDuration getFullscreen getHeight getLockState getMute getPlaylistIndex getSafeRegion getPosition getQualityLevels getState getVolume getWidth isBeforeComplete isBeforePlay releaseState".split(" "),e="playlistNext stop forceState playlistPrev seek setCurrentCaptions setControls setCurrentQuality setVolume setCurrentAudioTrack".split(" "),r={onBufferChange:j.JWPLAYER_MEDIA_BUFFER,onBufferFull:j.JWPLAYER_MEDIA_BUFFER_FULL,onError:j.JWPLAYER_ERROR,onSetupError:j.JWPLAYER_SETUP_ERROR,onFullscreen:j.JWPLAYER_FULLSCREEN,onMeta:j.JWPLAYER_MEDIA_META,onMute:j.JWPLAYER_MEDIA_MUTE,onPlaylist:j.JWPLAYER_PLAYLIST_LOADED,onPlaylistItem:j.JWPLAYER_PLAYLIST_ITEM,onPlaylistComplete:j.JWPLAYER_PLAYLIST_COMPLETE,onReady:j.API_READY,onResize:j.JWPLAYER_RESIZE,onComplete:j.JWPLAYER_MEDIA_COMPLETE,onSeek:j.JWPLAYER_MEDIA_SEEK,onTime:j.JWPLAYER_MEDIA_TIME,onVolume:j.JWPLAYER_MEDIA_VOLUME,onBeforePlay:j.JWPLAYER_MEDIA_BEFOREPLAY,onBeforeComplete:j.JWPLAYER_MEDIA_BEFORECOMPLETE,onDisplayClick:j.JWPLAYER_DISPLAY_CLICK,onControls:j.JWPLAYER_CONTROLS,onQualityLevels:j.JWPLAYER_MEDIA_LEVELS,onQualityChange:j.JWPLAYER_MEDIA_LEVEL_CHANGED,onCaptionsList:j.JWPLAYER_CAPTIONS_LIST,onCaptionsChange:j.JWPLAYER_CAPTIONS_CHANGED,onAdError:j.JWPLAYER_AD_ERROR,onAdClick:j.JWPLAYER_AD_CLICK,onAdImpression:j.JWPLAYER_AD_IMPRESSION,onAdTime:j.JWPLAYER_AD_TIME,onAdComplete:j.JWPLAYER_AD_COMPLETE,onAdCompanions:j.JWPLAYER_AD_COMPANIONS,onAdSkipped:j.JWPLAYER_AD_SKIPPED,onAdPlay:j.JWPLAYER_AD_PLAY,onAdPause:j.JWPLAYER_AD_PAUSE,onAdMeta:j.JWPLAYER_AD_META,onCast:j.JWPLAYER_CAST_SESSION,onAudioTrackChange:j.JWPLAYER_AUDIO_TRACK_CHANGED,onAudioTracks:j.JWPLAYER_AUDIO_TRACKS},q={onBuffer:k.BUFFERING,onPause:k.PAUSED,onPlay:k.PLAYING,onIdle:k.IDLE};f.api=function(h){function g(a,c){b.foreach(a,function(a,b){n[a]=function(a){return c(b,a)}})}function m(a,b){var c="jw"+b.charAt(0).toUpperCase()+b.slice(1);n[b]=function(){var b=t.apply(this,[c].concat(Array.prototype.slice.call(arguments,0)));return a?n:b}}function w(a,c){try{a.jwAddEventListener(c,'function(dat) { jwplayer("'+n.id+'").dispatchEvent("'+c+'", dat); }')}catch(d){if("flash"===n.renderingMode){var e=document.createElement("a");e.href=z.data,e.protocol!==location.protocol&&b.log("Warning: Your site ["+location.protocol+"] and JWPlayer ["+e.protocol+"] are hosted using different protocols")}b.log("Could not add internal listener")}}function u(a,b){return v[a]||(v[a]=[],z&&B&&w(z,a)),v[a].push(b),n}function t(){if(B){if(z){var a=Array.prototype.slice.call(arguments,0),b=a.shift();if("function"==typeof z[b]){switch(a.length){case 6:return z[b](a[0],a[1],a[2],a[3],a[4],a[5]);case 5:return z[b](a[0],a[1],a[2],a[3],a[4]);case 4:return z[b](a[0],a[1],a[2],a[3]);case 3:return z[b](a[0],a[1],a[2]);case 2:return z[b](a[0],a[1]);case 1:return z[b](a[0])}return z[b]()}}return null}y.push(arguments)}var z,E,n=this,v={},x={},B=!1,y=[],F={},J={};return n.container=h,n.id=h.id,n.setup=function(a){if(f.embed){f.api.destroyPlayer(n.id);var b=new f.api(n.container);return f.api.addPlayer(b),b.config=a,b._embedder=new f.embed(b),b._embedder.embed(),b}return n},n.getContainer=function(){return n.container},n.addButton=function(a,c,d,e){try{J[e]=d,t("jwDockAddButton",a,c,'jwplayer("'+n.id+'").callback("'+e+'")',e)}catch(f){b.log("Could not add dock button"+f.message)}},n.removeButton=function(a){t("jwDockRemoveButton",a)},n.callback=function(a){J[a]&&J[a]()},n.getMeta=function(){return n.getItemMeta()},n.getPlaylist=function(){var a=t("jwGetPlaylist");return"flash"===n.renderingMode&&b.deepReplaceKeyName(a,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),a},n.getPlaylistItem=function(a){return b.exists(a)||(a=n.getPlaylistIndex()),n.getPlaylist()[a]},n.getRenderingMode=function(){return n.renderingMode},n.setFullscreen=function(a){return b.exists(a)?t("jwSetFullscreen",a):t("jwSetFullscreen",!t("jwGetFullscreen")),n},n.setMute=function(a){return b.exists(a)?t("jwSetMute",a):t("jwSetMute",!t("jwGetMute")),n},n.lock=function(){return n},n.unlock=function(){return n},n.load=function(a){return t("jwInstreamDestroy"),f(n.id).plugins.googima&&t("jwDestroyGoogima"),t("jwLoad",a),n},n.playlistItem=function(a){return t("jwPlaylistItem",parseInt(a,10)),n},n.resize=function(a,c){if("flash"!==n.renderingMode)t("jwResize",a,c);else{var d=document.getElementById(n.id+"_wrapper"),e=document.getElementById(n.id+"_aspect");e&&(e.style.display="none"),d&&(d.style.display="block",d.style.width=b.styleDimension(a),d.style.height=b.styleDimension(c))}return n},n.play=function(a){if(a!==d)return t("jwPlay",a),n;a=n.getState();var b=E&&E.getState();return b&&t(b===k.IDLE||b===k.PLAYING||b===k.BUFFERING?"jwInstreamPause":"jwInstreamPlay"),t(a===k.PLAYING||a===k.BUFFERING?"jwPause":"jwPlay"),n},n.pause=function(a){return a===d?(a=n.getState(),t(a===k.PLAYING||a===k.BUFFERING?"jwPause":"jwPlay")):t("jwPause",a),n},n.createInstream=function(){return new f.api.instream(this,z)},n.setInstream=function(a){return E=a},n.loadInstream=function(a,b){return E=n.setInstream(n.createInstream()).init(b),E.loadItem(a),E},n.destroyPlayer=function(){B=!0,t("jwPlayerDestroy")},n.playAd=function(a){var b=f(n.id).plugins;b.vast?b.vast.jwPlayAd(a):t("jwPlayAd",a)},n.pauseAd=function(){var a=f(n.id).plugins;a.vast?a.vast.jwPauseAd():t("jwPauseAd")},g(q,function(a,b){return x[a]||(x[a]=[],u(j.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate;if(b=b.oldstate,c===a){var d=x[c];if(d)for(var e=0;e<d.length;e++){var f=d[e];"function"==typeof f&&f.call(this,{oldstate:b,newstate:c})}}})),x[a].push(b),n}),g(r,u),b.foreach(a,function(a,b){m(!1,b)}),b.foreach(e,function(a,b){m(!0,b)}),n.remove=function(){this._embedder&&this._embedder.destroy&&this._embedder.destroy(),y=[];var a=1<c.size(c.where(l,{id:n.id}));a||b.clearCss("#"+n.id);var d=document.getElementById(n.id+("flash"===n.renderingMode?"_wrapper":""));if(d){if("html5"===n.renderingMode)n.destroyPlayer();else if(b.isMSIE(8)){var e=document.getElementById(n.id);if(e&&e.parentNode){e.style.display="none";for(var f in e)"function"==typeof e[f]&&(e[f]=null);e.parentNode.removeChild(e)}}a||(a=document.createElement("div"),a.id=n.id,d.parentNode.replaceChild(a,d))}l=c.filter(l,function(a){return a.uniqueId!==n.uniqueId})},n.registerPlugin=function(a,b,c,d){f.plugins.registerPlugin(a,b,c,d)},n.setPlayer=function(a,b){z=a,n.renderingMode=b},n.detachMedia=function(){return"html5"===n.renderingMode?t("jwDetachMedia"):void 0},n.attachMedia=function(a){return"html5"===n.renderingMode?t("jwAttachMedia",a):void 0},n.getAudioTracks=function(){return t("jwGetAudioTracks")},n.removeEventListener=function(a,b){var c=v[a];if(c)for(var d=c.length;d--;)c[d]===b&&c.splice(d,1)},n.dispatchEvent=function(a,c){var d=v[a];if(d)for(var d=d.slice(0),e=b.translateEventResponse(a,c),f=0;f<d.length;f++){var h=d[f];if("function"==typeof h)try{a===j.JWPLAYER_PLAYLIST_LOADED&&b.deepReplaceKeyName(e.playlist,["__dot__","__spc__","__dsh__","__default__"],["."," ","-","default"]),h.call(this,e)}catch(g){b.log("There was an error calling back an event handler",g)}}},n.dispatchInstreamEvent=function(a){E&&E.dispatchEvent(a,arguments)},n.callInternal=t,n.playerReady=function(a){for(B=!0,z||n.setPlayer(document.getElementById(a.id)),n.container=document.getElementById(n.id),b.foreach(v,function(a){w(z,a)}),u(j.JWPLAYER_PLAYLIST_ITEM,function(){F={}}),u(j.JWPLAYER_MEDIA_META,function(a){b.extend(F,a.metadata)}),u(j.JWPLAYER_VIEW_TAB_FOCUS,function(a){var c=n.getContainer();!0===a.hasFocus?b.addClass(c,"jw-tab-focus"):b.removeClass(c,"jw-tab-focus")}),n.dispatchEvent(j.API_READY);0<y.length;)t.apply(n,y.shift())},n.getItemMeta=function(){return F},n},f.playerReady=function(a){var b=f.api.playerById(a.id);b||(b=f.api.selectPlayer(a.id)),b.playerReady(a)},f.api.selectPlayer=function(a){var c;return b.exists(a)||(a=0),a.nodeType?c=a:"string"==typeof a&&(c=document.getElementById(a)),c?(a=f.api.playerById(c.id))?a:new f.api(c):"number"==typeof a?l[a]:null},f.api.playerById=function(a){for(var b=0;b<l.length;b++)if(l[b].id===a)return l[b];return null},f.api.addPlayer=function(a){for(var b=0;b<l.length;b++)if(l[b]===a)return a;return g++,a.uniqueId=g,l.push(a),a},f.api.destroyPlayer=function(a){a=c.where(l,{id:a}),c.each(a,c.partial(c.result,c,"remove"))}}(window.jwplayer),function(f){var d=f.events,l=f.utils,b=d.state;f.api.instream=function(f,c){function g(a,b){return r[a]||(r[a]=[],c.jwInstreamAddEventListener(a,'function(dat) { jwplayer("'+f.id+'").dispatchInstreamEvent("'+a+'", dat); }')),r[a].push(b),this}function k(a,b){return q[a]||(q[a]=[],g(d.JWPLAYER_PLAYER_STATE,function(b){var c=b.newstate,d=b.oldstate;if(c===a){var e=q[c];if(e)for(var f=0;f<e.length;f++){var g=e[f];"function"==typeof g&&g.call(this,{oldstate:d,newstate:c,type:b.type})}}})),q[a].push(b),this}var a,e,r={},q={},h=this;h.type="instream",h.init=function(){return f.callInternal("jwInitInstream"),h},h.loadItem=function(b,c){a=b,e=c||{},"array"===l.typeOf(b)?f.callInternal("jwLoadArrayInstream",a,e):f.callInternal("jwLoadItemInstream",a,e)},h.removeEvents=function(){r=q={}},h.removeEventListener=function(a,b){var c=r[a];if(c)for(var d=c.length;d--;)c[d]===b&&c.splice(d,1)},h.dispatchEvent=function(a,b){var c=r[a];if(c)for(var c=c.slice(0),d=l.translateEventResponse(a,b[1]),e=0;e<c.length;e++){var f=c[e];"function"==typeof f&&f.call(this,d)}},h.onError=function(a){return g(d.JWPLAYER_ERROR,a)},h.onMediaError=function(a){return g(d.JWPLAYER_MEDIA_ERROR,a)},h.onFullscreen=function(a){return g(d.JWPLAYER_FULLSCREEN,a)},h.onMeta=function(a){return g(d.JWPLAYER_MEDIA_META,a)},h.onMute=function(a){return g(d.JWPLAYER_MEDIA_MUTE,a)},h.onComplete=function(a){return g(d.JWPLAYER_MEDIA_COMPLETE,a)},h.onPlaylistComplete=function(a){return g(d.JWPLAYER_PLAYLIST_COMPLETE,a)},h.onPlaylistItem=function(a){return g(d.JWPLAYER_PLAYLIST_ITEM,a)},h.onTime=function(a){return g(d.JWPLAYER_MEDIA_TIME,a)},h.onBuffer=function(a){return k(b.BUFFERING,a)},h.onPause=function(a){return k(b.PAUSED,a)},h.onPlay=function(a){return k(b.PLAYING,a)},h.onIdle=function(a){return k(b.IDLE,a)},h.onClick=function(a){return g(d.JWPLAYER_INSTREAM_CLICK,a)},h.onInstreamDestroyed=function(a){return g(d.JWPLAYER_INSTREAM_DESTROYED,a)},h.onAdSkipped=function(a){return g(d.JWPLAYER_AD_SKIPPED,a)},h.play=function(a){c.jwInstreamPlay(a)},h.pause=function(a){c.jwInstreamPause(a)},h.hide=function(){f.callInternal("jwInstreamHide")},h.destroy=function(){h.removeEvents(),f.callInternal("jwInstreamDestroy")},h.setText=function(a){c.jwInstreamSetText(a?a:"")},h.getState=function(){return c.jwInstreamState()},h.setClick=function(a){c.jwInstreamClick&&c.jwInstreamClick(a)}}}(jwplayer),function(f){var d=f.api,l=d.selectPlayer,b=f._;d.selectPlayer=function(){var c=l.apply(this,arguments);return c?c:{registerPlugin:function(b,c,a){"jwpsrv"!==b&&f.plugins.registerPlugin(b,c,a)}}},f.unregisteredProviders=[],d.registerProvider=function(d){f&&f.html5&&b.isFunction(f.html5.registerProvider)?f.html5.registerProvider(d):f.unregisteredProviders.push(d)}}(jwplayer)),define("jwPlayer",function(global){return function(){var ret;return ret||global.jwplayer}}(this)),define("app/common/directives/jwPlayer",["angular","jwPlayer","isMobile"],function(angular,jwplayer,isMobile){"use strict";return angular.module("ernr.directives.jwPlayer",[]).constant("constants",{jwPlayerKey:"d7DaazV+uAdVHOH7pVjuV6ZPUkhXO+eJIkqLYQ==",pathToFlashplayer:"/bower_components/jwplayer/jwplayer.flash.swf",pathToHtml5player:"/bower_components/jwplayer/jwplayer.html5.js"}).directive("jwPlayer",["constants",function(constants){return jwplayer.key=constants.jwPlayerKey,{restrict:"E",scope:{src:"=",type:"=",id:"=jwplayerId",width:"=",height:"="},link:function(scope,el){var width,height,id="jwplayer-"+scope.id;scope.width||scope.height?(width=scope.width,height=scope.height):(width=isMobile.any?480:584,height=isMobile.any?270:328,"audio"===scope.type&&(height=30)),el.attr("id",id),jwplayer(id).setup({file:scope.src,width:width,height:height,flashplayer:constants.pathToFlashplayer,html5player:constants.pathToHtml5player})},template:'<div class="jw-player-wrapper"></div>'}}])}),define("text!app/modules/post/templates/postsComments.html",[],function(){return'<div class="comments-wrapper">\n    <div class="comments-header">\n      <i class="fa fa-plus fa-lg"></i>\n      COMMENTS\n\n      <strong class="sorting pull-right" ng-if="total">\n        {{total}}\n      </strong>\n    </div>\n\n    <hr />\n\n    <form ng-submit="createComment()" name="createComentForm" novalidate>\n        <textarea cols="30" rows="10" class="textarea" name="comment"\n            ng-model="comment" ng-maxlength="140" required></textarea>\n        <div ng-messages="createComentForm.comment.$error">\n            <div ng-message="maxlength">Comment is too long</div>\n        </div>\n        <button class="pull-right" type="submit" ng-disabled="createComentForm.$invalid">POST</button>\n    </form>\n\n    <br />\n\n    <div infinite-scroll="loadMore()" infinite-scroll-distance="2"\n         infinite-scroll-disabled=\'onLoading\' class="comments-list">\n        <div class="comment-box wrap" ng-repeat="comment in comments track by $index">\n            <div class="comment-user row">\n              <div class="col-md-5">\n                <a href="/users/{{comment.user_id}}" class="img-box">\n                  <img height="50" ng-src="{{comment.user_avatar}}" class="img-circle" alt="">\n                </a>\n\n                <a href="/users/{{comment.user_id}}"><b>{{comment.user_name}}</b></a>\n              </div>\n\n              <div class="col-md-7 text-right">\n                <span>{{comment.votessum}}</span>\n                <a ng-click="vote(comment.id, \'voteup\')">\n                  <i class="fa fa-arrow-up"></i>\n                </a>\n                <a ng-click="vote(comment.id, \'votedown\')">\n                  <i class="fa fa-arrow-down"></i>\n                </a>\n                <a href\n                  report target="comments" target-id="comment.id" show-reason="false"\n                  ng-if="currentUser.id !== comment.user_id">\n                  <i class="fa fa-flag"></i>\n                </a>\n                <a\n                  ng-click="remove(comment.id)"\n                  ng-if="currentUser.id === comment.user_id">\n                  <i class="fa fa-trash-o"></i>\n                </a>\n                <a\n                  ng-click="toggleEdit(comment.id, comment.text)"\n                  ng-if="currentUser.id === comment.user_id">\n                  <i class="fa fa-pencil-square-o"></i>\n                </a>\n              </div>\n            </div>\n            <div ng-if="editedComment.id === comment.id">\n              <form ng-submit="editComment()" name="editComentForm" novalidate>\n                  <textarea cols="70" name="editedComment"\n                      ng-model="editedComment.text" ng-maxlength="140" required></textarea>\n                  <div ng-messages="editComentForm.editedComment.$error">\n                      <div ng-message="maxlength">Comment is too long</div>\n                  </div>\n                  <button type="submit" ng-disabled="editComentForm.$invalid">Edit</button>\n                  <button type="button" ng-click="toggleEdit()">Close</button>\n              </form>\n            </div>\n            <div class="frame"\n              ng-if="editedComment.id !== comment.id"\n              ng-bind-html="comment.text | limitTo:140 | tagToLink | nameToLink | unsafe">\n            </div>\n        </div>\n    </div>\n</div>\n'}),define("app/common/services/commentsService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";return angular.module("ernr.commentsService",["common.resources.constant"]).factory("commentsFactory",["$http","apiDomain",function($http,constant){return{get:function(params){return $http.get(constant.domain+"/comments",{params:params})},create:function(id,comment){return $http.post(constant.domain+"/comments",{postid:id,text:comment})},edit:function(id,comment){return $http.put(constant.domain+"/comments/"+id,{text:comment})},remove:function(id){return $http["delete"](constant.domain+"/comments/"+id)},voteup:function(id){return $http.get(constant.domain+"/comments/"+id+"/voteup")},votedown:function(id){return $http.get(constant.domain+"/comments/"+id+"/votedown")}}}])}),define("text!app/common/directives/report/templates/reportModal.html",[],function(){return'<div class="message-popup">\n  <a href ng-click="closeDialog()" class="close-dialog"><i class="fa fa-times-circle"></i></a>\n  <div class="reason" ng-if="showReason">\n    <ul ng-if="target === \'posts\'">\n      <li>\n        <a href ng-click="chooseReason(\'Flag for NSFW/explicit\')">Flag for NSFW/explicit</a>\n      </li>\n      <li>\n        <a href ng-click="chooseReason(\'Flag for dangerous\')">Flag for dangerous</a>\n      </li>\n      <li>\n        <a href ng-click="chooseReason(\'Flag for copyright\')">Flag for copyright</a>\n      </li>\n    </ul>\n\n    <ul ng-if="target === \'comments\' || target === \'users\'">\n      <li>\n        <a href ng-click="chooseReason(\'Abuse\')">Abuse</a>\n      </li>\n      <li>\n        <a href ng-click="chooseReason(\'Spam\')">Spam</a>\n      </li>\n    </ul>\n  </div>\n\n  <form ng-submit="send()" name="setFlag" novalidate ng-if="!showReason">\n    <div class="report-reason text-center">\n      <h3>{{data.reason}}</h3>\n    </div>\n\n    <hr />\n\n    <div class="message-info row">\n      <div class="col-md-7 separator">\n        <i class="fa fa-pencil"></i>\n        Comment\n      </div>\n      <div class="col-md-5">\n        200 character max\n      </div>\n    </div>\n\n    <textarea name="message" ng-model="data.message" ng-maxlength="200"\n      placeholder="write here" required></textarea>\n\n    <div class="form-actions">\n      <button type="button" ng-click="closeDialog()">Cancel</button>\n      <button type="submit" ng-disabled="setFlag.$invalid">Submit</button>\n    </div>\n  </form>\n</div>\n'}),define("app/common/services/reportService",["angular","app/common/resources/constants/constants"],function(angular){"use strict";return angular.module("ernr.reportService",["common.resources.constant"]).factory("reportFactory",["$http","apiDomain",function($http,constant){return{create:function(target,id,reason,text){var isTarget=["users","posts","comments"].indexOf(target)>=0;if(!isTarget)throw new Error("Whoops! It is not target.");return $http.post(constant.domain+"/report",{target:target,target_id:id,reason:reason,text:text})}}}])}),define("app/common/directives/report/report",["angular","text!./templates/reportModal.html","app/common/services/reportService","angularBootstrap"],function(angular,reportModalTemplate){"use strict";var module=angular.module("ernr.directives.report",["ui.bootstrap","ernr.reportService"]).controller("reportModalCtrl",["$scope","$modalInstance","showReason","target",function($scope,$modalInstance,showReason,target){$scope.data={},$scope.showReason=showReason,$scope.target=target,$scope.chooseReason=function(reason){return $scope.data.reason=reason,"comments"===$scope.target?($scope.data.message=reason,$modalInstance.close($scope.data),!1):void($scope.showReason=!1)
},$scope.send=function(){$modalInstance.close($scope.data)},$scope.closeDialog=function(){$modalInstance.dismiss("cancel")}}]).directive("report",function(){return{restrict:"A",scope:{target:"@",targetId:"=",showReason:"@"},controller:["$scope","$modal","reportFactory",function($scope,$modal,report){$scope.showFlagPopUp=function(){var modalInstance=$modal.open({template:reportModalTemplate,controller:"reportModalCtrl",keyboard:!1,resolve:{showReason:function(){return $scope.showReason},target:function(){return $scope.target}}});modalInstance.result.then(function(data){report.create($scope.target,$scope.targetId,data.reason,data.message).success(function(data){console.info("report success",data)}).error(function(data){console.error("report error",data)})})}}],link:function(scope,element){element.on("click",scope.showFlagPopUp)}}});return module}),define("app/modules/post/directives/postsComments",["angular","lodash","text!../templates/postsComments.html","app/common/services/postService","app/common/services/commentsService","app/common/context/user","app/common/directives/report/report","angular-messages"],function(angular,_,template){"use strict";return angular.module("ernr.directives.postsComments",["ernr.postService","ernr.commentsService","ernr.userService","ernr.directives.report","ngMessages"]).directive("postsComments",function(){return{restrict:"E",replase:!0,scope:{post:"="},controller:["$scope","postFactory","commentsFactory","userFactory",function($scope,posts,comments,currentUser){function update(){$scope.isUpdate=!0,$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore()}$scope.comments=[],$scope.currentUser=currentUser.getInfo(),$scope.isUpdate=!1,$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,posts.comments($scope.post.id,{page:$scope.page,per_page:$scope.per_page}).success(function(data){var items=data.result.items;$scope.total=data.result.total,$scope.isUpdate?($scope.isNewComment=!1,$scope.comments=items):$scope.comments=$scope.comments.concat(items),$scope.page++,$scope.stopLoadMore=items.length<$scope.per_page,$scope.onLoading=!1}))},$scope.createComment=function(){comments.create($scope.post.id,$scope.comment).success(function(){$scope.comment="",update()})},$scope.vote=function(id,method){comments[method](id).success(function(resp){var comment=_.findWhere($scope.comments,{id:resp.result.id});comment.votesbalance=resp.result.votesbalance,comment.votesdown=resp.result.votedown,comment.votessum=resp.result.votessum,comment.votesup=resp.result.votesup})},$scope.remove=function(id){comments.remove(id).success(update)},$scope.toggleEdit=function(id,comment){$scope.editedComment={id:id,text:comment}},$scope.editComment=function(){comments.edit($scope.editedComment.id,$scope.editedComment.text).success(function(resp){var comment=_.findWhere($scope.comments,{id:resp.result.id});comment&&(comment.text=resp.result.text),$scope.toggleEdit()})}}],template:template}})}),define("text!app/modules/post/templates/rabbitHoles.html",[],function(){return'<div class="rabbit-hole" ng-init="update()">\n  <ul>\n    <li ng-repeat="p in rabbitHoles | pager:offset:limit track by $index">\n      <div class="row">\n        \n        <span class="col-md-2 text-right">\n          Vw:\n          <span ng-if="p.views">{{p.views}}</span>\n          <span ng-if="!p.views">0</span>\n        </span>\n        <span class="col-md-2 text-right">\n          C:\n          <span ng-if="p.comments">{{p.comments}}</span>\n          <span ng-if="!p.comments">0</span>\n        </span>\n        <span class="col-md-2 text-right">\n          F:\n          <span ng-if="p.favorites">{{p.favorites}}</span>\n          <span ng-if="!p.favorites">0</span>\n        </span>\n        <span class="col-md-2 text-right">\n          S:\n          <span ng-if="p.sharing">{{p.sharing}}</span>\n          <span ng-if="!p.sharing">0</span>\n        </span>\n        <span class="col-md-2 text-right">\n          V:\n          <span ng-if="p.votes">{{p.votes}}</span>\n          <span ng-if="!p.votes">0</span>\n        </span>\n      </div>\n\n      <a href="/post/{{p.id}}" class="img-frame">\n        <img ng-src="{{p.thumb}}">\n      </a>\n\n      <div class="wrap">\n        <a href="/post/{{p.id}}">\n          {{ p.title }}\n        </a>\n      </div>\n    </li>\n  </ul>\n\n  <div class="row recomendations-body-pager text-center" ng-if="rabbitHoles.length > 0">\n    <div class="col-md-6 col-xs-6 border-top">\n      <a ng-if="(limit + offset) < total" ng-click="next()">\n        <i class="fa fa-angle-down fa-lg"></i>\n      </a>\n      <i ng-if="(limit + offset) > total" class="fa fa-angle-down fa-lg"></i>\n    </div>\n    <div class="col-md-6 col-xs-6 border-top border-left">\n      <a ng-if="offset !== 0" ng-click="prev()">\n        <i class="fa fa-angle-up fa-lg"></i>\n      </a>\n      <i ng-if="offset === 0" class="fa fa-angle-up fa-lg"></i>\n    </div>\n  </div>\n</div>\n'}),define("app/common/services/rabbitHoleService",["angular","moment","app/common/resources/constants/constants"],function(angular){"use strict";return angular.module("ernr.rabbitHoleService",["common.resources.constant"]).factory("rabbitHoleFactory",["apiDomain","$http",function(constant,$http){function getQuery(post,from){var _query="id="+post.id,d=new Date,n=d.getTime();return post.title.length>0&&(_query+="&title="+post.title),post.tags&&post.tags.length>0&&(_query+="&tags="+post.tags.join(" ")),from&&(_query+="&from="+from),_query+="&cachebust="+n}return{get:function(post,from,size){var params=getQuery(post,from,size);return $http.get(constant.rabbitHole+params,{headers:{"x-access-token":void 0}})}}}])}),define("app/modules/post/directives/rabbitHoles",["angular","text!../templates/rabbitHoles.html","app/common/services/rabbitHoleService"],function(angular,rabbitHolesTemplate){"use strict";return angular.module("ernr.post.directives.rabbitHoles",["ernr.rabbitHoleService"]).controller("rabbitHolesController",["$scope","rabbitHoleFactory",function($scope,rabbitHole){function parse(result){if(!(result&&result.data&&result.data.hits&&result.data.hits.hits))return!1;var res=result.data.hits.hits.map(function(e){return e._source.thumb_type=e._source.thumb_type.replace("jpeg","jpg"),e._source.thumb="http://s3.small.rabadaba.com/dev/thumbs/posts/"+e._source.id+"/s/1."+e._source.thumb_type,e._source});res.length<$scope.limit&&($scope.isDisabled=!0),$scope.total=result.data.hits.total,$scope.rabbitHoles=$scope.rabbitHoles.concat(res)}$scope.offset=0,$scope.size=5,$scope.limit=parseInt($scope.size,10),$scope.isDisabled=!1,$scope.rabbitHoles=[],$scope.total=0,$scope.update=function(){console.log($scope.post),rabbitHole.get($scope.post,$scope.offset,$scope.limit).then(parse)},$scope.next=function(){var isNext;$scope.offset+=$scope.limit,isNext=!$scope.isDisabled&&$scope.offset+$scope.limit<$scope.total+$scope.size,isNext&&$scope.update()},$scope.prev=function(){$scope.offset-=$scope.limit}}]).directive("rabbitHoles",function(){return{restrict:"EA",controller:"rabbitHolesController",template:rabbitHolesTemplate}})}),define("app/modules/post/post",["angular","text!./post.html","text!./templates/post-profile.html","./controllers/post","./controllers/post-profile","angularRoute","app/common/context/user","app/common/services/postService","app/common/directives/jwPlayer","./directives/postsComments","./directives/rabbitHoles","app/common/directives/follow/followButton","app/common/directives/voteup","app/common/directives/votedown","app/common/directives/refresh","app/common/directives/share/share","app/common/directives/report/report"],function(angular,templatePost,templatePostProfile,postCtrl,postProfileCtrl){"use strict";var module=angular.module("ernr.post",["ngRoute","ernr.userService","ernr.postService","ernr.directives.jwPlayer","ernr.directives.postsComments","ernr.directives.followButton","ernr.directives.votedown","ernr.directives.voteup","ernr.directives.refresh","ernr.directives.share","ernr.directives.report","ernr.post.directives.rabbitHoles"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("post",templatePost),$templateCache.put("postProfile",templatePostProfile)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/post",{template:templatePostProfile,controller:postProfileCtrl,resolve:{paths:["$q","postFactory",function($q,postFactory){var deferred=$q.defer();return postFactory.getPaths(0,20).then(function(resp){deferred.resolve(resp)}),deferred.promise}],rabbitHoles:["$q","postFactory",function($q,postFactory){var deferred=$q.defer();return postFactory.getRabbitHoles(1,20).then(function(resp){deferred.resolve(resp)}),deferred.promise}]}}).when("/post/:id",{template:templatePostProfile,controller:postProfileCtrl,resolve:{paths:["$q","postFactory",function($q,postFactory){var deferred=$q.defer();return postFactory.getPaths(0,20).then(function(resp){deferred.resolve(resp)}),deferred.promise}]}})}]),module}),define("text!app/modules/ad-page/ad-page.html",[],function(){return'<div class="container">\n	<h2 class="heading">advertising</h2>\n</div>\n'}),define("app/modules/ad-page/controllers/ad-page",["require","angular"],function(require){"use strict";{var controller;require("angular")}return controller=["$scope","$http",function(){}]}),define("app/modules/ad-page/ad-page",["require","angular","text!./ad-page.html","./controllers/ad-page"],function(require){"use strict";var module,angular=require("angular"),templateAdvertising=require("text!./ad-page.html"),advertisingCtrl=require("./controllers/ad-page");return module=angular.module("ernr.ad",["ngRoute"]),module.run(["$templateCache",function($templateCache){$templateCache.put("ad",templateAdvertising)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/advertising",{template:templateAdvertising,controller:advertisingCtrl})}]),module}),define("text!app/modules/search/search.html",[],function(){return'<div class="search-results slim-outer container">\n  <div class="row" class="content-has-padding">\n    <div class="ernr-status-bar">\n      <div class="left-items">\n        <i class="fa fa-plus"></i>\n        <span ng-show="!isLoading">Search Results</span>\n        <span ng-show="isLoading">Loading...</span>\n      </div>\n    </div>\n\n    <div class="horizontal-line"></div>\n    <div class="horizontal-line-gallery"></div>\n    <div infinite-scroll="loadMore()" infinite-scroll-distance="2"\n         infinite-scroll-disabled=\'onLoading\'>\n        <div class="feed" feed="item" ng-repeat="item in items" class="search-results-item"></div>\n    </div>\n    <div ng-hide="items.length">No feeds</div>\n  </div>\n</div>\n'}),define("app/modules/search/controllers/search",["require"],function(){"use strict";var controller=function($scope,$location,search){$scope.params=$location.search(),$scope.items=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,search.find({q:$scope.params.q,page:$scope.page,per_page:$scope.per_page}).success(function(data){var items=data.result.items;$scope.items=$scope.items.concat(items),$scope.page++,$scope.stopLoadMore=items.length<$scope.per_page,$scope.onLoading=!1}))}};return["$scope","$location","searchFactory",controller]}),define("app/modules/search/services/searchService",["require"],function(){"use strict";function factory($http,constant){return{find:function(params){return $http.get(constant.search+"/elasticsearch/find",{params:params})}}}return["$http","apiDomain",factory]}),define("app/modules/search/search",["angular","angularRoute","text!./search.html","./controllers/search","./services/searchService","app/common/resources/constants/constants"],function(angular,angularRoute,templateSearch,searchCtrl,searchService){"use strict";var module=angular.module("ernr.search",["ngRoute","common.resources.constant"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("search",templateSearch)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/search",{template:templateSearch,controller:searchCtrl})}]),module.factory("searchFactory",searchService),module}),define("text!app/modules/support/support.html",[],function(){return'<div class="container">\n	<h2 class="heading">support</h2>\n</div>\n'}),define("app/modules/support/controllers/support",["require"],function(){"use strict";var controller=["$scope","$http",function(){}];return controller}),define("app/modules/support/support",["angular","angularRoute","text!./support.html","./controllers/support"],function(angular,angularRoute,templateSupport,supportCtrl){"use strict";var module=angular.module("ernr.support",["ngRoute"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("support",templateSupport)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/support",{template:templateSupport,controller:supportCtrl})}]),module}),define("text!app/modules/registration/registration.html",[],function(){return'<div class="container">\n  <form class="form-create" action="http://api.dev.rabadaba.com/account/create" ng-submit="onSubmitCreateHandler($event)" novalidate name="createForm">\n    <h2 class="form-create-heading">create new account</h2>\n    <div class="create-wrap">\n      <input ng-model="createFormValues.username" required type="text" class="form-control" placeholder="Username" autofocus>\n      <br>\n      <input ng-model="createFormValues.email" required type="email" class="form-control" placeholder="Email">\n      <br>\n      <input ng-model="createFormValues.password" required type="password" class="form-control" placeholder="Password">\n      <br>\n      <div re-captcha ng-model="createFormValues.captcha"></div>\n      <button class="btn btn-theme btn-block" href="index.html" type="submit">CREATE</button>\n      <hr>\n    </div>\n    <span class="glyphicon glyphicon-thumbs-down" ng-show="errorMessage">{{errorMessage}}</span>\n  </form>\n</div>'}),define("app/modules/registration/controllers/registration",["require"],function(){"use strict";var controller=[function(){}];return controller}),define("app/modules/registration/registration",["angular","angularRoute","text!./registration.html","./controllers/registration"],function(angular,angularRoute,templateRegistration,registrationCtrl){"use strict";var module=angular.module("ernr.registration",["ngRoute"]);return module.config(["$routeProvider","$locationProvider","$httpProvider",function($routeProvider){$routeProvider.when("/registration",{template:templateRegistration,controller:registrationCtrl})}]),module}),define("text!app/modules/gallery/templates/gallery.html",[],function(){return'<div class="tag-gallery-wrapper slim-outer container">\n  <div class="row" class="content-has-padding">\n    <div class="ernr-status-bar">\n      <div class="left-items">\n        <i class="fa fa-tag"></i>\n        <span>{{tag}}</span>\n      </div>\n\n      <div class="pull-right">\n        <follow-button class="btn-follow" tag-id="tag"></follow-button>\n      </div>\n    </div>\n\n    <section\n            feeds-list\n            feed-topic="topic"\n            feed-type="params.type"\n            feed-datestamp="params.sort"></section>\n  </div>\n</div>\n\n'}),define("app/modules/gallery/controllers/gallery",["require"],function(){"use strict";var controller=function($scope,$location,$routeParams){$scope.isLoading=!0,$scope.params=$location.search(),$scope.tag=$routeParams.tag,$scope.topic="tag:"+$scope.tag,$scope.setType=function(type){type===$scope.params.type?delete $scope.params.type:$scope.params.type=type},$scope.setSort=function(sort){sort&&sort!==$scope.params.sort?$scope.params.sort=sort:delete $scope.params.sort},$scope.$watch("params",function(newValue){$location.search(newValue)},!0)};return["$scope","$location","$routeParams",controller]}),define("app/modules/gallery/gallery",["require","angular","text!./templates/gallery.html","./controllers/gallery"],function(require){"use strict";var module,angular=require("angular"),templateGallery=require("text!./templates/gallery.html"),galleryCtrl=require("./controllers/gallery");return module=angular.module("ernr.gallery",["ngRoute"]),module.run(["$templateCache",function($templateCache){$templateCache.put("gallery",templateGallery)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/tags/:tag",{template:templateGallery,controller:galleryCtrl})}]),module}),define("text!app/modules/hashtags/templates/hashtags.html",[],function(){return'<div>\n  <div class="row">\n    <div class="col-md-6"><h1>Hashtags</h1></div>\n    <div class="col-md-6">\n      <div class="btn-group" role="group">\n        <button type="button"\n                class="btn btn-default"\n                ng-class="{ active: params.sort == \'alphabetic\' }"\n                ng-click="setSort(\'alphabetic\')">Alphabetic</button>\n        <button type="button"\n                class="btn btn-default"\n                ng-class="{ active: params.sort == \'recent\' }"\n                ng-click="setSort(\'recent\')">Most Recent</button>\n        <button type="button"\n                class="btn btn-default"\n                ng-class="{ active: params.sort == \'activity\' }"\n                ng-click="setSort(\'activity\')">By Activity</button>\n        <button type="button"\n                class="btn btn-default"\n                ng-class="{ active: params.sort == \'popularity\' }"\n                ng-click="setSort(\'popularity\')">By Popularity</button>\n      </div>\n    </div>\n    <div class="col col-md-12">\n      <div class=\'hashtags-list\' infinite-scroll=\'loadMore()\' infinite-scroll-distance=\'2\'\n           infinite-scroll-disabled=\'onLoading\'>\n        <div ng-repeat=\'tag in tags\'>\n          {{tag.tag}} — {{tag.posts}}\n        </div>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("app/modules/hashtags/controllers/hashtags",["require"],function(){"use strict";var controller=function($scope,tags,$location){$scope.tags=[],$scope.page=1,$scope.per_page=20,$scope.onLoading=!1,$scope.stopLoadMore=!1,$scope.params=$location.search(),$scope.loadMore=function(){$scope.onLoading||$scope.stopLoadMore||($scope.onLoading=!0,tags.getList({page:$scope.page,per_page:$scope.per_page}).success(function(data){var items=data.result.items;$scope.tags=$scope.tags.concat(items),$scope.page++,$scope.stopLoadMore=items.length<$scope.per_page,$scope.onLoading=!1}))},$scope.setSort=function(sort){sort===$scope.params.sort?delete $scope.params.sort:$scope.params.sort=sort},$scope.$watch("params",function(newValue){$location.search(newValue)},!0)};return["$scope","tagsFactory","$location",controller]}),define("app/modules/hashtags/hashtags",["require","angular","text!./templates/hashtags.html","./controllers/hashtags"],function(require){"use strict";var module,angular=require("angular"),template=require("text!./templates/hashtags.html"),ctrl=require("./controllers/hashtags");return module=angular.module("ernr.terms",["ngRoute"]),module.run(["$templateCache",function($templateCache){$templateCache.put("hashtags",template)}]),module.config(["$routeProvider",function($routeProvider){$routeProvider.when("/hashtags",{template:template,controller:ctrl})}]),module}),define("text!app/modules/publicProfile/templates/publicProfile.html",[],function(){return'<div class="public-profile row">\n  <div class="container">\n    <div class="col col-md-3">\n      <user-card user-id="userId"></user-card>\n    </div>\n\n    <div class="col col-md-9">\n      <div class="ernr-status-bar">\n        <div>\n          <h4>{{userId}}\'s {{state}}</h4>\n        </div>\n        <hr />\n      </div>\n      <div ng-switch on="state">\n        <div ng-switch-when="followers" followers user-id="userId"></div>\n        <div ng-switch-when="following" following user-id="userId"></div>\n        <div ng-switch-when="posts" feeds-list feed-topic="\'user\'" feed-type="userId"></div>\n      </div>\n    </div>\n  </div>\n</div>\n'}),define("app/modules/publicProfile/controllers/publicProfileCtrl",[],function(){"use strict";var controller=function($scope,$routeParams,$location){$scope.state=$routeParams.page,$scope.userId=$routeParams.id,$scope.state||$location.path("/users/"+$routeParams.id+"/posts")};return["$scope","$routeParams","$location",controller]}),define("app/modules/publicProfile/publicProfile",["angular","text!./templates/publicProfile.html","./controllers/publicProfileCtrl","app/common/directives/follow/followButton","app/common/directives/follow/followers","app/common/directives/follow/following","app/common/directives/blockUser/blockUser","app/common/directives/userCard/userCard","app/common/services/profileService","app/common/services/followService","app/common/context/user","angularRoute"],function(angular,publicProfileTpl,publicProfileCtrl){"use strict";var module=angular.module("ernr.publicProfile",["ngRoute","ernr.directives.followButton","ernr.ProfileService","ernr.userService","ernr.directives.followers","ernr.directives.following","ernr.directives.userCard"]);return module.run(["$templateCache",function($templateCache){$templateCache.put("publicProfile",publicProfileTpl)}]),angular.module("ernr.publicProfile").config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$locationProvider.html5Mode(!0),$routeProvider.when("/users/:id/:page?",{template:publicProfileTpl,controller:publicProfileCtrl})}]),module}),define("app/modules/main",["require","./navbar/navbar","./footer/footer","./home/home","./profile/profile","./login/login","./dashboard/dashboard","./error/error","./terms/terms","./about/about","./post/post","./ad-page/ad-page","./search/search","./support/support","./registration/registration","./gallery/gallery","./hashtags/hashtags","./publicProfile/publicProfile"],function(require){return{navbar:require("./navbar/navbar"),footer:require("./footer/footer"),home:require("./home/home"),profile:require("./profile/profile"),login:require("./login/login"),dashboard:require("./dashboard/dashboard"),error:require("./error/error"),terms:require("./terms/terms"),about:require("./about/about"),post:require("./post/post"),ad:require("./ad-page/ad-page"),search:require("./search/search"),support:require("./support/support"),registration:require("./registration/registration"),gallery:require("./gallery/gallery"),hashtags:require("./hashtags/hashtags"),publicProfile:require("./publicProfile/publicProfile")}}),function(window,angular,undefined){"use strict";function isValidDottedPath(path){return null!=path&&""!==path&&"hasOwnProperty"!==path&&MEMBER_NAME_REGEX.test("."+path)}function lookupDottedPath(obj,path){if(!isValidDottedPath(path))throw $resourceMinErr("badmember",'Dotted member path "@{0}" is invalid.',path);for(var keys=path.split("."),i=0,ii=keys.length;ii>i&&obj!==undefined;i++){var key=keys[i];obj=null!==obj?obj[key]:undefined}return obj}function shallowClearAndCopy(src,dst){dst=dst||{},angular.forEach(dst,function(value,key){delete dst[key]});for(var key in src)src.hasOwnProperty(key)&&"$"!==key.charAt(0)&&"$"!==key.charAt(1)&&(dst[key]=src[key]);return dst}var $resourceMinErr=angular.$$minErr("$resource"),MEMBER_NAME_REGEX=/^(\.[a-zA-Z_$][0-9a-zA-Z_$]*)+$/;angular.module("ngResource",["ng"]).factory("$resource",["$http","$q",function($http,$q){function encodeUriSegment(val){return encodeUriQuery(val,!0).replace(/%26/gi,"&").replace(/%3D/gi,"=").replace(/%2B/gi,"+")}function encodeUriQuery(val,pctEncodeSpaces){return encodeURIComponent(val).replace(/%40/gi,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",").replace(/%20/g,pctEncodeSpaces?"%20":"+")}function Route(template,defaults){this.template=template,this.defaults=defaults||{},this.urlParams={}}function resourceFactory(url,paramDefaults,actions){function extractParams(data,actionParams){var ids={};return actionParams=extend({},paramDefaults,actionParams),forEach(actionParams,function(value,key){isFunction(value)&&(value=value()),ids[key]=value&&value.charAt&&"@"==value.charAt(0)?lookupDottedPath(data,value.substr(1)):value}),ids}function defaultResponseInterceptor(response){return response.resource}function Resource(value){shallowClearAndCopy(value||{},this)}var route=new Route(url);return actions=extend({},DEFAULT_ACTIONS,actions),forEach(actions,function(action,name){var hasBody=/^(POST|PUT|PATCH)$/i.test(action.method);Resource[name]=function(a1,a2,a3,a4){var data,success,error,params={};switch(arguments.length){case 4:error=a4,success=a3;case 3:case 2:if(!isFunction(a2)){params=a1,data=a2,success=a3;break}if(isFunction(a1)){success=a1,error=a2;break}success=a2,error=a3;case 1:isFunction(a1)?success=a1:hasBody?data=a1:params=a1;break;case 0:break;default:throw $resourceMinErr("badargs","Expected up to 4 arguments [params, data, success, error], got {0} arguments",arguments.length)}var isInstanceCall=this instanceof Resource,value=isInstanceCall?data:action.isArray?[]:new Resource(data),httpConfig={},responseInterceptor=action.interceptor&&action.interceptor.response||defaultResponseInterceptor,responseErrorInterceptor=action.interceptor&&action.interceptor.responseError||undefined;forEach(action,function(value,key){"params"!=key&&"isArray"!=key&&"interceptor"!=key&&(httpConfig[key]=copy(value))}),hasBody&&(httpConfig.data=data),route.setUrlParams(httpConfig,extend({},extractParams(data,action.params||{}),params),action.url);var promise=$http(httpConfig).then(function(response){var data=response.data,promise=value.$promise;if(data){if(angular.isArray(data)!==!!action.isArray)throw $resourceMinErr("badcfg","Error in resource configuration. Expected response to contain an {0} but got an {1}",action.isArray?"array":"object",angular.isArray(data)?"array":"object");action.isArray?(value.length=0,forEach(data,function(item){value.push(new Resource(item))})):(shallowClearAndCopy(data,value),value.$promise=promise)}return value.$resolved=!0,response.resource=value,response},function(response){return value.$resolved=!0,(error||noop)(response),$q.reject(response)});return promise=promise.then(function(response){var value=responseInterceptor(response);return(success||noop)(value,response.headers),value},responseErrorInterceptor),isInstanceCall?promise:(value.$promise=promise,value.$resolved=!1,value)},Resource.prototype["$"+name]=function(params,success,error){isFunction(params)&&(error=success,success=params,params={});var result=Resource[name].call(this,params,this,success,error);return result.$promise||result}}),Resource.bind=function(additionalParamDefaults){return resourceFactory(url,extend({},paramDefaults,additionalParamDefaults),actions)},Resource}var DEFAULT_ACTIONS={get:{method:"GET"},save:{method:"POST"},query:{method:"GET",isArray:!0},remove:{method:"DELETE"},"delete":{method:"DELETE"}},noop=angular.noop,forEach=angular.forEach,extend=angular.extend,copy=angular.copy,isFunction=angular.isFunction;return Route.prototype={setUrlParams:function(config,params,actionUrl){var val,encodedVal,self=this,url=actionUrl||self.template,urlParams=self.urlParams={};forEach(url.split(/\W/),function(param){if("hasOwnProperty"===param)throw $resourceMinErr("badname","hasOwnProperty is not a valid parameter name.");!new RegExp("^\\d+$").test(param)&&param&&new RegExp("(^|[^\\\\]):"+param+"(\\W|$)").test(url)&&(urlParams[param]=!0)}),url=url.replace(/\\:/g,":"),params=params||{},forEach(self.urlParams,function(_,urlParam){val=params.hasOwnProperty(urlParam)?params[urlParam]:self.defaults[urlParam],angular.isDefined(val)&&null!==val?(encodedVal=encodeUriSegment(val),url=url.replace(new RegExp(":"+urlParam+"(\\W|$)","g"),encodedVal+"$1")):url=url.replace(new RegExp("(/?):"+urlParam+"(\\W|$)","g"),function(match,leadingSlashes,tail){return"/"==tail.charAt(0)?tail:leadingSlashes+tail})}),url=url.replace(/\/+$/,"")||"/",url=url.replace(/\/\.(?=\w+($|\?))/,"."),config.url=url.replace(/\/\\\./,"/."),forEach(params,function(value,key){self.urlParams[key]||(config.params=config.params||{},config.params[key]=value)})}},resourceFactory}])}(window,window.angular),define("angularResource",["angular"],function(){}),define("app/common/resources/rankings",["angular","angularResource","angularLocalStorage"],function(angular){var module=angular.module("common.resources.rankings",["ngResource","angularLocalStorage"]);module.factory("rankingsResource",["$rootScope","$http","$location","storage","$interval","$q",function($scope,$http,$location,storage,$interval,$q){var service={};return service.getLastUpdate=function(){var deferred=$q.defer();return $http.get("http://api.kpop.s1k.com/kpopbuzz:STATS/latest",{}).success(function(response){deferred.resolve({error:null,lastupdate:response})}).error(function(err){deferred.resolve({error:err,lastupdate:null})}),deferred.promise},service.getRankings=function(options){var url,deferred=$q.defer(),direction=options.direction||"asc",site=options.site||"kpopbuzz",sector=options.sector||"all",page=options.page||1,per_page=options.per_page||18;return url=site.indexOf("buzzcharts")>=0?"http://api.kpop.s1k.com/"+site+"?page="+page+"&per_page="+per_page:"http://api.kpop.s1k.com/"+site+"."+sector+"?"+direction+"=true&page="+page+"&per_page="+per_page,$http.get(url,{}).success(function(response){for(var i in response.items)response.items[i].attributes&&(response.items[i].thumbnail=response.items[i].attributes["thumbnail-image"].value);deferred.resolve({error:null,items:response.items})}).error(function(err){deferred.resolve({error:err,items:null})}),deferred.promise},service}])}),define("app/common/filters",["angular"],function(angular){"use strict";var module=angular.module("ernr.filters",[]).filter("tagToLink",function(){return function(input){var reg=new RegExp("#([a-zA-Z0-9])*","g"),text=input.replace(reg,function(str){var tag=str.replace(/#/g,"");return'<a href="/tags/'+tag+'">'+str+"</a>"});return text}}).filter("nameToLink",function(){return function(input){var reg=new RegExp("@([a-zA-Z0-9_])*","g"),text=input.replace(reg,function(str){var name=str.replace(/@/g,"");return'<a href="/users/'+name+'">'+str+"</a>"});return text}}).filter("unsafe",function($sce){return function(input){return $sce.trustAsHtml(input)}}).filter("pager",function(){return function(input,offset,limit){if(!(input instanceof Array))return input;var out=[];offset=parseInt(offset,10),limit=parseInt(limit,10),limit?limit+=offset:limit=input.length;for(var i=offset;limit>i;i++)input[i]&&out.push(input[i]);return out}});return module}),function(window){"use strict";var CanvasPrototype=window.HTMLCanvasElement&&window.HTMLCanvasElement.prototype,hasBlobConstructor=window.Blob&&function(){try{return Boolean(new Blob)}catch(e){return!1}}(),hasArrayBufferViewSupport=hasBlobConstructor&&window.Uint8Array&&function(){try{return 100===new Blob([new Uint8Array(100)]).size}catch(e){return!1}}(),BlobBuilder=window.BlobBuilder||window.WebKitBlobBuilder||window.MozBlobBuilder||window.MSBlobBuilder,dataURLtoBlob=(hasBlobConstructor||BlobBuilder)&&window.atob&&window.ArrayBuffer&&window.Uint8Array&&function(dataURI){var byteString,arrayBuffer,intArray,i,mimeString,bb;for(byteString=dataURI.split(",")[0].indexOf("base64")>=0?atob(dataURI.split(",")[1]):decodeURIComponent(dataURI.split(",")[1]),arrayBuffer=new ArrayBuffer(byteString.length),intArray=new Uint8Array(arrayBuffer),i=0;i<byteString.length;i+=1)intArray[i]=byteString.charCodeAt(i);return mimeString=dataURI.split(",")[0].split(":")[1].split(";")[0],hasBlobConstructor?new Blob([hasArrayBufferViewSupport?intArray:arrayBuffer],{type:mimeString}):(bb=new BlobBuilder,bb.append(arrayBuffer),bb.getBlob(mimeString))};window.HTMLCanvasElement&&!CanvasPrototype.toBlob&&(CanvasPrototype.mozGetAsFile?CanvasPrototype.toBlob=function(callback,type,quality){callback(quality&&CanvasPrototype.toDataURL&&dataURLtoBlob?dataURLtoBlob(this.toDataURL(type,quality)):this.mozGetAsFile("blob",type))
}:CanvasPrototype.toDataURL&&dataURLtoBlob&&(CanvasPrototype.toBlob=function(callback,type,quality){callback(dataURLtoBlob(this.toDataURL(type,quality)))})),"function"==typeof define&&define.amd?define("canvasToBlobPolyfill",[],function(){return dataURLtoBlob}):window.dataURLtoBlob=dataURLtoBlob}(this),define("app/main",["angular","./modules/main","text!./modules/navbar/templates/navbar.html","./common/context/user","./common/resources/rankings","./common/filters","canvasToBlobPolyfill"],function(angular,modules,templatenav){"use strict";var app=angular.module("ernr",["common.resources.rankings","ernr.userService","ernr.favoritesService","ernr.followService","ernr.tagsService","ernr.blockListService","ernr.filters","ernr.navbar","ernr.footer","ernr.home","ernr.profile","ernr.login","ernr.dashboard","ernr.error","ernr.terms","ernr.about","ernr.post","ernr.ad","ernr.search","ernr.support","ernr.registration","ernr.gallery","ernr.publicProfile"]);return app.run(["$templateCache","userFactory","favoritesFactory","followFactory","blockListFactory","tagsFactory",function($templateCache,userFactory,favoritesFactory,followFactory,blockList,tags){$templateCache.put("navbar",templatenav),userFactory.loadFromLocal(),userFactory.isLoggedIn&&(favoritesFactory.loadToLocalStorage(),followFactory.loadToLocalStorage(),blockList.loadToLocalStorage(),tags.loadToLocalStorage())}]).config(["$routeProvider","$locationProvider",function($routeProvider,$locationProvider){$locationProvider.html5Mode({enabled:!0,requireBase:!1})}]).controller("MainController",["$scope","rankingsResource",function($scope){$scope.flags={},$scope.flags.nav=!1,$scope.flags.side=!1}]),app}),"undefined"==typeof jQuery)throw new Error("Bootstrap requires jQuery");+function(a){"use strict";function b(){var a=document.createElement("bootstrap"),b={WebkitTransition:"webkitTransitionEnd",MozTransition:"transitionend",OTransition:"oTransitionEnd otransitionend",transition:"transitionend"};for(var c in b)if(void 0!==a.style[c])return{end:b[c]}}a.fn.emulateTransitionEnd=function(b){var c=!1,d=this;a(this).one(a.support.transition.end,function(){c=!0});var e=function(){c||a(d).trigger(a.support.transition.end)};return setTimeout(e,b),this},a(function(){a.support.transition=b()})}(jQuery),+function(a){"use strict";var b='[data-dismiss="alert"]',c=function(c){a(c).on("click",b,this.close)};c.prototype.close=function(b){function c(){f.trigger("closed.bs.alert").remove()}var d=a(this),e=d.attr("data-target");e||(e=d.attr("href"),e=e&&e.replace(/.*(?=#[^\s]*$)/,""));var f=a(e);b&&b.preventDefault(),f.length||(f=d.hasClass("alert")?d:d.parent()),f.trigger(b=a.Event("close.bs.alert")),b.isDefaultPrevented()||(f.removeClass("in"),a.support.transition&&f.hasClass("fade")?f.one(a.support.transition.end,c).emulateTransitionEnd(150):c())};var d=a.fn.alert;a.fn.alert=function(b){return this.each(function(){var d=a(this),e=d.data("bs.alert");e||d.data("bs.alert",e=new c(this)),"string"==typeof b&&e[b].call(d)})},a.fn.alert.Constructor=c,a.fn.alert.noConflict=function(){return a.fn.alert=d,this},a(document).on("click.bs.alert.data-api",b,c.prototype.close)}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d)};b.DEFAULTS={loadingText:"loading..."},b.prototype.setState=function(a){var b="disabled",c=this.$element,d=c.is("input")?"val":"html",e=c.data();a+="Text",e.resetText||c.data("resetText",c[d]()),c[d](e[a]||this.options[a]),setTimeout(function(){"loadingText"==a?c.addClass(b).attr(b,b):c.removeClass(b).removeAttr(b)},0)},b.prototype.toggle=function(){var a=this.$element.closest('[data-toggle="buttons"]'),b=!0;if(a.length){var c=this.$element.find("input");"radio"===c.prop("type")&&(c.prop("checked")&&this.$element.hasClass("active")?b=!1:a.find(".active").removeClass("active")),b&&c.prop("checked",!this.$element.hasClass("active")).trigger("change")}b&&this.$element.toggleClass("active")};var c=a.fn.button;a.fn.button=function(c){return this.each(function(){var d=a(this),e=d.data("bs.button"),f="object"==typeof c&&c;e||d.data("bs.button",e=new b(this,f)),"toggle"==c?e.toggle():c&&e.setState(c)})},a.fn.button.Constructor=b,a.fn.button.noConflict=function(){return a.fn.button=c,this},a(document).on("click.bs.button.data-api","[data-toggle^=button]",function(b){var c=a(b.target);c.hasClass("btn")||(c=c.closest(".btn")),c.button("toggle"),b.preventDefault()})}(jQuery),+function(a){"use strict";var b=function(b,c){this.$element=a(b),this.$indicators=this.$element.find(".carousel-indicators"),this.options=c,this.paused=this.sliding=this.interval=this.$active=this.$items=null,"hover"==this.options.pause&&this.$element.on("mouseenter",a.proxy(this.pause,this)).on("mouseleave",a.proxy(this.cycle,this))};b.DEFAULTS={interval:5e3,pause:"hover",wrap:!0},b.prototype.cycle=function(b){return b||(this.paused=!1),this.interval&&clearInterval(this.interval),this.options.interval&&!this.paused&&(this.interval=setInterval(a.proxy(this.next,this),this.options.interval)),this},b.prototype.getActiveIndex=function(){return this.$active=this.$element.find(".item.active"),this.$items=this.$active.parent().children(),this.$items.index(this.$active)},b.prototype.to=function(b){var c=this,d=this.getActiveIndex();return b>this.$items.length-1||0>b?void 0:this.sliding?this.$element.one("slid.bs.carousel",function(){c.to(b)}):d==b?this.pause().cycle():this.slide(b>d?"next":"prev",a(this.$items[b]))},b.prototype.pause=function(b){return b||(this.paused=!0),this.$element.find(".next, .prev").length&&a.support.transition.end&&(this.$element.trigger(a.support.transition.end),this.cycle(!0)),this.interval=clearInterval(this.interval),this},b.prototype.next=function(){return this.sliding?void 0:this.slide("next")},b.prototype.prev=function(){return this.sliding?void 0:this.slide("prev")},b.prototype.slide=function(b,c){var d=this.$element.find(".item.active"),e=c||d[b](),f=this.interval,g="next"==b?"left":"right",h="next"==b?"first":"last",i=this;if(!e.length){if(!this.options.wrap)return;e=this.$element.find(".item")[h]()}this.sliding=!0,f&&this.pause();var j=a.Event("slide.bs.carousel",{relatedTarget:e[0],direction:g});if(!e.hasClass("active")){if(this.$indicators.length&&(this.$indicators.find(".active").removeClass("active"),this.$element.one("slid.bs.carousel",function(){var b=a(i.$indicators.children()[i.getActiveIndex()]);b&&b.addClass("active")})),a.support.transition&&this.$element.hasClass("slide")){if(this.$element.trigger(j),j.isDefaultPrevented())return;e.addClass(b),e[0].offsetWidth,d.addClass(g),e.addClass(g),d.one(a.support.transition.end,function(){e.removeClass([b,g].join(" ")).addClass("active"),d.removeClass(["active",g].join(" ")),i.sliding=!1,setTimeout(function(){i.$element.trigger("slid.bs.carousel")},0)}).emulateTransitionEnd(600)}else{if(this.$element.trigger(j),j.isDefaultPrevented())return;d.removeClass("active"),e.addClass("active"),this.sliding=!1,this.$element.trigger("slid.bs.carousel")}return f&&this.cycle(),this}};var c=a.fn.carousel;a.fn.carousel=function(c){return this.each(function(){var d=a(this),e=d.data("bs.carousel"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c),g="string"==typeof c?c:f.slide;e||d.data("bs.carousel",e=new b(this,f)),"number"==typeof c?e.to(c):g?e[g]():f.interval&&e.pause().cycle()})},a.fn.carousel.Constructor=b,a.fn.carousel.noConflict=function(){return a.fn.carousel=c,this},a(document).on("click.bs.carousel.data-api","[data-slide], [data-slide-to]",function(b){var c,d=a(this),e=a(d.attr("data-target")||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,"")),f=a.extend({},e.data(),d.data()),g=d.attr("data-slide-to");g&&(f.interval=!1),e.carousel(f),(g=d.attr("data-slide-to"))&&e.data("bs.carousel").to(g),b.preventDefault()}),a(window).on("load",function(){a('[data-ride="carousel"]').each(function(){var b=a(this);b.carousel(b.data())})})}(jQuery),+function(a){"use strict";var b=function(c,d){this.$element=a(c),this.options=a.extend({},b.DEFAULTS,d),this.transitioning=null,this.options.parent&&(this.$parent=a(this.options.parent)),this.options.toggle&&this.toggle()};b.DEFAULTS={toggle:!0},b.prototype.dimension=function(){var a=this.$element.hasClass("width");return a?"width":"height"},b.prototype.show=function(){if(!this.transitioning&&!this.$element.hasClass("in")){var b=a.Event("show.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.$parent&&this.$parent.find("> .panel > .in");if(c&&c.length){var d=c.data("bs.collapse");if(d&&d.transitioning)return;c.collapse("hide"),d||c.data("bs.collapse",null)}var e=this.dimension();this.$element.removeClass("collapse").addClass("collapsing")[e](0),this.transitioning=1;var f=function(){this.$element.removeClass("collapsing").addClass("in")[e]("auto"),this.transitioning=0,this.$element.trigger("shown.bs.collapse")};if(!a.support.transition)return f.call(this);var g=a.camelCase(["scroll",e].join("-"));this.$element.one(a.support.transition.end,a.proxy(f,this)).emulateTransitionEnd(350)[e](this.$element[0][g])}}},b.prototype.hide=function(){if(!this.transitioning&&this.$element.hasClass("in")){var b=a.Event("hide.bs.collapse");if(this.$element.trigger(b),!b.isDefaultPrevented()){var c=this.dimension();this.$element[c](this.$element[c]())[0].offsetHeight,this.$element.addClass("collapsing").removeClass("collapse").removeClass("in"),this.transitioning=1;var d=function(){this.transitioning=0,this.$element.trigger("hidden.bs.collapse").removeClass("collapsing").addClass("collapse")};return a.support.transition?void this.$element[c](0).one(a.support.transition.end,a.proxy(d,this)).emulateTransitionEnd(350):d.call(this)}}},b.prototype.toggle=function(){this[this.$element.hasClass("in")?"hide":"show"]()};var c=a.fn.collapse;a.fn.collapse=function(c){return this.each(function(){var d=a(this),e=d.data("bs.collapse"),f=a.extend({},b.DEFAULTS,d.data(),"object"==typeof c&&c);e||d.data("bs.collapse",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.collapse.Constructor=b,a.fn.collapse.noConflict=function(){return a.fn.collapse=c,this},a(document).on("click.bs.collapse.data-api","[data-toggle=collapse]",function(b){var c,d=a(this),e=d.attr("data-target")||b.preventDefault()||(c=d.attr("href"))&&c.replace(/.*(?=#[^\s]+$)/,""),f=a(e),g=f.data("bs.collapse"),h=g?"toggle":d.data(),i=d.attr("data-parent"),j=i&&a(i);g&&g.transitioning||(j&&j.find('[data-toggle=collapse][data-parent="'+i+'"]').not(d).addClass("collapsed"),d[f.hasClass("in")?"addClass":"removeClass"]("collapsed")),f.collapse(h)})}(jQuery),+function(a){"use strict";function b(){a(d).remove(),a(e).each(function(b){var d=c(a(this));d.hasClass("open")&&(d.trigger(b=a.Event("hide.bs.dropdown")),b.isDefaultPrevented()||d.removeClass("open").trigger("hidden.bs.dropdown"))})}function c(b){var c=b.attr("data-target");c||(c=b.attr("href"),c=c&&/#/.test(c)&&c.replace(/.*(?=#[^\s]*$)/,""));var d=c&&a(c);return d&&d.length?d:b.parent()}var d=".dropdown-backdrop",e="[data-toggle=dropdown]",f=function(b){a(b).on("click.bs.dropdown",this.toggle)};f.prototype.toggle=function(d){var e=a(this);if(!e.is(".disabled, :disabled")){var f=c(e),g=f.hasClass("open");if(b(),!g){if("ontouchstart"in document.documentElement&&!f.closest(".navbar-nav").length&&a('<div class="dropdown-backdrop"/>').insertAfter(a(this)).on("click",b),f.trigger(d=a.Event("show.bs.dropdown")),d.isDefaultPrevented())return;f.toggleClass("open").trigger("shown.bs.dropdown"),e.focus()}return!1}},f.prototype.keydown=function(b){if(/(38|40|27)/.test(b.keyCode)){var d=a(this);if(b.preventDefault(),b.stopPropagation(),!d.is(".disabled, :disabled")){var f=c(d),g=f.hasClass("open");if(!g||g&&27==b.keyCode)return 27==b.which&&f.find(e).focus(),d.click();var h=a("[role=menu] li:not(.divider):visible a",f);if(h.length){var i=h.index(h.filter(":focus"));38==b.keyCode&&i>0&&i--,40==b.keyCode&&i<h.length-1&&i++,~i||(i=0),h.eq(i).focus()}}}};var g=a.fn.dropdown;a.fn.dropdown=function(b){return this.each(function(){var c=a(this),d=c.data("bs.dropdown");d||c.data("bs.dropdown",d=new f(this)),"string"==typeof b&&d[b].call(c)})},a.fn.dropdown.Constructor=f,a.fn.dropdown.noConflict=function(){return a.fn.dropdown=g,this},a(document).on("click.bs.dropdown.data-api",b).on("click.bs.dropdown.data-api",".dropdown form",function(a){a.stopPropagation()}).on("click.bs.dropdown.data-api",e,f.prototype.toggle).on("keydown.bs.dropdown.data-api",e+", [role=menu]",f.prototype.keydown)}(jQuery),+function(a){"use strict";var b=function(b,c){this.options=c,this.$element=a(b),this.$backdrop=this.isShown=null,this.options.remote&&this.$element.load(this.options.remote)};b.DEFAULTS={backdrop:!0,keyboard:!0,show:!0},b.prototype.toggle=function(a){return this[this.isShown?"hide":"show"](a)},b.prototype.show=function(b){var c=this,d=a.Event("show.bs.modal",{relatedTarget:b});this.$element.trigger(d),this.isShown||d.isDefaultPrevented()||(this.isShown=!0,this.escape(),this.$element.on("click.dismiss.modal",'[data-dismiss="modal"]',a.proxy(this.hide,this)),this.backdrop(function(){var d=a.support.transition&&c.$element.hasClass("fade");c.$element.parent().length||c.$element.appendTo(document.body),c.$element.show(),d&&c.$element[0].offsetWidth,c.$element.addClass("in").attr("aria-hidden",!1),c.enforceFocus();var e=a.Event("shown.bs.modal",{relatedTarget:b});d?c.$element.find(".modal-dialog").one(a.support.transition.end,function(){c.$element.focus().trigger(e)}).emulateTransitionEnd(300):c.$element.focus().trigger(e)}))},b.prototype.hide=function(b){b&&b.preventDefault(),b=a.Event("hide.bs.modal"),this.$element.trigger(b),this.isShown&&!b.isDefaultPrevented()&&(this.isShown=!1,this.escape(),a(document).off("focusin.bs.modal"),this.$element.removeClass("in").attr("aria-hidden",!0).off("click.dismiss.modal"),a.support.transition&&this.$element.hasClass("fade")?this.$element.one(a.support.transition.end,a.proxy(this.hideModal,this)).emulateTransitionEnd(300):this.hideModal())},b.prototype.enforceFocus=function(){a(document).off("focusin.bs.modal").on("focusin.bs.modal",a.proxy(function(a){this.$element[0]===a.target||this.$element.has(a.target).length||this.$element.focus()},this))},b.prototype.escape=function(){this.isShown&&this.options.keyboard?this.$element.on("keyup.dismiss.bs.modal",a.proxy(function(a){27==a.which&&this.hide()},this)):this.isShown||this.$element.off("keyup.dismiss.bs.modal")},b.prototype.hideModal=function(){var a=this;this.$element.hide(),this.backdrop(function(){a.removeBackdrop(),a.$element.trigger("hidden.bs.modal")})},b.prototype.removeBackdrop=function(){this.$backdrop&&this.$backdrop.remove(),this.$backdrop=null},b.prototype.backdrop=function(b){var c=this.$element.hasClass("fade")?"fade":"";if(this.isShown&&this.options.backdrop){var d=a.support.transition&&c;if(this.$backdrop=a('<div class="modal-backdrop '+c+'" />').appendTo(document.body),this.$element.on("click.dismiss.modal",a.proxy(function(a){a.target===a.currentTarget&&("static"==this.options.backdrop?this.$element[0].focus.call(this.$element[0]):this.hide.call(this))},this)),d&&this.$backdrop[0].offsetWidth,this.$backdrop.addClass("in"),!b)return;d?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()}else!this.isShown&&this.$backdrop?(this.$backdrop.removeClass("in"),a.support.transition&&this.$element.hasClass("fade")?this.$backdrop.one(a.support.transition.end,b).emulateTransitionEnd(150):b()):b&&b()};var c=a.fn.modal;a.fn.modal=function(c,d){return this.each(function(){var e=a(this),f=e.data("bs.modal"),g=a.extend({},b.DEFAULTS,e.data(),"object"==typeof c&&c);f||e.data("bs.modal",f=new b(this,g)),"string"==typeof c?f[c](d):g.show&&f.show(d)})},a.fn.modal.Constructor=b,a.fn.modal.noConflict=function(){return a.fn.modal=c,this},a(document).on("click.bs.modal.data-api",'[data-toggle="modal"]',function(b){var c=a(this),d=c.attr("href"),e=a(c.attr("data-target")||d&&d.replace(/.*(?=#[^\s]+$)/,"")),f=e.data("modal")?"toggle":a.extend({remote:!/#/.test(d)&&d},e.data(),c.data());b.preventDefault(),e.modal(f,this).one("hide",function(){c.is(":visible")&&c.focus()})}),a(document).on("show.bs.modal",".modal",function(){a(document.body).addClass("modal-open")}).on("hidden.bs.modal",".modal",function(){a(document.body).removeClass("modal-open")})}(jQuery),+function(a){"use strict";var b=function(a,b){this.type=this.options=this.enabled=this.timeout=this.hoverState=this.$element=null,this.init("tooltip",a,b)};b.DEFAULTS={animation:!0,placement:"top",selector:!1,template:'<div class="tooltip"><div class="tooltip-arrow"></div><div class="tooltip-inner"></div></div>',trigger:"hover focus",title:"",delay:0,html:!1,container:!1},b.prototype.init=function(b,c,d){this.enabled=!0,this.type=b,this.$element=a(c),this.options=this.getOptions(d);for(var e=this.options.trigger.split(" "),f=e.length;f--;){var g=e[f];if("click"==g)this.$element.on("click."+this.type,this.options.selector,a.proxy(this.toggle,this));else if("manual"!=g){var h="hover"==g?"mouseenter":"focus",i="hover"==g?"mouseleave":"blur";this.$element.on(h+"."+this.type,this.options.selector,a.proxy(this.enter,this)),this.$element.on(i+"."+this.type,this.options.selector,a.proxy(this.leave,this))}}this.options.selector?this._options=a.extend({},this.options,{trigger:"manual",selector:""}):this.fixTitle()},b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.getOptions=function(b){return b=a.extend({},this.getDefaults(),this.$element.data(),b),b.delay&&"number"==typeof b.delay&&(b.delay={show:b.delay,hide:b.delay}),b},b.prototype.getDelegateOptions=function(){var b={},c=this.getDefaults();return this._options&&a.each(this._options,function(a,d){c[a]!=d&&(b[a]=d)}),b},b.prototype.enter=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="in",c.options.delay&&c.options.delay.show?void(c.timeout=setTimeout(function(){"in"==c.hoverState&&c.show()},c.options.delay.show)):c.show()},b.prototype.leave=function(b){var c=b instanceof this.constructor?b:a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type);return clearTimeout(c.timeout),c.hoverState="out",c.options.delay&&c.options.delay.hide?void(c.timeout=setTimeout(function(){"out"==c.hoverState&&c.hide()},c.options.delay.hide)):c.hide()},b.prototype.show=function(){var b=a.Event("show.bs."+this.type);if(this.hasContent()&&this.enabled){if(this.$element.trigger(b),b.isDefaultPrevented())return;var c=this.tip();this.setContent(),this.options.animation&&c.addClass("fade");var d="function"==typeof this.options.placement?this.options.placement.call(this,c[0],this.$element[0]):this.options.placement,e=/\s?auto?\s?/i,f=e.test(d);f&&(d=d.replace(e,"")||"top"),c.detach().css({top:0,left:0,display:"block"}).addClass(d),this.options.container?c.appendTo(this.options.container):c.insertAfter(this.$element);var g=this.getPosition(),h=c[0].offsetWidth,i=c[0].offsetHeight;if(f){var j=this.$element.parent(),k=d,l=document.documentElement.scrollTop||document.body.scrollTop,m="body"==this.options.container?window.innerWidth:j.outerWidth(),n="body"==this.options.container?window.innerHeight:j.outerHeight(),o="body"==this.options.container?0:j.offset().left;d="bottom"==d&&g.top+g.height+i-l>n?"top":"top"==d&&g.top-l-i<0?"bottom":"right"==d&&g.right+h>m?"left":"left"==d&&g.left-h<o?"right":d,c.removeClass(k).addClass(d)}var p=this.getCalculatedOffset(d,g,h,i);this.applyPlacement(p,d),this.$element.trigger("shown.bs."+this.type)}},b.prototype.applyPlacement=function(a,b){var c,d=this.tip(),e=d[0].offsetWidth,f=d[0].offsetHeight,g=parseInt(d.css("margin-top"),10),h=parseInt(d.css("margin-left"),10);isNaN(g)&&(g=0),isNaN(h)&&(h=0),a.top=a.top+g,a.left=a.left+h,d.offset(a).addClass("in");var i=d[0].offsetWidth,j=d[0].offsetHeight;if("top"==b&&j!=f&&(c=!0,a.top=a.top+f-j),/bottom|top/.test(b)){var k=0;a.left<0&&(k=-2*a.left,a.left=0,d.offset(a),i=d[0].offsetWidth,j=d[0].offsetHeight),this.replaceArrow(k-e+i,i,"left")}else this.replaceArrow(j-f,j,"top");c&&d.offset(a)},b.prototype.replaceArrow=function(a,b,c){this.arrow().css(c,a?50*(1-a/b)+"%":"")},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle();a.find(".tooltip-inner")[this.options.html?"html":"text"](b),a.removeClass("fade in top bottom left right")},b.prototype.hide=function(){function b(){"in"!=c.hoverState&&d.detach()}var c=this,d=this.tip(),e=a.Event("hide.bs."+this.type);return this.$element.trigger(e),e.isDefaultPrevented()?void 0:(d.removeClass("in"),a.support.transition&&this.$tip.hasClass("fade")?d.one(a.support.transition.end,b).emulateTransitionEnd(150):b(),this.$element.trigger("hidden.bs."+this.type),this)},b.prototype.fixTitle=function(){var a=this.$element;(a.attr("title")||"string"!=typeof a.attr("data-original-title"))&&a.attr("data-original-title",a.attr("title")||"").attr("title","")},b.prototype.hasContent=function(){return this.getTitle()},b.prototype.getPosition=function(){var b=this.$element[0];return a.extend({},"function"==typeof b.getBoundingClientRect?b.getBoundingClientRect():{width:b.offsetWidth,height:b.offsetHeight},this.$element.offset())},b.prototype.getCalculatedOffset=function(a,b,c,d){return"bottom"==a?{top:b.top+b.height,left:b.left+b.width/2-c/2}:"top"==a?{top:b.top-d,left:b.left+b.width/2-c/2}:"left"==a?{top:b.top+b.height/2-d/2,left:b.left-c}:{top:b.top+b.height/2-d/2,left:b.left+b.width}},b.prototype.getTitle=function(){var a,b=this.$element,c=this.options;return a=b.attr("data-original-title")||("function"==typeof c.title?c.title.call(b[0]):c.title)},b.prototype.tip=function(){return this.$tip=this.$tip||a(this.options.template)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".tooltip-arrow")},b.prototype.validate=function(){this.$element[0].parentNode||(this.hide(),this.$element=null,this.options=null)},b.prototype.enable=function(){this.enabled=!0},b.prototype.disable=function(){this.enabled=!1},b.prototype.toggleEnabled=function(){this.enabled=!this.enabled},b.prototype.toggle=function(b){var c=b?a(b.currentTarget)[this.type](this.getDelegateOptions()).data("bs."+this.type):this;c.tip().hasClass("in")?c.leave(c):c.enter(c)},b.prototype.destroy=function(){this.hide().$element.off("."+this.type).removeData("bs."+this.type)};var c=a.fn.tooltip;a.fn.tooltip=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tooltip"),f="object"==typeof c&&c;e||d.data("bs.tooltip",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.tooltip.Constructor=b,a.fn.tooltip.noConflict=function(){return a.fn.tooltip=c,this}}(jQuery),+function(a){"use strict";var b=function(a,b){this.init("popover",a,b)};if(!a.fn.tooltip)throw new Error("Popover requires tooltip.js");b.DEFAULTS=a.extend({},a.fn.tooltip.Constructor.DEFAULTS,{placement:"right",trigger:"click",content:"",template:'<div class="popover"><div class="arrow"></div><h3 class="popover-title"></h3><div class="popover-content"></div></div>'}),b.prototype=a.extend({},a.fn.tooltip.Constructor.prototype),b.prototype.constructor=b,b.prototype.getDefaults=function(){return b.DEFAULTS},b.prototype.setContent=function(){var a=this.tip(),b=this.getTitle(),c=this.getContent();a.find(".popover-title")[this.options.html?"html":"text"](b),a.find(".popover-content")[this.options.html?"html":"text"](c),a.removeClass("fade top bottom left right in"),a.find(".popover-title").html()||a.find(".popover-title").hide()},b.prototype.hasContent=function(){return this.getTitle()||this.getContent()},b.prototype.getContent=function(){var a=this.$element,b=this.options;return a.attr("data-content")||("function"==typeof b.content?b.content.call(a[0]):b.content)},b.prototype.arrow=function(){return this.$arrow=this.$arrow||this.tip().find(".arrow")},b.prototype.tip=function(){return this.$tip||(this.$tip=a(this.options.template)),this.$tip};var c=a.fn.popover;a.fn.popover=function(c){return this.each(function(){var d=a(this),e=d.data("bs.popover"),f="object"==typeof c&&c;e||d.data("bs.popover",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.popover.Constructor=b,a.fn.popover.noConflict=function(){return a.fn.popover=c,this}}(jQuery),+function(a){"use strict";function b(c,d){var e,f=a.proxy(this.process,this);this.$element=a(a(c).is("body")?window:c),this.$body=a("body"),this.$scrollElement=this.$element.on("scroll.bs.scroll-spy.data-api",f),this.options=a.extend({},b.DEFAULTS,d),this.selector=(this.options.target||(e=a(c).attr("href"))&&e.replace(/.*(?=#[^\s]+$)/,"")||"")+" .nav li > a",this.offsets=a([]),this.targets=a([]),this.activeTarget=null,this.refresh(),this.process()}b.DEFAULTS={offset:10},b.prototype.refresh=function(){var b=this.$element[0]==window?"offset":"position";this.offsets=a([]),this.targets=a([]);var c=this;this.$body.find(this.selector).map(function(){var d=a(this),e=d.data("target")||d.attr("href"),f=/^#\w/.test(e)&&a(e);return f&&f.length&&[[f[b]().top+(!a.isWindow(c.$scrollElement.get(0))&&c.$scrollElement.scrollTop()),e]]||null}).sort(function(a,b){return a[0]-b[0]}).each(function(){c.offsets.push(this[0]),c.targets.push(this[1])})},b.prototype.process=function(){var a,b=this.$scrollElement.scrollTop()+this.options.offset,c=this.$scrollElement[0].scrollHeight||this.$body[0].scrollHeight,d=c-this.$scrollElement.height(),e=this.offsets,f=this.targets,g=this.activeTarget;if(b>=d)return g!=(a=f.last()[0])&&this.activate(a);for(a=e.length;a--;)g!=f[a]&&b>=e[a]&&(!e[a+1]||b<=e[a+1])&&this.activate(f[a])},b.prototype.activate=function(b){this.activeTarget=b,a(this.selector).parents(".active").removeClass("active");var c=this.selector+'[data-target="'+b+'"],'+this.selector+'[href="'+b+'"]',d=a(c).parents("li").addClass("active");d.parent(".dropdown-menu").length&&(d=d.closest("li.dropdown").addClass("active")),d.trigger("activate.bs.scrollspy")};var c=a.fn.scrollspy;a.fn.scrollspy=function(c){return this.each(function(){var d=a(this),e=d.data("bs.scrollspy"),f="object"==typeof c&&c;e||d.data("bs.scrollspy",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.scrollspy.Constructor=b,a.fn.scrollspy.noConflict=function(){return a.fn.scrollspy=c,this},a(window).on("load",function(){a('[data-spy="scroll"]').each(function(){var b=a(this);b.scrollspy(b.data())})})}(jQuery),+function(a){"use strict";var b=function(b){this.element=a(b)};b.prototype.show=function(){var b=this.element,c=b.closest("ul:not(.dropdown-menu)"),d=b.data("target");if(d||(d=b.attr("href"),d=d&&d.replace(/.*(?=#[^\s]*$)/,"")),!b.parent("li").hasClass("active")){var e=c.find(".active:last a")[0],f=a.Event("show.bs.tab",{relatedTarget:e});if(b.trigger(f),!f.isDefaultPrevented()){var g=a(d);this.activate(b.parent("li"),c),this.activate(g,g.parent(),function(){b.trigger({type:"shown.bs.tab",relatedTarget:e})})}}},b.prototype.activate=function(b,c,d){function e(){f.removeClass("active").find("> .dropdown-menu > .active").removeClass("active"),b.addClass("active"),g?(b[0].offsetWidth,b.addClass("in")):b.removeClass("fade"),b.parent(".dropdown-menu")&&b.closest("li.dropdown").addClass("active"),d&&d()}var f=c.find("> .active"),g=d&&a.support.transition&&f.hasClass("fade");g?f.one(a.support.transition.end,e).emulateTransitionEnd(150):e(),f.removeClass("in")};var c=a.fn.tab;a.fn.tab=function(c){return this.each(function(){var d=a(this),e=d.data("bs.tab");e||d.data("bs.tab",e=new b(this)),"string"==typeof c&&e[c]()})},a.fn.tab.Constructor=b,a.fn.tab.noConflict=function(){return a.fn.tab=c,this},a(document).on("click.bs.tab.data-api",'[data-toggle="tab"], [data-toggle="pill"]',function(b){b.preventDefault(),a(this).tab("show")})}(jQuery),+function(a){"use strict";var b=function(c,d){this.options=a.extend({},b.DEFAULTS,d),this.$window=a(window).on("scroll.bs.affix.data-api",a.proxy(this.checkPosition,this)).on("click.bs.affix.data-api",a.proxy(this.checkPositionWithEventLoop,this)),this.$element=a(c),this.affixed=this.unpin=null,this.checkPosition()};b.RESET="affix affix-top affix-bottom",b.DEFAULTS={offset:0},b.prototype.checkPositionWithEventLoop=function(){setTimeout(a.proxy(this.checkPosition,this),1)},b.prototype.checkPosition=function(){if(this.$element.is(":visible")){var c=a(document).height(),d=this.$window.scrollTop(),e=this.$element.offset(),f=this.options.offset,g=f.top,h=f.bottom;"object"!=typeof f&&(h=g=f),"function"==typeof g&&(g=f.top()),"function"==typeof h&&(h=f.bottom());var i=null!=this.unpin&&d+this.unpin<=e.top?!1:null!=h&&e.top+this.$element.height()>=c-h?"bottom":null!=g&&g>=d?"top":!1;this.affixed!==i&&(this.unpin&&this.$element.css("top",""),this.affixed=i,this.unpin="bottom"==i?e.top-d:null,this.$element.removeClass(b.RESET).addClass("affix"+(i?"-"+i:"")),"bottom"==i&&this.$element.offset({top:document.body.offsetHeight-h-this.$element.height()}))}};var c=a.fn.affix;a.fn.affix=function(c){return this.each(function(){var d=a(this),e=d.data("bs.affix"),f="object"==typeof c&&c;e||d.data("bs.affix",e=new b(this,f)),"string"==typeof c&&e[c]()})},a.fn.affix.Constructor=b,a.fn.affix.noConflict=function(){return a.fn.affix=c,this},a(window).on("load",function(){a('[data-spy="affix"]').each(function(){var b=a(this),c=b.data();c.offset=c.offset||{},c.offsetBottom&&(c.offset.bottom=c.offsetBottom),c.offsetTop&&(c.offset.top=c.offsetTop),b.affix(c)})})}(jQuery),define("bootstrap",["jquery"],function(){}),require.config({optimize:"uglify2",preserveLicenseComments:!1,generateSourceMaps:!0,uglify2:{output:{beautify:!1},mangle:!1},paths:{jquery:"../bower_components/jquery/dist/jquery",bootstrap:"../bower_components/bootstrap/dist/js/bootstrap.min",angular:"../bower_components/angular/angular",angularScroll:"../bower_components/angular-infinite-scroll/angular-infinite-scroll",angularTouch:"../bower_components/angular-touch/angular-touch","angular-moment":"../bower_components/angular-moment/angular-moment",angularLocalStorage:"../bower_components/angularLocalStorage/src/angularLocalStorage",angularResource:"../bower_components/angular-resource/angular-resource",angularRoute:"../bower_components/angular-route/angular-route",angularSanitize:"../bower_components/angular-sanitize/angular-sanitize",angularCookies:"../bower_components/angular-cookies/angular-cookies",angularBootstrap:"../bower_components/angular-bootstrap/ui-bootstrap-tpls",angularReCaptcha:"../bower_components/angular-re-captcha/angular-re-captcha",lodash:"../bower_components/lodash/dist/lodash",text:"../bower_components/requirejs-text/text",moment:"../bower_components/moment/moment",angularFileUpload:"../bower_components/ng-file-upload/angular-file-upload",ngTagsInput:"../bower_components/ng-tags-input/ng-tags-input",mentio:"../bower_components/ment.io/dist/mentio",jwPlayer:"../bower_components/jwplayer/jwplayer",isMobile:"../bower_components/isMobile/isMobile","angular-messages":"../bower_components/angular-messages/angular-messages",canvasToBlobPolyfill:"../bower_components/blueimp-canvas-to-blob/js/canvas-to-blob"},shim:{angular:{deps:["jquery"],exports:"angular"},angularReCaptcha:{deps:["angular"]},angularRoute:{deps:["angular"]},angularLocalStorage:{deps:["angular","angularCookies"]},angularResource:{deps:["angular"]},angularCookies:{deps:["angular"]},angularBootstrap:{deps:["angular"]},angularTouch:{deps:["angular"]},angularFileUpload:{deps:["angular"]},ngTagsInput:{deps:["angular"]},mentio:{deps:["angular"]},bootstrap:{deps:["jquery"]},"angular-moment":{deps:["moment","angular"]},angularScroll:{deps:["angular"]},jwPlayer:{exports:"jwplayer"},"angular-messages":{deps:["angular"]},canvasToBlobPolyfill:{exports:"canvasToBlobPolyfill"}}}),window.console||(window.console=window.console||function(){var c={};return c.log=c.warn=c.debug=c.info=c.error=c.time=c.dir=c.profile=c.clear=c.exception=c.trace=c.assert=function(){},c}()),require(["jquery","angular","app/main","bootstrap"],function($,angular,app){"use strict";var $html=angular.element(document.getElementsByTagName("html")[0]);angular.element().ready(function(){angular.bootstrap($html,[app.name])
})}),define("main",function(){});
//# sourceMappingURL=main.js
//# sourceMappingURL=main.js.map