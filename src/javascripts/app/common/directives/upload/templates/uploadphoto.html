<form class="form-photo-post" novalidate="" name="photoPostForm">
    <div class="title clearfix row">
      <label for="photo-title" class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Title</label>
      <div class="col col-md-7 separator">
        <input ng-model="data.title" type="text" name="title" id="photo-title"
          ng-class="{'has-error':photoPostForm.title.$invalid && photoPostForm.title.$dirty}"
          ng-maxlength="100" autocomplete="off"
          required/>
      </div>
      <span class="col col-md-3 placeholder">100 character max</span>
    </div>

    <div ng-if="data.files" class="photo-upload-image-preview">
      <div class="photo-upload-button">
        <button type="button" ng-click="discard()">Discard</button>
      </div>
      <img class="upload-thumb" ng-src="{{data.thumb}}"/>
    </div>

    <div ng-if="!data.files" class="photo-upload">
      <div ng-file-drop ng-file-select ng-file-change="onFileChange($files)"
          ng-model="data.files" class="drop-box photo-dragdrop"
          drag-over-class="dragover" allow-dir="true" accept="image/*">
          Drop images here or click to upload
      </div>
    </div>

    <div class="description">
      <div class="description-wrapper clearfix">
        <label for="photo-description" class="col col-md-6 separator name-field"><i class="fa fa-pencil"></i> Description</label>
        <span class="col col-md-6 text-right placeholder">Description goes here 1000 characters max</span>
        <div class="col col-md-12">
          <mention-textarea ng-model="data.description" type="text" class="form-control"
              id="photo-description"
              ng-class="{'has-error':photoPostForm.description.$error.required && photoPostForm.description.$dirty}"
              ng-maxlength="1000" required></mention-textarea>
        </div>
      </div>
    </div>

    <div class="tags-field">
      <div class="tags-wrapper clearfix">
        <label class="col col-md-2 name-field"><i class="fa fa-pencil"></i> Tags</label>
        <div class="col col-md-7 separator">
          <tags-field tags="data.tags"></tags-field>
        </div>
        <span class="col col-md-3 placeholder">Seperate by space</span>
      </div>
    </div>

    <div ng-if="state === 'error'">
      {{message}}
    </div>

    <div class="col col-md-12 text-center actions">
      <button class="modal-action" ng-disabled="photoPostForm.$invalid || onAjax"
              ng-click="upload()">
          Publish
      </button>

      <button class="modal-action" ng-click="closeDialog()">
          close
      </button>
    </div>
</form>
